!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=53)}([function(e,t,i){"use strict";i.d(t,"a",function(){return n});class n{capFirst(e){return(e||"").charAt(0).toUpperCase()+(e||"").slice(1)}getRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}generateName(){var e=["abandoned","able","absolute","adorable","adventurous","academic","acceptable","acclaimed","accomplished","accurate","aching","acidic","acrobatic","active","actual","adept","admirable","admired","adolescent","adorable","adored","advanced","afraid","affectionate","aged","aggravating","aggressive","agile","agitated","agonizing","agreeable","ajar","alarmed","alarming","alert","alienated","alive","all","altruistic","amazing","ambitious","ample","amused","amusing","anchored","ancient","angelic","angry","anguished","animated","annual","another","antique","anxious","any","apprehensive","appropriate","apt","arctic","arid","aromatic","artistic","ashamed","assured","astonishing","athletic","attached","attentive","attractive","austere","authentic","authorized","automatic","avaricious","average","aware","awesome","awful","awkward","babyish","bad","back","baggy","bare","barren","basic","beautiful","belated","beloved","beneficial","better","best","bewitched","big","big-hearted","biodegradable","bite-sized","bitter","black","black-and-white","bland","blank","blaring","bleak","blind","blissful","blond","blue","blushing","bogus","boiling","bold","bony","boring","bossy","both","bouncy","bountiful","bowed","brave","breakable","brief","bright","brilliant","brisk","broken","bronze","brown","bruised","bubbly","bulky","bumpy","buoyant","burdensome","burly","bustling","busy","buttery","buzzing","calculating","calm","candid","canine","capital","carefree","careful","careless","caring","cautious","cavernous","celebrated","charming","cheap","cheerful","cheery","chief","chilly","chubby","circular","classic","clean","clear","clear-cut","clever","close","closed","cloudy","clueless","clumsy","cluttered","coarse","cold","colorful","colorless","colossal","comfortable","common","compassionate","competent","complete","complex","complicated","composed","concerned","concrete","confused","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","coordinated","corny","corrupt","costly","courageous","courteous","crafty","crazy","creamy","creative","creepy","criminal","crisp","critical","crooked","crowded","cruel","crushing","cuddly","cultivated","cultured","cumbersome","curly","curvy","cute","cylindrical","damaged","damp","dangerous","dapper","daring","darling","dark","dazzling","dead","deadly","deafening","dear","dearest","decent","decimal","decisive","deep","defenseless","defensive","defiant","deficient","definite","definitive","delayed","delectable","delicious","delightful","delirious","demanding","dense","dental","dependable","dependent","descriptive","deserted","detailed","determined","devoted","different","difficult","digital","diligent","dim","dimpled","dimwitted","direct","disastrous","discrete","disfigured","disgusting","disloyal","dismal","distant","downright","dreary","dirty","disguised","dishonest","dismal","distant","distinct","distorted","dizzy","dopey","doting","double","downright","drab","drafty","dramatic","dreary","droopy","dry","dual","dull","dutiful","each","eager","earnest","early","easy","easy-going","ecstatic","edible","educated","elaborate","elastic","elated","elderly","electric","elegant","elementary","elliptical","embarrassed","embellished","eminent","emotional","empty","enchanted","enchanting","energetic","enlightened","enormous","enraged","entire","envious","equal","equatorial","essential","esteemed","ethical","euphoric","even","evergreen","everlasting","every","evil","exalted","excellent","exemplary","exhausted","excitable","excited","exciting","exotic","expensive","experienced","expert","extraneous","extroverted","extra-large","extra-small","fabulous","failing","faint","fair","faithful","fake","false","familiar","famous","fancy","fantastic","far","faraway","far-flung","far-off","fast","fat","fatal","fatherly","favorable","favorite","fearful","fearless","feisty","feline","female","feminine","few","fickle","filthy","fine","finished","firm","first","firsthand","fitting","fixed","flaky","flamboyant","flashy","flat","flawed","flawless","flickering","flimsy","flippant","flowery","fluffy","fluid","flustered","focused","fond","foolhardy","foolish","forceful","forked","formal","forsaken","forthright","fortunate","fragrant","frail","frank","frayed","free","French","fresh","frequent","friendly","frightened","frightening","frigid","frilly","frizzy","frivolous","front","frosty","frozen","frugal","fruitful","full","fumbling","functional","funny","fussy","fuzzy","gargantuan","gaseous","general","generous","gentle","genuine","giant","giddy","gigantic","gifted","giving","glamorous","glaring","glass","gleaming","gleeful","glistening","glittering","gloomy","glorious","glossy","glum","golden","good","good-natured","gorgeous","graceful","gracious","grand","grandiose","granular","grateful","grave","gray","great","greedy","green","gregarious","grim","grimy","gripping","grizzled","gross","grotesque","grouchy","grounded","growing","growling","grown","grubby","gruesome","grumpy","guilty","gullible","gummy","hairy","half","handmade","handsome","handy","happy","happy-go-lucky","hard","hard-to-find","harmful","harmless","harmonious","harsh","hasty","hateful","haunting","healthy","heartfelt","hearty","heavenly","heavy","hefty","helpful","helpless","hidden","hideous","high","high-level","hilarious","hoarse","hollow","homely","honest","honorable","honored","hopeful","horrible","hospitable","hot","huge","humble","humiliating","humming","humongous","hungry","hurtful","husky","icky","icy","ideal","idealistic","identical","idle","idiotic","idolized","ignorant","ill","illegal","ill-fated","ill-informed","illiterate","illustrious","imaginary","imaginative","immaculate","immaterial","immediate","immense","impassioned","impeccable","impartial","imperfect","imperturbable","impish","impolite","important","impossible","impractical","impressionable","impressive","improbable","impure","inborn","incomparable","incompatible","incomplete","inconsequential","incredible","indelible","inexperienced","indolent","infamous","infantile","infatuated","inferior","infinite","informal","innocent","insecure","insidious","insignificant","insistent","instructive","insubstantial","intelligent","intent","intentional","interesting","internal","international","intrepid","ironclad","irresponsible","irritating","itchy","jaded","jagged","jam-packed","jaunty","jealous","jittery","joint","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbo","junior","jumpy","juvenile","kaleidoscopic","keen","key","kind","kindhearted","kindly","klutzy","knobby","knotty","knowledgeable","knowing","known","kooky","kosher","lame","lanky","large","last","lasting","late","lavish","lawful","lazy","leading","lean","leafy","left","legal","legitimate","light","lighthearted","likable","likely","limited","limp","limping","linear","lined","liquid","little","live","lively","livid","loathsome","lone","lonely","long","long-term","loose","lopsided","lost","loud","lovable","lovely","loving","low","loyal","lucky","lumbering","luminous","lumpy","lustrous","luxurious","mad","made-up","magnificent","majestic","major","male","mammoth","married","marvelous","masculine","massive","mature","meager","mealy","mean","measly","meaty","medical","mediocre","medium","meek","mellow","melodic","memorable","menacing","merry","messy","metallic","mild","milky","mindless","miniature","minor","minty","miserable","miserly","misguided","misty","mixed","modern","modest","moist","monstrous","monthly","monumental","moral","mortified","motherly","motionless","mountainous","muddy","muffled","multicolored","mundane","murky","mushy","musty","muted","mysterious","naive","narrow","nasty","natural","naughty","nautical","near","neat","necessary","needy","negative","neglected","negligible","neighboring","nervous","new","next","nice","nifty","nimble","nippy","nocturnal","noisy","nonstop","normal","notable","noted","noteworthy","novel","noxious","numb","nutritious","nutty","obedient","obese","oblong","oily","oblong","obvious","occasional","odd","oddball","offbeat","offensive","official","old","old-fashioned","only","open","optimal","optimistic","opulent","orange","orderly","organic","ornate","ornery","ordinary","original","other","our","outlying","outgoing","outlandish","outrageous","outstanding","oval","overcooked","overdue","overjoyed","overlooked","palatable","pale","paltry","parallel","parched","partial","passionate","past","pastel","peaceful","peppery","perfect","perfumed","periodic","perky","personal","pertinent","pesky","pessimistic","petty","phony","physical","piercing","pink","pitiful","plain","plaintive","plastic","playful","pleasant","pleased","pleasing","plump","plush","polished","polite","political","pointed","pointless","poised","poor","popular","portly","posh","positive","possible","potable","powerful","powerless","practical","precious","present","prestigious","pretty","precious","previous","pricey","prickly","primary","prime","pristine","private","prize","probable","productive","profitable","profuse","proper","proud","prudent","punctual","pungent","puny","pure","purple","pushy","putrid","puzzled","puzzling","quaint","qualified","quarrelsome","quarterly","queasy","querulous","questionable","quick","quick-witted","quiet","quintessential","quirky","quixotic","quizzical","radiant","ragged","rapid","rare","rash","raw","recent","reckless","rectangular","ready","real","realistic","reasonable","red","reflecting","regal","regular","reliable","relieved","remarkable","remorseful","remote","repentant","required","respectful","responsible","repulsive","revolving","rewarding","rich","rigid","right","ringed","ripe","roasted","robust","rosy","rotating","rotten","rough","round","rowdy","royal","rubbery","rundown","ruddy","rude","runny","rural","rusty","sad","safe","salty","same","sandy","sane","sarcastic","sardonic","satisfied","scaly","scarce","scared","scary","scented","scholarly","scientific","scornful","scratchy","scrawny","second","secondary","second-hand","secret","self-assured","self-reliant","selfish","sentimental","separate","serene","serious","serpentine","several","severe","shabby","shadowy","shady","shallow","shameful","shameless","sharp","shimmering","shiny","shocked","shocking","shoddy","short","short-term","showy","shrill","shy","sick","silent","silky","silly","silver","similar","simple","simplistic","sinful","single","sizzling","skeletal","skinny","sleepy","slight","slim","slimy","slippery","slow","slushy","small","smart","smoggy","smooth","smug","snappy","snarling","sneaky","sniveling","snoopy","sociable","soft","soggy","solid","somber","some","spherical","sophisticated","sore","sorrowful","soulful","soupy","sour","Spanish","sparkling","sparse","specific","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spotted","spry","square","squeaky","squiggly","stable","staid","stained","stale","standard","starchy","stark","starry","steep","sticky","stiff","stimulating","stingy","stormy","straight","strange","steel","strict","strident","striking","striped","strong","studious","stunning","stupendous","stupid","sturdy","stylish","subdued","submissive","substantial","subtle","suburban","sudden","sugary","sunny","super","superb","superficial","superior","supportive","sure-footed","surprised","suspicious","svelte","sweaty","sweet","sweltering","swift","sympathetic","tall","talkative","tame","tan","tangible","tart","tasty","tattered","taut","tedious","teeming","tempting","tender","tense","tepid","terrible","terrific","testy","thankful","that","these","thick","thin","third","thirsty","this","thorough","thorny","those","thoughtful","threadbare","thrifty","thunderous","tidy","tight","timely","tinted","tiny","tired","torn","total","tough","traumatic","treasured","tremendous","tragic","trained","tremendous","triangular","tricky","trifling","trim","trivial","troubled","true","trusting","trustworthy","trusty","truthful","tubby","turbulent","twin","ugly","ultimate","unacceptable","unaware","uncomfortable","uncommon","unconscious","understated","unequaled","uneven","unfinished","unfit","unfolded","unfortunate","unhappy","unhealthy","uniform","unimportant","unique","united","unkempt","unknown","unlawful","unlined","unlucky","unnatural","unpleasant","unrealistic","unripe","unruly","unselfish","unsightly","unsteady","unsung","untidy","untimely","untried","untrue","unused","unusual","unwelcome","unwieldy","unwilling","unwitting","unwritten","upbeat","upright","upset","urban","usable","used","useful","useless","utilized","utter","vacant","vague","vain","valid","valuable","vapid","variable","vast","velvety","venerated","vengeful","verifiable","vibrant","vicious","victorious","vigilant","vigorous","villainous","violet","violent","virtual","virtuous","visible","vital","vivacious","vivid","voluminous","wan","warlike","warm","warmhearted","warped","wary","wasteful","watchful","waterlogged","watery","wavy","wealthy","weak","weary","webbed","wee","weekly","weepy","weighty","weird","welcome","well-documented","well-groomed","well-informed","well-lit","well-made","well-off","well-to-do","well-worn","wet","which","whimsical","whirlwind","whispered","white","whole","whopping","wicked","wide","wide-eyed","wiggly","wild","willing","wilted","winding","windy","winged","wiry","wise","witty","wobbly","woeful","wonderful","wooden","woozy","wordy","worldly","worn","worried","worrisome","worse","worst","worthless","worthwhile","worthy","wrathful","wretched","writhing","wrong","wry","yawning","yearly","yellow","yellowish","young","youthful","yummy","zany","zealous","zesty","zigzag","rocky"];return this.capFirst(e[this.getRandomInt(0,e.length+1)])}}},function(e,t,i){"use strict";class n{constructor(e){this.scene_graph=e,this.store={_cannon:{bodies:[],meshes:[]},_peers:{}}}findByUUID(e,t,i){var n={},r=this;return"string"==typeof e&&(e=[e]),(i||this.scene_graph.container).traverse(function(i){i.userData.plusspace&&e.indexOf(i.userData.plusspace.object.uuid)>-1&&(n[i.userData.plusspace.object.uuid]=t?JSON.stringify(r.scene_graph.serialiseScene(i)):i)}),n}setupNetworking(){var e=this;this.scene_graph.context.socket.on("new-user",function(t){e.store._peers[t.userId]=t}),this.scene_graph.context.socket.on("all-users",function(t){var i=t.filter(function(t){return t.userId===e.scene_graph.context.user.userId});i.length&&t.filter(function(t){return t.userId!==e.scene_graph.context.user.userId&&t.connect_time<i[0].connect_time}).forEach(function(t){e.store._peers[t.userId]=t,e.store._peers[t.userId].peer||e.addPeer({userId:t.userId},!0,e.network_callback||function(){})})}),this.scene_graph.context.socket.emit("all-users"),this.scene_graph.context.socket.on("remove-user",function(t){delete e.store._peers[t.userId]}),this.scene_graph.context.socket.on("signal",function(t){e.store._peers[t.userId]&&e.store._peers[t.userId].peer||(e.store._peers[t.userId]={userId:t.userId},e.addPeer({userId:t.userId},!1,e.network_callback||function(){})),e.store._peers[t.userId].peer.signal(t.signal)})}addPeer(e,t,i){var n=this;if(e.userId!==this.scene_graph.context.user.userId){Object.keys(this.store._peers).filter(function(e){return!!n.store._peers[e]}).length>11&&console.warn("Maximum stream count of 12 achieved. Ignoring further requests.");var r=new SimplePeer({initiator:t,channelName:this.scene_graph.context.space.sid,reconnectTimer:500});r.on("signal",function(t){n.scene_graph.context.socket.emit("signal",{signal:t,userId:e.userId})}),n.store._peers[e.userId].peer=r,r.on("connect",function(){console.log("Shane's Editor: Network peer connection opened - ",e.userId),r.on("close",function(){delete n.store._peers[e.userId]}),r.on("data",function(t){try{i({userId:e.userId,data:new TextDecoder("utf-8").decode(t)})}catch(e){}})}),r.on("error",function(t){console.warn(t),delete n.store._peers[e.userId]})}}getPeers(){return Object.keys(this.store._peers)}sendToAll(e){var t=this;Object.keys(this.store._peers).forEach(function(i){t.store._peers[i].peer&&t.store._peers[i].peer.connected&&t.store._peers[i].peer.connected&&t.store._peers[i].peer.send(e)})}sendTo(e,t){this.store._peers[e]&&this.store._peers[e].peer&&this.store._peers[e].peer.send(t)}onMessage(e){this.network_callback=e}getSceneGraph(){return this.scene_graph}loadJS(e){var t=this;if(this.external_scripts=this.external_scripts||[],this.external_scripts.map(function(e){return e.url+e.loaded}).indexOf(e+"true")>-1)return Promise.resolve();var i=this.external_scripts.map(function(e){return e.url}).indexOf(e);if(i>-1)return new Promise(function(e){t.external_scripts[i].callbacks.push(e)});var n={url:e,loaded:!1,callbacks:[]};return this.external_scripts.push(n),new Promise(function(t){var i=document.createElement("script");i.src=e,i.onload=function(){n.loaded=!0,t(),n.callbacks.forEach(function(e){e()})},i.onreadystatechange=function(){n.loaded=!0,t(),n.callbacks.forEach(function(e){e()})},document.body.appendChild(i)})}portalUser(e){var t=this,i="string"==typeof e;return t.scene_graph.context.user&&!this.not_to_move?(this.not_to_move=!0,this.plusspaceTargetEntity||(this.plusspaceTargetEntity=new THREE.Object3D,this.scene_graph.context.simulation.scene.add(this.plusspaceTargetEntity),this.plusspaceTargetTrigger=new THREE.Object3D,this.scene_graph.context.simulation.scene.add(this.plusspaceTargetTrigger),this.plusspacePortal=new altspaceutil.behaviors.NativeComponent("n-portal",i?{targetSpace:e}:{},i?{}:{targetEntity:this.plusspaceTargetEntity}),this.plusspaceAttach=new altspaceutil.behaviors.NativeComponent("n-skeleton-parent",{index:0,part:"eye",side:"left",userId:t.scene_graph.context.user.userId}),this.plusspaceTargetTrigger.addBehaviors(this.plusspacePortal,this.plusspaceAttach),this.plusspaceTargetTrigger.scale.set(1e-5,1,1e-5),this.plusspaceTargetTrigger.position.set(0,-1e3,0)),i||(this.plusspaceTargetEntity.position.set(e.x,e.y,e.z),this.plusspacePortal.data.targetPosition=this.plusspaceTargetEntity.position),this.plusspaceTargetTrigger.position.set(0,0,0),new Promise(function(e){setTimeout(function(){t.plusspaceTargetTrigger.position.set(0,-1e3,0),t.not_to_move=!1,e()},2e3)})):Promise.reject("not_to_move")}getCannonWorld(){return this.cannonWorld||(this.cannonWorld=new CANNON.World),this.cannonWorld}getPortalSocket(){return this.scene_graph.context.portal_socket}bakeLight(e){return this.scene_graph.lighting.bakeVertexLighting(e,this.scene_graph.light)}resetCannonWorld(e){if(this.cannonWorld)for(var t=this.store._cannon.meshes.length,i=0;i<t;i++){this.cannonWorld.remove(this.store._cannon.bodies.pop());var n=this.store._cannon.meshes.pop();e.remove(n)}}addCannonMesh(e,t,i,n){this.cannonBodyAxisSwap(e);var r=new THREE.Object3D;i.add(r);for(var o=new THREE.MeshBasicMaterial(n?{visible:!1}:{side:THREE.DoubleSide,color:t,map:(new THREE.TextureLoader).load("/images/display_texture.png")}),a=0;a<e.shapes.length;a++){var s,l=e.shapes[a];switch(l.type){case CANNON.Shape.types.SPHERE:var u=new THREE.SphereGeometry(l.radius,16,16);s=new THREE.Mesh(u,o);break;case CANNON.Shape.types.PARTICLE:s=new THREE.Mesh(this.particleGeo,particleMaterial);var c=this.settings;s.scale.set(c.particleSize,c.particleSize,c.particleSize);break;case CANNON.Shape.types.PLANE:var d=new THREE.PlaneGeometry(10,10,4,4);s=new THREE.Object3D;var h=new THREE.Object3D,p=new THREE.Mesh(d,o);p.scale.set(100,100,100),h.add(p),s.add(h);break;case CANNON.Shape.types.BOX:var f=new THREE.BoxGeometry(2*l.halfExtents.x,2*l.halfExtents.y,2*l.halfExtents.z);s=new THREE.Mesh(f,o);break;case CANNON.Shape.types.CONVEXPOLYHEDRON:for(var m=new THREE.Geometry,_=0;_<l.vertices.length;_++){var g=l.vertices[_];m.vertices.push(new THREE.Vector3(g.x,g.y,g.z))}for(_=0;_<l.faces.length;_++)for(var b=l.faces[_],v=b[0],y=1;y<b.length-1;y++){var w=b[y],E=b[y+1];m.faces.push(new THREE.Face3(v,w,E))}m.computeBoundingSphere(),m.computeVertexNormals(),m.computeFaceNormals(),s=new THREE.Mesh(m,o);break;case CANNON.Shape.types.HEIGHTFIELD:d=new THREE.Geometry;for(var T=new CANNON.Vec3,j=new CANNON.Vec3,M=new CANNON.Vec3,S=0;S<l.data.length-1;S++)for(var k=0;k<l.data[S].length-1;k++)for(var x=0;x<2;x++){l.getConvexTrianglePillar(S,k,0===x),T.copy(l.pillarConvex.vertices[0]),j.copy(l.pillarConvex.vertices[1]),M.copy(l.pillarConvex.vertices[2]),T.vadd(l.pillarOffset,T),j.vadd(l.pillarOffset,j),M.vadd(l.pillarOffset,M),d.vertices.push(new THREE.Vector3(T.x,T.y,T.z),new THREE.Vector3(j.x,j.y,j.z),new THREE.Vector3(M.x,M.y,M.z));_=d.vertices.length-3;d.faces.push(new THREE.Face3(_,_+1,_+2))}d.computeBoundingSphere(),d.computeFaceNormals(),d.computeVertexNormals(),s=new THREE.Mesh(d,o);break;case CANNON.Shape.types.TRIMESH:for(d=new THREE.Geometry,T=new CANNON.Vec3,j=new CANNON.Vec3,M=new CANNON.Vec3,_=0;_<l.indices.length/3;_++){l.getTriangleVertices(_,T,j,M),d.vertices.push(new THREE.Vector3(T.x,T.y,T.z),new THREE.Vector3(j.x,j.y,j.z),new THREE.Vector3(M.x,M.y,M.z));y=d.vertices.length-3;d.faces.push(new THREE.Face3(y,y+1,y+2))}d.computeBoundingSphere(),d.computeFaceNormals(),d.computeVertexNormals(),s=new THREE.Mesh(d,o);break;default:throw"Visual type not recognized: "+l.type}var C=e.shapeOffsets[a],R=e.shapeOrientations[a];s.position.set(C.x,C.y,C.z),s.quaternion.set(R.x,R.y,R.z,R.w),r.add(s)}return this.store._cannon.bodies.push(e),this.store._cannon.meshes.push(r),r}cannonBodyAxisSwap(e){}updateCannonPhysics(){if(this.cannonWorld){var e=Date.now()/1e3;if(!this.lastCallTime)return this.cannonWorld.step(1/90),void(this.lastCallTime=e);var t=e-this.lastCallTime;this.cannonWorld.step(1/90,t,3),this.lastCallTime=e}for(var i=this.store._cannon.bodies.length,n=0;n<i;n++){var r=this.store._cannon.bodies[n],o=this.store._cannon.meshes[n];o.position.copy(r.position),r.quaternion&&o.quaternion.copy(r.quaternion)}}}class r{constructor(e){this.sceneGraph=e}makeMaterial(e){let t={};return new Promise(i=>{if(Object.keys(e).filter(function(e){return-1===["type","map","texture","lightTexture","normalMap","lightMap","envMap","alphaMap","aoMap","emissiveMap","metalnessMap","normalMap","roughnessMap","bumpMap"].indexOf(e)}).forEach(function(i){t[i]=e[i]}),e.map&&"string"==typeof e.map)try{let n=(new THREE.TextureLoader).load(e.map,()=>{i(new THREE[e.type](t))});n.offset.set(e.texture.offset.x||0,e.texture.offset.y||0),n.repeat.set(e.texture.repeat.x||1,e.texture.repeat.y||1),e.texture.wrapping&&(n.wrapS=e.texture.wrapping.s,n.wrapT=e.texture.wrapping.t,n.minFilter=e.texture.filters.min,n.magFilter=e.texture.filters.mag),t.map=n}catch(e){console.log(e)}else i(new THREE[e.type](t))})}phongSettingsWithDefaults(e,t){["MeshPhongMaterial","MeshToonMaterial"].indexOf(t.type)>-1&&(e.color=t.color||"#ffffff",e.bumpMap=t.bumpMap||"",e.bumpScale=t.bumpScale||1,e.displacementMap=t.displacementMap||"",e.displacementScale=t.displacementScale||1,e.displacementBias=t.displacementBias||0,e.emissive=t.emissive||"#000",e.emissiveMap=t.emissiveMap||"",e.emissiveIntensity=t.emissiveIntensity||1,e.morphNormals=t.morphNormals||!1,e.morphTargets=t.morphTargets||!1,e.normalMap=t.normalMap||"",e.normalScale=t.normalScale||new THREE.Vector2(1,1),e.shininess=t.shininess||30,e.specular=t.specular||"#111111",e.specularMap=t.specularMap||"",e.reflectivity=t.reflectivity||.5,e.refractionRatio=t.reflectivity||.98,e.skinning=t.skinning||!1)}standardSettingsWithDefaults(e,t){["MeshStandardMaterial","MeshPhysicalMaterial"].indexOf(t.type)>-1&&(e.color=t.color||"#ffffff",e.bumpMap=t.bumpMap||"",e.bumpScale=t.bumpScale||1,e.displacementMap=t.displacementMap||"",e.displacementScale=t.displacementScale||1,e.displacementBias=t.displacementBias||0,e.emissive=t.emissive||"#000000",e.emissiveMap=t.emissiveMap||"",e.emissiveIntensity=t.emissiveIntensity||1,e.envMapIntensity=t.emissiveIntensity||1,e.metalness=t.metalness||.5,e.metalnessMap=t.metalnessMap||"",e.morphNormals=t.morphNormals||!1,e.morphTargets=t.morphTargets||!1,e.normalMap=t.normalMap||"",e.normalScale=t.normalScale||new THREE.Vector2(1,1),e.roughness=t.roughness||.8,e.roughnessMap=t.roughnessMap||"",e.refractionRatio=t.reflectivity||.98,e.skinning=t.skinning||!1)}wireframeSettingsWithDefaults(e,t){["MeshBasicMaterial","MeshStandardMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshPhysicalMaterial","MeshToonMaterial"].indexOf(t.type)>-1&&(e.wireframe=t.wireframe||!1,e.wireframeLinecap=t.wireframeLinecap||"round",e.wireframeLinejoin=t.wireframeLinejoin||"round",e.wireframeLinewidth=t.wireframeLinewidth||1)}mapSettingsWithDefaults(e,t){["MeshBasicMaterial","MeshStandardMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshPhysicalMaterial","MeshToonMaterial"].indexOf(t.type)>-1&&(e.map=t.map||"",e.alphaMap=t.alphaMap||"",e.aoMap=t.aoMap||"",e.aoMapIntensity=t.aoMapIntensity||1,e.envMap=t.envMap||"",e.lightMap=t.lightMap||"",e.lightMapIntensity=t.lightMapIntensity||1)}materialSettingsWithDefaults(e){let t={type:e.type||"MeshStandardMaterial",visible:!1!==e.visible||e.visible,transparent:e.transparent||!1,alphaTest:e.alphaTest||.5,opacity:e.opacity||1,side:e.side||THREE.FrontSide,texture:{wrapping:{s:e.texture&&e.texture.wrapping?e.texture.wrapping.s:THREE.RepeatWrapping,t:e.texture&&e.texture.wrapping?e.texture.wrapping.t:THREE.RepeatWrapping},repeat:{x:e.texture&&e.texture.repeat?e.texture.repeat.x:1,y:e.texture&&e.texture.repeat?e.texture.repeat.y:1},offset:{x:e.texture&&e.texture.offset?e.texture.offset.x:0,y:e.texture&&e.texture.offset?e.texture.offset.y:0},filters:{mag:e.texture&&e.texture.filters?e.texture.filters.mag:THREE.LinearFilter,min:e.texture&&e.texture.filters?e.texture.filters.min:THREE.LinearMipMapLinearFilter}},lightTexture:{wrapping:{s:e.lightTexture&&e.lightTexture.wrapping?e.lightTexture.wrapping.s:THREE.RepeatWrapping,t:e.lightTexture&&e.lightTexture.wrapping?e.lightTexture.wrapping.t:THREE.RepeatWrapping},repeat:{x:e.lightTexture&&e.lightTexture.repeat?e.lightTexture.repeat.x:0,y:e.lightTexture&&e.lightTexture.repeat?e.lightTexture.repeat.y:0},offset:{x:e.lightTexture&&e.lightTexture.offset?e.lightTexture.offset.x:0,y:e.lightTexture&&e.lightTexture.offset?e.lightTexture.offset.y:0},filters:{mag:e.lightTexture&&e.lightTexture.filters?e.lightTexture.filters.mag:THREE.LinearFilter,min:e.lightTexture&&e.lightTexture.filters?e.lightTexture.filters.min:THREE.LinearMipMapLinearFilter}}};switch(e.type){case"MeshBasicMaterial":this.mapSettingsWithDefaults(t,e),t.color=e.color||"#ffffff",t.reflectivity=e.reflectivity||.5,t.refractionRatio=e.reflectivity||.98,t.skinning=e.skinning||!1,t.lights=e.lights||!1,t.fog=e.fog||!1,t.specularMap=e.specularMap||"",this.wireframeSettingsWithDefaults(t,e);break;case"MeshStandardMaterial":this.mapSettingsWithDefaults(t,e),this.standardSettingsWithDefaults(t,e),this.wireframeSettingsWithDefaults(t,e);break;case"MeshLambertMaterial":this.mapSettingsWithDefaults(t,e),t.color=e.color||"#ffffff",t.emissive=e.emissive||"#000",t.emissiveMap=e.emissiveMap||"",t.emissiveIntensity=e.emissiveIntensity||1,t.morphNormals=e.morphNormals||!1,t.morphTargets=e.morphTargets||!1,t.reflectivity=e.reflectivity||.5,t.refractionRatio=e.reflectivity||.98,t.skinning=e.skinning||!1,t.specularMap=e.specularMap||"",this.wireframeSettingsWithDefaults(t,e);break;case"MeshPhongMaterial":this.mapSettingsWithDefaults(t,e),this.phongSettingsWithDefaults(t,e),this.wireframeSettingsWithDefaults(t,e);break;case"MeshDepthMaterial":t.alphaMap=e.alphaMap||"",t.fog=e.fog||!1,t.lights=e.lights||!1,t.displacementMap=e.displacementMap||"",t.displacementScale=e.displacementScale||1,t.displacementBias=e.displacementBias||0,t.depthPacking=e.depthPacking||THREE.BasicDepthPacking,t.map=e.map||"",t.skinning=e.skinning||!1,t.wireframe=e.wireframe||!1,t.wireframeLinewidth=e.wireframeLinewidth||1;break;case"MeshPhysicalMaterial":this.mapSettingsWithDefaults(t,e),this.standardSettingsWithDefaults(t,e),t.clearCoat=e.clearCoat||0,t.clearCoatRoughness=e.clearCoatRoughness||0,t.reflectivity=e.reflectivity||.5,this.wireframeSettingsWithDefaults(t,e);break;case"MeshToonMaterial":this.mapSettingsWithDefaults(t,e),t.gradientMap=e.gradientMap||"",this.phongSettingsWithDefaults(t,e),this.wireframeSettingsWithDefaults(t,e)}return t}}class o{klein(e,t){let i,n,r;return t*=Math.PI,e*=2*Math.PI,(t*=2)<Math.PI?(i=3*Math.cos(t)*(1+Math.sin(t))+2*(1-Math.cos(t)/2)*Math.cos(t)*Math.cos(e),r=-8*Math.sin(t)-2*(1-Math.cos(t)/2)*Math.sin(t)*Math.cos(e)):(i=3*Math.cos(t)*(1+Math.sin(t))+2*(1-Math.cos(t)/2)*Math.cos(e+Math.PI),r=-8*Math.sin(t)),n=-2*(1-Math.cos(t)/2)*Math.sin(e),new THREE.Vector3(i,n,r)}invertedKlein(e,t){return this.klein(t,e)}mobius(e,t){let i,n,r;e-=.5,t=2*Math.PI*t;return i=Math.cos(t)*(2+e*Math.cos(t/2)),n=Math.sin(t)*(2+e*Math.cos(t/2)),r=e*Math.sin(t/2),new THREE.Vector3(i,n,r)}mobius3d(e,t){e*=Math.PI,t*=2*Math.PI;let i,n,r,o=(e*=2)/2;return i=.125*Math.cos(t)*Math.cos(o)-.65*Math.sin(t)*Math.sin(o),r=.125*Math.cos(t)*Math.sin(o)+.65*Math.sin(t)*Math.cos(o),n=(2.25+i)*Math.sin(e),i=(2.25+i)*Math.cos(e),new THREE.Vector3(i,n,r)}invertedMobius3d(e,t){return this.mobius3d(t,e)}apple(e,t){e=2*e*Math.PI,t=2*t*Math.PI-Math.PI;let i=Math.cos(e)*(4+3.8*Math.cos(t)),n=Math.sin(e)*(4+3.8*Math.cos(t)),r=(Math.cos(t)+Math.sin(t)-1)*(1+Math.sin(t))*Math.log(1-Math.PI*t/10)+7.5*Math.sin(t);return new THREE.Vector3(i,n,r)}invertedApple(e,t){return this.apple(t,e)}snail(e,t){e=2*e*Math.PI,t=4*t*Math.PI-2*Math.PI;let i=e*Math.cos(t)*Math.sin(e),n=e*Math.cos(e)*Math.cos(t),r=-e*Math.sin(t);return new THREE.Vector3(i,n,r)}invertedSnail(e,t){return this.snail(t,e)}spiral(e,t){e=2*e*-Math.PI;let i=.1*(1-(t=2*t*-Math.PI)/2*Math.PI)*Math.cos(4*t)*(1-Math.cos(e))+.3*Math.cos(4*t),n=.1*(1-t/2*Math.PI)*Math.sin(4*t)*(1-Math.cos(e))+.3*Math.sin(4*t),r=1*t/2*Math.PI+.1*(1-t/2*Math.PI)*Math.sin(e);return new THREE.Vector3(i,n,r)}invertedSpiral(e,t){return this.spiral(t,e)}fermet(e,t){e=16*e-8,abs_u=e<0?-e:e,t*=1;let i=e<0?-1:1,n=i*Math.sqrt(abs_u)*Math.cos(abs_u),r=.8*t,o=i*Math.sqrt(abs_u)*Math.sin(abs_u);return new THREE.Vector3(n,o,r)}helicoid(e,t){e=6*e*-Math.PI;let i=2*(t=2*t*Math.PI-Math.PI)*Math.cos(e),n=2*t*Math.sin(e),r=e;return new THREE.Vector3(i,n,r)}horn(e,t){t=2*t*Math.PI;let i=(2+e*Math.cos(t))*Math.cos(2*Math.PI*e)+2*e,n=(2+e*Math.cos(t))*Math.sin(2*Math.PI*e),r=e*Math.sin(t);return new THREE.Vector3(i,n,r)}invertedHorn(e,t){return this.horn(t,e)}pillow(e,t){e=2*e*Math.PI-Math.PI,t=2*t*Math.PI-Math.PI;let i=Math.cos(e),n=Math.cos(t),r=Math.sin(e)*Math.sin(t);return new THREE.Vector3(i,n,r)}invertedPillow(e,t){return this.pillow(t,e)}spring(e,t){e=6*e*-Math.PI,t=2*t*Math.PI-Math.PI;let i=(1-.3*Math.cos(t))*Math.cos(e),n=(1-.3*Math.cos(t))*Math.sin(e),r=.3*(Math.sin(t)+1.2*e/Math.PI);return new THREE.Vector3(i,n,r)}invertedSpring(e,t){return this.spring(t,e)}scherk(e,t){let i=t=t*Math.PI-Math.PI/2,n=e=e*Math.PI-Math.PI/2,r=Math.log(Math.cos(.9*e)/Math.cos(.9*t))/.9;return new THREE.Vector3(i,n,r)}catenoid(e,t){e=2*e*Math.PI,t=2*t*Math.PI-Math.PI;let i=2*Math.cosh(t/2)*Math.sin(e),n=2*Math.cosh(t/2)*Math.cos(e),r=t;return new THREE.Vector3(i,n,r)}natica(e,t){e=21*e-20,t*=2*Math.PI;let i=Math.exp(.18*e),n=Math.sin(t),r=Math.cos(t),o=Math.sin(1*e),a=i*(1.25+2.6*r)*Math.cos(1*e),s=1*i*(1.25+2.6*r)*o,l=i*(2.4*n-2.8);return new THREE.Vector3(a,s,l)}invertedNatica(e,t){return this.natica(t,e)}}class a{constructor(e){this.sceneGraph=e,this.parametricGeometries=new o}makeGeometry(e){let t=this.geometrySettingsWithDefaults(e),i=[null];for(let e in t)t.hasOwnProperty(e)&&i.push(t[e]);return new(Function.prototype.bind.apply(THREE[e.type],i))}makeParametric(e){let t=this.parametricSettingsWithDefaults(e),i={document:document,scene:this.sceneGraph.context.sceneEl.object3D,root:this.sceneGraph.container,helper:this.sceneGraph.behaviourHelper},n=t.user_options||{},r=[null,{AppleGeometry:this.parametricGeometries.apple,AppleInvertedGeometry:this.parametricGeometries.invertedApple.bind(this.parametricGeometries),FermatGeometry:this.parametricGeometries.fermet,KleinGeometry:this.parametricGeometries.klein,KleinInvertedGeometry:this.parametricGeometries.invertedKlein.bind(this.parametricGeometries),HelicoidGeometry:this.parametricGeometries.helicoid,PillowGeometry:this.parametricGeometries.pillow,PillowInvertedGeometry:this.parametricGeometries.invertedPillow.bind(this.parametricGeometries),ScherkGeometry:this.parametricGeometries.scherk,MobiusGeometry:this.parametricGeometries.mobius,Mobius3DGeometry:this.parametricGeometries.mobius3d,Mobius3DInvertedGeometry:this.parametricGeometries.invertedMobius3d.bind(this.parametricGeometries),NaticaStellataGeometry:this.parametricGeometries.natica,NaticaInvertedGeometry:this.parametricGeometries.invertedNatica.bind(this.parametricGeometries),HornGeometry:this.parametricGeometries.horn,HornInvertedGeometry:this.parametricGeometries.invertedHorn.bind(this.parametricGeometries),SpringGeometry:this.parametricGeometries.spring,SpringInvertedGeometry:this.parametricGeometries.invertedSpring.bind(this.parametricGeometries),CatenoidGeometry:this.parametricGeometries.catenoid,SnailGeometry:this.parametricGeometries.snail,SnailInvertedGeometry:this.parametricGeometries.invertedSnail.bind(this.parametricGeometries),SpiralGeometry:this.parametricGeometries.spiral,SpiralInvertedGeometry:this.parametricGeometries.invertedSpiral.bind(this.parametricGeometries),CustomGeometry:function(e,r){let o=new THREE.Vector3(1,1,1);try{(o=new Function("u","v","globals","user_config",t.method||"return new THREE.Vector3(0,0,0);")(e,r,i,n))&&o.constructor===THREE.Vector3||(console.warn("Custom Geometry Error: ",t.name,"Definition does not return a THREE.Vector3"),o=new THREE.Vector3(1,1,1))}catch(e){console.warn("Custom Geometry Error: ",t.name,e),o=new THREE.Vector3(1,1,1)}return o}}[e.sub_type]],o=["name","description","method","image","user_config","user_options","parametric_id"];for(let e in t)t.hasOwnProperty(e)&&-1===o.indexOf(e)&&r.push(t[e]);return new(Function.prototype.bind.apply(THREE.ParametricBufferGeometry,r))}parametricSettingsWithDefaults(e){switch(e.sub_type){case"AppleGeometry":case"AppleInvertedGeometry":case"FermatGeometry":case"SpringGeometry":case"SpringInvertedGeometry":case"NaticaStellataGeometry":case"NaticaStellataInvertedGeometry":case"HelicoidGeometry":case"SpiralGeometry":case"SpiralInvertedGeometry":case"PillowGeometry":case"PillowInvertedGeometry":case"CatenoidGeometry":case"ScherkGeometry":case"KleinGeometry":case"KleinInvertedGeometry":case"MobiusGeometry":case"Mobius3DGeometry":case"Mobius3DInvertedGeometry":case"SnailGeometry":case"SnailInvertedGeometry":case"HornGeometry":case"HornInvertedGeometry":return{slices:e.slices||24,stacks:e.stacks||24};case"CustomGeometry":return{name:e.name||"",description:e.description||"",image:e.image||"images/parametric.png",method:e.method||"",user_config:e.user_config||"",user_options:e.user_options||{},parametric_id:e.parametric_id||0,slices:e.slices||24,stacks:e.stacks||24}}}geometrySettingsWithDefaults(e){switch(e.type){case"BoxGeometry":case"BoxBufferGeometry":return{width:e.width||1,height:e.height||1,depth:e.depth||1,widthSegments:e.widthSegments||1,heightSegments:e.heightSegments||1,depthSegments:e.depthSegments||1};case"CircleGeometry":case"CircleBufferGeometry":return{radius:e.radius||1,segments:e.segments||24,thetaStart:e.thetaStart||0,thetaLength:e.thetaLength||2*Math.PI};case"ConeGeometry":case"ConeBufferGeometry":return{radius:e.radius||1,height:e.height||1,radialSegments:e.radialSegments||24,heightSegments:e.heightSegments||1,openEnded:!1,thetaStart:e.thetaStart||0,thetaLength:e.thetaLength||2*Math.PI};case"CylinderGeometry":case"CylinderBufferGeometry":return{radiusTop:e.radiusTop||1,radiusBottom:e.radiusBottom||1,height:e.height||1,radialSegments:e.radialSegments||24,heightSegments:e.heightSegments||1,openEnded:!1,thetaStart:e.thetaStart||0,thetaLength:e.thetaLength||2*Math.PI};case"DodecahedronGeometry":case"DodecahedronBufferGeometry":return{radius:e.radius||1,detail:e.detail||1};case"IcosahedronGeometry":case"IcosahedronBufferGeometry":return{radius:e.radius||1,detail:e.detail||1};case"OctahedronGeometry":case"OctahedronBufferGeometry":return{radius:e.radius||1,detail:e.detail||1};case"PlaneGeometry":case"PlaneBufferGeometry":return{width:e.width||1,height:e.height||1,widthSegments:e.widthSegments||1,heightSegments:e.heightSegments||1};case"RingGeometry":case"RingBufferGeometry":return{innerRadius:e.innerRadius||.5,outerRadius:e.outerRadius||1,thetaSegments:e.thetaSegments||24,phiSegments:e.phiSegments||8,thetaStart:e.thetaStart||0,thetaLength:e.thetaLength||2*Math.PI};case"SphereGeometry":case"SphereBufferGeometry":return{radius:e.radius||1,widthSegments:e.widthSegments||16,heightSegments:e.heightSegments||16,phiStart:e.phiStart||0,phiLength:e.phiLength||2*Math.PI,thetaStart:e.thetaStart||0,thetaLength:e.thetaLength||Math.PI};case"TetrahedronGeometry":case"TetrahedronBufferGeometry":return{radius:e.radius||1,detail:e.detail||0};case"TorusGeometry":case"TorusBufferGeometry":return{radius:e.radius||1,tube:e.tube||.4,radialSegments:e.radialSegments||8,tubularSegments:e.tubularSegments||16,arc:e.arc||2*Math.PI};case"TorusKnotGeometry":case"TorusKnotBufferGeometry":return{radius:e.radius||1,tube:e.tube||.4,tubularSegments:e.tubularSegments||64,radialSegments:e.radialSegments||8,p:e.p||2,q:e.q||3};default:return{}}}}class s{constructor(e){this.sceneGraph=e,this.materialFactory=new r(e),this.geometryFactory=new a(e)}changeGeometry(e){let t="Primitive"===this.sceneGraph.context.currentObject.settings.type,i=this.geometryFactory[t?"geometrySettingsWithDefaults":"parametricSettingsWithDefaults"](t?{type:e}:{sub_type:e});this.sceneGraph.context.currentObject.settings.geometry=i,t?this.sceneGraph.context.currentObject.settings.geometry.type=e:this.sceneGraph.context.currentObject.settings.geometry.sub_type=e,this.resetGeometry()}resetGeometry(){let e=this.sceneGraph.context.currentObject.settings;this.sceneGraph.context.currentObject.object3D.geometry="Primitive"===e.type?this.geometryFactory.makeGeometry(e.geometry):this.geometryFactory.makeParametric(e.geometry),"Primitive"!==e.type&&this.scaleAndCenterGeometry(this.sceneGraph.context.currentObject.object3D.geometry),this.addStats(this.sceneGraph.context.currentObject.object3D,this.sceneGraph.context.currentObject)}changeMaterial(e){let t=this.sceneGraph.context.currentObject.settings;t.material.type=e,this.sceneGraph.context.currentObject.settings.material=this.materialFactory.materialSettingsWithDefaults(t.material),this.materialFactory.makeMaterial(this.sceneGraph.context.currentObject.settings.material).then(e=>{this.sceneGraph.context.currentObject.object3D.material=e})}generateUserData(e){let t=this.defaultUserData(e.type,e.sub_type||"",e.geo_settings||{},e.mat_settings||{},e.tra_settings||{},e.name);return e.url&&(t.url=e.url),e.mtl_url&&(t.mtl_url=e.mtl_url,t.mtl_path=e.mtl_path),t.state.added=!0,t}defaultUserData(e,t,i,n,r,o,a){return(i=i||{}).type=t,i.sub_type=i.sub_type||"",{name:o||this.sceneGraph.context.namer.generateName(),uuid:a||THREE.Math.generateUUID(),type:e||"Object3D",transform:{position:{x:r&&r.position&&r.position.x||0,y:r&&r.position&&r.position.y||0,z:r&&r.position&&r.position.z||0},rotation:{x:r&&r.rotation&&r.rotation.x||0,y:r&&r.rotation&&r.rotation.y||0,z:r&&r.rotation&&r.rotation.z||0},scale:{x:r&&r.scale&&r.scale.x||1,y:r&&r.scale&&r.scale.y||1,z:r&&r.scale&&r.scale.z||1}},behaviours:[],hide_on_mobile:!1,hide_on_desktop:!1,preserve_scale:!1,geometry:i||{},material:this.materialFactory.materialSettingsWithDefaults(n||{}),state:{added:!1,updated:!1,transform_update:!1,removed:!1}}}getTotals(e){let t={points:0,pixels:0},i=[];return e.traverse(e=>{e.geometry&&e.geometry.attributes?t.points+=e.geometry.attributes.position.count:e.geometry&&e.geometry.faces&&(t.points+=3*e.geometry.faces.length),e.material&&e.material.map&&e.material.map.image&&-1===i.indexOf(e.material.map.image.currentSrc)&&(i.push(e.material.map.image.currentSrc),t.pixels+=e.material.map.image.width*e.material.map.image.height)}),t}addStats(e,t){t.settings.stats||(t.settings.stats=this.getTotals(e))}transform(e,t){e.userData.sceneObject=t,e&&(e.rotation.set(t.settings.transform.rotation.x,t.settings.transform.rotation.y,t.settings.transform.rotation.z),e.position.set(t.settings.transform.position.x,t.settings.transform.position.y,t.settings.transform.position.z),e.scale.set(t.settings.transform.scale.x,t.settings.transform.scale.y,t.settings.transform.scale.z))}resolveObject(e,t,i,n){this.transform(e,i),this.scaleAndCenterObject(t),e.add(t),this.addStats(e,i),setTimeout(()=>n(e),50)}make(e){let t=e.settings;return new Promise(i=>{let n,r,o,a;switch(t.type){case"Primitive":r=this.geometryFactory.makeGeometry(t.geometry),this.materialFactory.makeMaterial(t.material).then(t=>{n=new THREE.Mesh(r,t),this.transform(n,e),this.addStats(n,e),i(n)});break;case"Parametric":r=this.geometryFactory.makeParametric(t.geometry),this.scaleAndCenterGeometry(r),this.materialFactory.makeMaterial(t.material).then(t=>{n=new THREE.Mesh(r,t),this.transform(n,e),this.addStats(n,e),i(n)});break;case"Object3D":(n=new THREE.Object3D).name="Group",this.transform(n,e),n.userData.sceneObject.stats={points:0,pixels:0},i(n);break;case"Poly":case"Custom":switch((n=new THREE.Object3D).name=t.type,t.geometry.type){case"GLTF2":(o=Promise.resolve(t.url)).then(t=>{let r=new THREE.GLTFLoader;r.setCrossOrigin(!0),r.load(t,t=>this.resolveObject(n,t.scene,e,i))});break;case"DAE":let r=t.url;(a=new THREE.ColladaLoader).setCrossOrigin(!0),a.load(r,t=>this.resolveObject(n,t.scene,e,i));break;case"GLTF":(a=new THREE.LegacyGLTFLoader).setCrossOrigin(!0),a.load(t.url,t=>this.resolveObject(n,t.scene,e,i));break;case"OBJ":o=Promise.resolve({obj:t.url,mtl:t.mtl_url,mtl_path:t.mtl_path}),"Poly"===t.type&&(o=Promise.all([new Promise(function(e){(new THREE.FileLoader).load("poly-proxy/"+encodeURIComponent(t.url),function(t){e(t)})}),new Promise(function(e){(new THREE.FileLoader).load("poly-proxy/"+encodeURIComponent(t.mtl_url),function(t){e(t)})})]).then(function(e){let i=t.url.replace(t.mtl_path,"");return{obj:e[0],mtl:e[1],mtl_path:e[0].slice(0,e[0].indexOf(i))}})),(a=new THREE.MTLLoader).setCrossOrigin(!0),o.then(t=>{a.setTexturePath(t.mtl_path),a.load(t.mtl,r=>{r.preload(),(a=new THREE.OBJLoader).setMaterials(r),a.load(t.obj,t=>this.resolveObject(n,t,e,i))})})}}})}getScaledVector(e){return e.x>=e.y&&e.x>=e.z?new THREE.Vector3(1,e.y/e.x,e.z/e.x):e.y>e.x&&e.y>e.z?new THREE.Vector3(e.x/e.y,1,e.z/e.y):e.z>e.x&&e.z>e.y?new THREE.Vector3(e.x/e.z,e.y/e.z,1):new THREE.Vector3(1,1,1)}scaleAndCenterGeometry(e){e.computeBoundingBox();let t=e.boundingBox.getSize(),i=this.getScaledVector(t),n=t.divide(i);e.scale(1/n.x,1/n.y,1/n.z),e.center()}scaleAndCenterObject(e){let t=(new THREE.Box3).setFromObject(e),i=t.getSize(),n=this.getScaledVector(i),r=i.divide(n);e.scale.set(1/r.x,1/r.y,1/r.z);let o=t.getCenter().clone().negate();e.position.copy(new THREE.Vector3(o.x/r.x,o.y/r.y,o.z/r.z))}}class l{constructor(e){this.sceneGraph=e}deSerialiseScene(e,t,i){if(e&&e.settings){t=t||this.sceneGraph.container,i=i||[],e.settings.uuid||(e.settings.uuid=THREE.Math.generateUUID()),e.object3D=t,t.userData.sceneObject=e;for(let n=0;n<e.children.length;n++)i.push(Promise.resolve().then(()=>{let r=e.children[n];if(r)return this.sceneGraph.objectFactory.make(r).then(n=>{if(n)return t.add(n),n.userData.sceneObject=r,r.object3D=n,r.parent=e,this.deSerialiseScene(r,n,i),{object:n,child:r}})}));return i}}serialiseScene(e){if(e=e||this.sceneGraph.container,!this.isObject(e))return;let t={settings:{},children:[]};return e.userData=e.userData||{},e.userData.plusspace=e.userData.plusspace||this.sceneGraph.objectFactory.defaultUserData(),t.settings=e.userData.plusspace,"Custom"!==t.settings.type&&"Poly"!==t.settings.type&&e.children&&e.children.length&&e.children.forEach(e=>{t.children.push(this.serialiseScene(e))}),t}isObject(e){return e.userData&&e.userData.plusspace&&e.userData.plusspace.object&&e.userData.plusspace.geometry&&e.userData.plusspace.material}}class u{constructor(e){this.scene_graph=e}resetBehaviours(e){let t=this;e.removeAllBehaviors();let i=[];e.userData.plusspace.altspace.behaviours.forEach(function(n,r){let o=n.settings||{};o.trigger=o.trigger||"auto-trigger",o.trigger&&["toggle-trigger","mod-toggle-trigger","no-mod-toggle-trigger","click-trigger","mod-click-trigger","no-mod-click-trigger"].indexOf(o.trigger)>-1&&e.userData.altspace&&(e.userData.altspace.collider=e.userData.altspace.collider||{},e.userData.altspace.collider.enabled=!0);let a=t.getBehaviour(n,e),s=function(){(e=t.resetObject(e)).addBehavior(a),o.sync&&t.context.socket.emit("behaviour-sync",{index:r,uuid:e.userData.plusspace.object.uuid})},l=function(){e.userData.has_been_clicked?((e=t.resetObject(e)).userData.has_been_clicked=!1,t.context.socket.emit("behaviour-sync",{index:r,uuid:e.userData.plusspace.object.uuid,is_toggle:!0,enabled:!1})):(e.userData.has_been_clicked=!0,e.addBehavior(a),console.log(a),o.sync&&t.context.socket.emit("behaviour-sync",{index:r,uuid:e.userData.plusspace.object.uuid,is_toggle:!0,enabled:!0}))};if(a)switch(o.trigger){case"auto-trigger":i.push(a);break;case"mod-auto-trigger":t.context.user&&t.context.user.isModerator&&e.addBehavior(a);break;case"no-mod-auto-trigger":t.context.user&&!t.context.user.isModerator&&e.addBehavior(a);break;case"click-trigger":e.addEventListener("cursordown",function(){s()});break;case"mod-click-trigger":e.addEventListener("cursordown",function(){t.context.user&&t.context.user.isModerator&&s()});break;case"no-mod-click-trigger":e.addEventListener("cursordown",function(){t.context.user&&!t.context.user.isModerator&&s()});break;case"toggle-trigger":e.addEventListener("cursordown",function(){l()});break;case"mod-toggle-trigger":e.addEventListener("cursordown",function(){t.context.user&&t.context.user.isModerator&&l()});break;case"no-mod-toggle-trigger":e.addEventListener("cursordown",function(){t.context.user&&!t.context.user.isModerator&&l()});break;case"enter-trigger":e.addEventListener("triggerenter",function(){s()});break;case"exit-trigger":e.addEventListener("triggerexit",function(){s()});break;case"mod-enter-trigger":e.addEventListener("triggerenter",function(){t.context.user&&t.context.user.isModerator&&s()});break;case"no-mod-enter-trigger":e.addEventListener("triggerenter",function(){t.context.user&&!t.context.user.isModerator&&s()});break;case"mod-exit-trigger":e.addEventListener("triggerexit",function(){t.context.user&&t.context.user.isModerator&&s()});break;case"no-mod-exit-trigger":e.addEventListener("triggerexit",function(){t.context.user&&!t.context.user.isModerator&&s()})}}),i.length&&e.addBehaviors.apply(e,i)}}class c{constructor(e){this.context=e}getVersion(){if(!this.context.currentScene)return;return this.context.currentScene.version||"1.0"}migrate(){switch(this.getVersion()){case"1.0":this.migrateV2()}}migrateV2(e){if(e=e||this.context.currentScene,this.context.currentScene===e&&(e.version="2.0"),e.settings.object){let t=e.settings.object.url,i=e.settings.object.mtl_url,n=e.settings.object.mtl_path;e.settings={name:e.settings.object.name,uuid:e.settings.object.uuid,type:e.settings.object.type,transform:e.settings.object.transform,behaviours:e.settings.altspace.behaviours,hide_on_mobile:e.settings.object.hide_on_mobile||!1,hide_on_desktop:e.settings.object.show_only_on_mobile||!1,geometry:e.settings.geometry,preserve_scale:!1,material:this.context.objectFactory.materialFactory.materialSettingsWithDefaults({type:"MeshBasicMaterial",visible:e.settings.material.visible,color:e.settings.material.color,transparent:e.settings.material.transparent,opacity:e.settings.material.opacity,map:e.settings.material.map,side:e.settings.material.side,fog:!1,lights:!1,texture:{wrapping:{s:e.settings.wrapping?e.settings.wrapping.s:THREE.RepeatWrapping,t:e.settings.wrapping?e.settings.wrapping.t:THREE.RepeatWrapping},repeat:{x:e.settings.material.repeatX?e.settings.material.repeatX:1,y:e.settings.material.repeatY?e.settings.material.repeatY:1},offset:{x:e.settings.material.offsetX?e.settings.material.offsetX:0,y:e.settings.material.offsetY?e.settings.material.offsetY:0},filters:{mag:e.settings.filters?e.settings.filters.mag:THREE.LinearFilter,min:e.settings.filters?e.settings.filters.min:THREE.LinearMipMapLinearFilter}},lightTexture:{wrapping:{s:THREE.RepeatWrapping,t:THREE.RepeatWrapping},repeat:{x:1,y:1},offset:{x:0,y:0},filters:{mag:THREE.LinearFilter,min:THREE.LinearMipMapLinearFilter}}}),state:{added:!1,updated:!1,transform_updated:!1,removed:!1}},t&&(e.settings.url=t),i&&(e.settings.mtl_url=i),n&&(e.settings.mtl_path=n)}e.children=e.children.filter(e=>e);for(let t=0;t<e.children.length;t++)e.children[t]&&this.migrateV2(e.children[t])}}i.d(t,"a",function(){return d});class d{constructor(e){this.context=e,this.migrations=new c(this),this.behaviourHelper=new n(this),this.objectFactory=new s(this),this.serialiser=new l(this),this.behaviourFactory=new u(this),this.currentScene={settings:this.objectFactory.defaultUserData(),children:[]},this.resetContainer(),this.containerComponentName="scene-graph-container",this.setupAframeContainer(),console.log("Shane's Editor Version 0.2.0")}async load(e){return fetch(window.location.protocol+"//"+window.location.host+"/scene/"+e.short_code+".json").then(e=>e.json()).then(t=>(this.clearScene(),this.hasScene=!0,this.sceneLoaded=!1,this.currentScene=t||this.currentScene,this.migrations.migrate(),this.currentScene.metadata=e,console.log("Scene Downloaded."),Promise.resolve()))}canOpen(){return this.hasScene&&!this.sceneLoaded}dispatchLoadEvents(e){let t=0,i=e.length;for(let n=0;n<i;n++){e[n].then(()=>{t++,this.context.sceneEl.emit("scene-loading",t/i)})}}open(){if(console.log("Loading Scene..."),!this.currentScene||this.sceneLoaded)return;this.context.sceneEl.emit("scene-load-start"),this.sceneLoaded=!0;let e=this.serialiser.deSerialiseScene(this.currentScene);return this.dispatchLoadEvents(e),Promise.all(e)}setupAframeContainer(){let e=this;AFRAME.registerComponent(this.containerComponentName,{init(){this.el.setObject3D("mesh",e.container)}}),this.entityContainer=document.createElement("a-entity"),this.entityContainer.setAttribute("scene-graph-container",""),this.entityContainer.setAttribute("position","0 -1.6 0"),document.querySelector("a-scene").appendChild(this.entityContainer)}totals(e,t,i,n){let r=e.settings.hide_on_mobile,o=e.settings.hide_on_desktop;e.settings.stats&&(o||i?o=!0:(t.desktop.points+=e.settings.stats.points,t.desktop.pixels+=e.settings.stats.pixels),r||n?r=!0:(t.mobile.points+=e.settings.stats.points,t.mobile.pixels+=e.settings.stats.pixels));for(let i=0;i<e.children.length;i++)this.totals(e.children[i],t,o,r)}resetContainer(){this.container=new THREE.Object3D,this.currentScene.settings=this.objectFactory.defaultUserData(),this.currentScene.children.length=0,this.container.userData.sceneObject=this.currentScene}findByUUID(e,t,i){let n={},r=this;return"string"==typeof e&&(e=[e]),(i||this.container).traverse(function(i){i.userData.sceneObject&&e.indexOf(i.userData.sceneObject.uuid)>-1&&(n[i.userData.sceneObject.uuid]=t?JSON.stringify(r.scene_graph.serialiseScene(i)):i)}),1===e.length?n[e[0]]:n}remove(e,t){let i=e.children[t];if(i&&i.settings.uuid){let n=this.findByUUID(i.settings.uuid);n&&(n.parent.remove(n),this.clearObject(n)),e.children.splice(t,1)}}async add(e,t){if(this.context.cameraDummy){this.context.cameraDummy.object3D.position.set(0,0,-3),this.context.cameraDummy.object3D.updateMatrixWorld(),e.object3D.updateMatrixWorld();let i=this.context.cameraDummy.object3D.localToWorld(new THREE.Vector3(0,0,0));t.tra_settings={position:e.object3D.worldToLocal(i)}}let i={settings:this.objectFactory.generateUserData(t),children:[]};return this.objectFactory.make(i).then(t=>(t.userData.sceneObject=i,i.object3D=t,i.parent=e,e.object3D.add(t),e.children.push(i),i))}clearObject(e){e.traverse(e=>{if(e.material&&e.material.map&&e.material.map.dispose&&(e.material.map.dispose(),e.material.dispose&&e.material.dispose()),e.material&&e.material.length)for(let t=0;t<e.material.length;t++)e.material[t].map&&e.material[t].map.dispose&&e.material[t].map.dispose();e.geometry&&e.geometry.dispose(),e.dispose&&e.dispose()})}clearScene(){this.hasScene=!1,this.clearObject(this.container),this.resetContainer(),this.entityContainer.setObject3D("mesh",this.container)}}},function(e,t){var i=AFRAME.utils.bind,n=AFRAME.utils.device.PolyfillControls,r=Math.PI/2,o=AFRAME.utils.device.checkHasPositionalTracking;AFRAME.registerComponent("right-look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},hmdEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},touchEnabled:{default:!0}},init:function(){this.previousHMDPosition=new THREE.Vector3,this.hmdQuaternion=new THREE.Quaternion,this.hmdEuler=new THREE.Euler,this.position=new THREE.Vector3,this.savedRotation=new THREE.Vector3,this.savedPosition=new THREE.Vector3,this.polyfillObject=new THREE.Object3D,this.polyfillControls=new n(this.polyfillObject),this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.savedPose={position:new THREE.Vector3,rotation:new THREE.Euler},this.el.sceneEl.is("vr-mode")&&this.onEnterVR(),document.addEventListener("contextmenu",e=>{e.preventDefault()},!1)},update:function(e){var t=this.data;t.enabled!==e.enabled&&this.updateGrabCursor(t.enabled),!e||t.hmdEnabled||e.hmdEnabled||(this.pitchObject.rotation.set(0,0,0),this.yawObject.rotation.set(0,0,0)),e&&!t.pointerLockEnabled!==e.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&document.exitPointerLock())},tick:function(e){this.data.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.removeEventListeners()},bindMethods:function(){this.onMouseDown=i(this.onMouseDown,this),this.onMouseMove=i(this.onMouseMove,this),this.onMouseUp=i(this.onMouseUp,this),this.onTouchStart=i(this.onTouchStart,this),this.onTouchMove=i(this.onTouchMove,this),this.onTouchEnd=i(this.onTouchEnd,this),this.onEnterVR=i(this.onEnterVR,this),this.onExitVR=i(this.onExitVR,this),this.onPointerLockChange=i(this.onPointerLockChange,this),this.onPointerLockError=i(this.onPointerLockError,this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new THREE.Object3D,this.yawObject=new THREE.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var e=this.el.sceneEl,t=e.canvas;t?(t.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),t.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),e.addEventListener("enter-vr",this.onEnterVR),e.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))):e.addEventListener("render-target-loaded",i(this.addEventListeners,this))},removeEventListeners:function(){var e=this.el.sceneEl,t=e&&e.canvas;t&&(t.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("enter-vr",this.onEnterVR),e.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var e=this.el,t=this.hmdEuler,i=this.pitchObject,n=this.yawObject,r=this.el.sceneEl;r.is("vr-mode")&&r.checkHeadsetConnected()||(this.polyfillControls.update(),t.setFromQuaternion(this.polyfillObject.quaternion,"YXZ"),e.object3D.rotation.x=t.x+i.rotation.x,e.object3D.rotation.y=t.y+n.rotation.y)},onMouseMove:function(e){var t,i,n,o=this.pitchObject,a=this.previousMouseEvent,s=this.yawObject;this.data.enabled&&(this.mouseDown||this.pointerLocked)&&(this.pointerLocked?(i=e.movementX||e.mozMovementX||0,n=e.movementY||e.mozMovementY||0):(i=e.screenX-a.screenX,n=e.screenY-a.screenY),this.previousMouseEvent=e,t=this.data.reverseMouseDrag?1:-1,s.rotation.y+=.002*i*t,o.rotation.x+=.002*n*t,o.rotation.x=Math.max(-r,Math.min(r,o.rotation.x)))},onMouseDown:function(e){if(this.data.enabled&&2===e.button){var t=this.el.sceneEl,i=t&&t.canvas;this.mouseDown=!0,this.previousMouseEvent=e,document.body.classList.add("a-grabbing"),this.data.pointerLockEnabled&&!this.pointerLocked&&(i.requestPointerLock?i.requestPointerLock():i.mozRequestPointerLock&&i.mozRequestPointerLock())}},onMouseUp:function(){this.mouseDown=!1,this.el.emit("stopped"),document.body.classList.remove("a-grabbing")},onTouchStart:function(e){1===e.touches.length&&this.data.touchEnabled&&(this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(e){var t,i=this.el.sceneEl.canvas,n=this.yawObject;this.touchStarted&&this.data.touchEnabled&&(t=2*Math.PI*(e.touches[0].pageX-this.touchStart.x)/i.clientWidth,n.rotation.y-=.5*t,this.touchStart={x:e.touches[0].pageX,y:e.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){this.saveCameraPose()},onExitVR:function(){this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0)},onPointerLockChange:function(){this.pointerLocked=!(!document.pointerLockElement&&!document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},updateGrabCursor:function(e){var t=this.el.sceneEl;function i(){t.canvas.classList.add("a-grab-cursor")}function n(){t.canvas.classList.remove("a-grab-cursor")}t.canvas?e?i():n():e?t.addEventListener("render-target-loaded",i):t.addEventListener("render-target-loaded",n)},saveCameraPose:function(){var e=this.el,t=void 0!==this.hasPositionalTracking?this.hasPositionalTracking:o();!this.hasSavedPose&&t&&(this.savedPose.position.copy(e.object3D.position),this.savedPose.rotation.copy(e.object3D.rotation),this.hasSavedPose=!0)},restoreCameraPose:function(){var e=this.el,t=this.savedPose,i=void 0!==this.hasPositionalTracking?this.hasPositionalTracking:o();this.hasSavedPose&&i&&(e.object3D.position.copy(t.position),e.object3D.rotation.copy(t.rotation),this.hasSavedPose=!1)}})},function(e,t,i){e.exports=function(){return new Worker(i.p+"a5d424edf9f8a6d549c2.worker.js")}},function(e,t,i){e.exports={yoga:i(5),app:i(54)}},function(e,t,i){e.exports=window.Yoga=i(6)},function(e,t,i){"use strict";var n=i(7),r=!1,o=null;if(i(9)({},function(e,t){if(!r){if(r=!0,e)throw e;o=t}}),!r)throw new Error("Failed to load the yoga module - it needed to be loaded synchronously, but didn't");e.exports=n(o.bind,o.lib)},function(e,t,i){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=i(8),l=function(){function e(t,i,n,r,o,s){a(this,e),this.left=t,this.right=i,this.top=n,this.bottom=r,this.width=o,this.height=s}return r(e,[{key:"fromJS",value:function(e){e(this.left,this.right,this.top,this.bottom,this.width,this.height)}},{key:"toString",value:function(){return"<Layout#"+this.left+":"+this.right+";"+this.top+":"+this.bottom+";"+this.width+":"+this.height+">"}}]),e}(),u=function(){function e(t,i){a(this,e),this.width=t,this.height=i}return r(e,null,[{key:"fromJS",value:function(t){return new e(t.width,t.height)}}]),r(e,[{key:"fromJS",value:function(e){e(this.width,this.height)}},{key:"toString",value:function(){return"<Size#"+this.width+"x"+this.height+">"}}]),e}(),c=function(){function e(t,i){a(this,e),this.unit=t,this.value=i}return r(e,[{key:"fromJS",value:function(e){e(this.unit,this.value)}},{key:"toString",value:function(){switch(this.unit){case s.UNIT_POINT:return String(this.value);case s.UNIT_PERCENT:return this.value+"%";case s.UNIT_AUTO:return"auto";default:return this.value+"?"}}},{key:"valueOf",value:function(){return this.value}}]),e}();e.exports=function(e,t){function i(e,t,i){var n=e[t];e[t]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i.call.apply(i,[this,n].concat(t))}}for(var r=["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding"],a=function(){var e,n=r[d],a=(o(e={},s.UNIT_POINT,t.Node.prototype[n]),o(e,s.UNIT_PERCENT,t.Node.prototype[n+"Percent"]),o(e,s.UNIT_AUTO,t.Node.prototype[n+"Auto"]),e);i(t.Node.prototype,n,function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];var o,l,u=i.pop(),d=void 0,h=void 0;if("auto"===u)d=s.UNIT_AUTO,h=void 0;else if(u instanceof c)d=u.unit,h=u.valueOf();else if(d="string"==typeof u&&u.endsWith("%")?s.UNIT_PERCENT:s.UNIT_POINT,h=parseFloat(u),!Number.isNaN(u)&&Number.isNaN(h))throw new Error("Invalid value "+u+" for "+n);if(!a[d])throw new Error('Failed to execute "'+n+"\": Unsupported unit '"+u+"'");return void 0!==h?(o=a[d]).call.apply(o,[this].concat(i,[h])):(l=a[d]).call.apply(l,[this].concat(i))})},d=0;d<r.length;d++)a();return i(t.Config.prototype,"free",function(){t.Config.destroy(this)}),i(t.Node,"create",function(e,i){return i?t.Node.createWithConfig(i):t.Node.createDefault()}),i(t.Node.prototype,"free",function(){t.Node.destroy(this)}),i(t.Node.prototype,"freeRecursive",function(){for(var e=0,t=this.getChildCount();e<t;++e)this.getChild(0).freeRecursive();this.free()}),i(t.Node.prototype,"setMeasureFunc",function(e,t){return t?e.call(this,function(){return u.fromJS(t.apply(void 0,arguments))}):this.unsetMeasureFunc()}),i(t.Node.prototype,"calculateLayout",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.DIRECTION_LTR;return e.call(this,t,i,n)}),n({Config:t.Config,Node:t.Node,Layout:e("Layout",l),Size:e("Size",u),Value:e("Value",c),getInstanceCount:function(){return t.getInstanceCount.apply(t,arguments)}},s)}},function(e,t,i){"use strict";e.exports={ALIGN_COUNT:8,ALIGN_AUTO:0,ALIGN_FLEX_START:1,ALIGN_CENTER:2,ALIGN_FLEX_END:3,ALIGN_STRETCH:4,ALIGN_BASELINE:5,ALIGN_SPACE_BETWEEN:6,ALIGN_SPACE_AROUND:7,DIMENSION_COUNT:2,DIMENSION_WIDTH:0,DIMENSION_HEIGHT:1,DIRECTION_COUNT:3,DIRECTION_INHERIT:0,DIRECTION_LTR:1,DIRECTION_RTL:2,DISPLAY_COUNT:2,DISPLAY_FLEX:0,DISPLAY_NONE:1,EDGE_COUNT:9,EDGE_LEFT:0,EDGE_TOP:1,EDGE_RIGHT:2,EDGE_BOTTOM:3,EDGE_START:4,EDGE_END:5,EDGE_HORIZONTAL:6,EDGE_VERTICAL:7,EDGE_ALL:8,EXPERIMENTAL_FEATURE_COUNT:1,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:0,FLEX_DIRECTION_COUNT:4,FLEX_DIRECTION_COLUMN:0,FLEX_DIRECTION_COLUMN_REVERSE:1,FLEX_DIRECTION_ROW:2,FLEX_DIRECTION_ROW_REVERSE:3,JUSTIFY_COUNT:6,JUSTIFY_FLEX_START:0,JUSTIFY_CENTER:1,JUSTIFY_FLEX_END:2,JUSTIFY_SPACE_BETWEEN:3,JUSTIFY_SPACE_AROUND:4,JUSTIFY_SPACE_EVENLY:5,LOG_LEVEL_COUNT:6,LOG_LEVEL_ERROR:0,LOG_LEVEL_WARN:1,LOG_LEVEL_INFO:2,LOG_LEVEL_DEBUG:3,LOG_LEVEL_VERBOSE:4,LOG_LEVEL_FATAL:5,MEASURE_MODE_COUNT:3,MEASURE_MODE_UNDEFINED:0,MEASURE_MODE_EXACTLY:1,MEASURE_MODE_AT_MOST:2,NODE_TYPE_COUNT:2,NODE_TYPE_DEFAULT:0,NODE_TYPE_TEXT:1,OVERFLOW_COUNT:3,OVERFLOW_VISIBLE:0,OVERFLOW_HIDDEN:1,OVERFLOW_SCROLL:2,POSITION_TYPE_COUNT:2,POSITION_TYPE_RELATIVE:0,POSITION_TYPE_ABSOLUTE:1,PRINT_OPTIONS_COUNT:3,PRINT_OPTIONS_LAYOUT:1,PRINT_OPTIONS_STYLE:2,PRINT_OPTIONS_CHILDREN:4,UNIT_COUNT:4,UNIT_UNDEFINED:0,UNIT_POINT:1,UNIT_PERCENT:2,UNIT_AUTO:3,WRAP_COUNT:3,WRAP_NO_WRAP:0,WRAP_WRAP:1,WRAP_WRAP_REVERSE:2}},function(module,exports,__webpack_require__){(function(process,Buffer){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return t}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,function(Module,cb){var Module;"function"==typeof Module&&(cb=Module,Module={}),Module.onRuntimeInitialized=function(e,t){return function(){e&&e.apply(this,arguments);try{Module.ccall("nbind_init")}catch(e){return void t(e)}t(null,{bind:Module._nbind_value,reflect:Module.NBind.reflect,queryType:Module.NBind.queryType,toggleLightGC:Module.toggleLightGC,lib:Module})}}(Module.onRuntimeInitialized,cb),Module||(Module=(void 0!==Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1,nodeFS,nodePath;if(Module.ENVIRONMENT)if("WEB"===Module.ENVIRONMENT)ENVIRONMENT_IS_WEB=!0;else if("WORKER"===Module.ENVIRONMENT)ENVIRONMENT_IS_WORKER=!0;else if("NODE"===Module.ENVIRONMENT)ENVIRONMENT_IS_NODE=!0;else{if("SHELL"!==Module.ENVIRONMENT)throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");ENVIRONMENT_IS_SHELL=!0}else ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE)Module.print||(Module.print=console.log),Module.printErr||(Module.printErr=console.warn),Module.read=function(e,t){nodeFS||(nodeFS={}("")),nodePath||(nodePath={}("")),e=nodePath.normalize(e);var i=nodeFS.readFileSync(e);return t?i:i.toString()},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),assert(t.buffer),t},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),Module.inspect=function(){return"[Emscripten Module object]"};else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var t=read(e,"binary");return assert("object"==typeof t),t},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:void 0!==arguments&&(Module.arguments=arguments),"function"==typeof quit&&(Module.quit=function(e,t){quit(e)});else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},ENVIRONMENT_IS_WORKER&&(Module.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Module.readAsync=function(e,t,i){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):i()},n.onerror=i,n.send(null)},void 0!==arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.warn(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),void 0===Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}function globalEval(e){eval.call(null,e)}for(var key in!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.quit||(Module.quit=function(e,t){throw t}),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[],moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var Runtime={setTempRet0:function(e){return tempRet0=e,e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var t=parseInt(e.substr(1));return assert(t%8==0),t/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,t){return"double"===t||"i64"===t?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},getAlignSize:function(e,t,i){return i||"i64"!=e&&"double"!=e?e?Math.min(t||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,i){return i&&i.length?Module["dynCall_"+e].apply(null,[t].concat(i)):Module["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<Runtime.functionPointers.length;t++)if(!Runtime.functionPointers[t])return Runtime.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,t){if(e){assert(t),Runtime.funcWrappers[t]||(Runtime.funcWrappers[t]={});var i=Runtime.funcWrappers[t];return i[e]||(1===t.length?i[e]=function(){return Runtime.dynCall(t,e)}:2===t.length?i[e]=function(i){return Runtime.dynCall(t,e,[i])}:i[e]=function(){return Runtime.dynCall(t,e,Array.prototype.slice.call(arguments))}),i[e]}},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=STACKTOP;return STACKTOP=(STACKTOP=STACKTOP+e|0)+15&-16,t},staticAlloc:function(e){var t=STATICTOP;return STATICTOP=(STATICTOP=STATICTOP+e|0)+15&-16,t},dynamicAlloc:function(e){var t=HEAP32[DYNAMICTOP_PTR>>2],i=-16&(t+e+15|0);if((HEAP32[DYNAMICTOP_PTR>>2]=i,i>=TOTAL_MEMORY)&&!enlargeMemory())return HEAP32[DYNAMICTOP_PTR>>2]=t,0;return t},alignMemory:function(e,t){return e=Math.ceil(e/(t||16))*(t||16)},makeBigInt:function(e,t,i){return i?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var ABORT=0,EXITSTATUS=0,cwrap,ccall;function assert(e,t){e||abort("Assertion failed: "+t)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,t,i,n){switch("*"===(i=i||"i8").charAt(i.length-1)&&(i="i32"),i){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;default:abort("invalid type for setValue: "+i)}}function getValue(e,t,i){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+t)}return null}!function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var t=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,t),t},stringToC:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var i=1+(e.length<<2);stringToUTF8(e,t=Runtime.stackAlloc(i),i)}return t}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,t,i,n,r){var o=getCFunc(e),a=[],s=0;if(n)for(var l=0;l<n.length;l++){var u=toC[i[l]];u?(0===s&&(s=Runtime.stackSave()),a[l]=u(n[l])):a[l]=n[l]}var c=o.apply(null,a);if("string"===t&&(c=Pointer_stringify(c)),0!==s){if(r&&r.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(s)});Runtime.stackRestore(s)}return c};var sourceRegex=/^function\s*[a-zA-Z$_0-9]*\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){var t=e.toString().match(sourceRegex).slice(1);return{arguments:t[0],body:t[1],returnValue:t[2]}}var JSsource=null;function ensureJSsource(){if(!JSsource)for(var e in JSsource={},JSfuncs)JSfuncs.hasOwnProperty(e)&&(JSsource[e]=parseJSFunc(JSfuncs[e]))}cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,t){return"$"+t}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){ensureJSsource(),funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"=("+convertCode.returnValue+");"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(ensureJSsource(),funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;function allocate(e,t,i,n){var r,o;"number"==typeof e?(r=!0,o=e):(r=!1,o=e.length);var a,s="string"==typeof t?t:null;if(a=i==ALLOC_NONE?n:["function"==typeof _malloc?_malloc:Runtime.staticAlloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===i?ALLOC_STATIC:i](Math.max(o,s?1:t.length)),r){var l;n=a;for(assert(0==(3&a)),l=a+(-4&o);n<l;n+=4)HEAP32[n>>2]=0;for(l=a+o;n<l;)HEAP8[n++>>0]=0;return a}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,a):HEAPU8.set(new Uint8Array(e),a),a;for(var u,c,d,h=0;h<o;){var p=e[h];"function"==typeof p&&(p=Runtime.getFunctionIndex(p)),0!==(u=s||t[h])?("i64"==u&&(u="i32"),setValue(a+h,p,u),d!==u&&(c=Runtime.getNativeTypeSize(u),d=u),h+=c):h++}return a}function getMemory(e){return staticSealed?runtimeInitialized?_malloc(e):Runtime.dynamicAlloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,t){if(0===t||!e)return"";for(var i,n=0,r=0;n|=i=HEAPU8[e+r>>0],(0!=i||t)&&(r++,!t||r!=t););t||(t=r);var o="";if(n<128){for(var a;t>0;)a=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(t,1024))),o=o?o+a:a,e+=1024,t-=1024;return o}return Module.UTF8ToString(e)}function AsciiToString(e){for(var t="";;){var i=HEAP8[e++>>0];if(!i)return t;t+=String.fromCharCode(i)}}function stringToAscii(e,t){return writeAsciiToMemory(e,t,!1)}Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii;var UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(e,t){for(var i=t;e[i];)++i;if(i-t>16&&e.subarray&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,i));for(var n,r,o,a,s,l="";;){if(!(n=e[t++]))return l;if(128&n)if(r=63&e[t++],192!=(224&n))if(o=63&e[t++],224==(240&n)?n=(15&n)<<12|r<<6|o:(a=63&e[t++],240==(248&n)?n=(7&n)<<18|r<<12|o<<6|a:(s=63&e[t++],n=248==(252&n)?(3&n)<<24|r<<18|o<<12|a<<6|s:(1&n)<<30|r<<24|o<<18|a<<12|s<<6|63&e[t++])),n<65536)l+=String.fromCharCode(n);else{var u=n-65536;l+=String.fromCharCode(55296|u>>10,56320|1023&u)}else l+=String.fromCharCode((31&n)<<6|r);else l+=String.fromCharCode(n)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,t,i,n){if(!(n>0))return 0;for(var r=i,o=i+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(i>=o)break;t[i++]=s}else if(s<=2047){if(i+1>=o)break;t[i++]=192|s>>6,t[i++]=128|63&s}else if(s<=65535){if(i+2>=o)break;t[i++]=224|s>>12,t[i++]=128|s>>6&63,t[i++]=128|63&s}else if(s<=2097151){if(i+3>=o)break;t[i++]=240|s>>18,t[i++]=128|s>>12&63,t[i++]=128|s>>6&63,t[i++]=128|63&s}else if(s<=67108863){if(i+4>=o)break;t[i++]=248|s>>24,t[i++]=128|s>>18&63,t[i++]=128|s>>12&63,t[i++]=128|s>>6&63,t[i++]=128|63&s}else{if(i+5>=o)break;t[i++]=252|s>>30,t[i++]=128|s>>24&63,t[i++]=128|s>>18&63,t[i++]=128|s>>12&63,t[i++]=128|s>>6&63,t[i++]=128|63&s}}return t[i]=0,i-r}function stringToUTF8(e,t,i){return stringToUTF8Array(e,HEAPU8,t,i)}function lengthBytesUTF8(e){for(var t=0,i=0;i<e.length;++i){var n=e.charCodeAt(i);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++i)),n<=127?++t:t+=n<=2047?2:n<=65535?3:n<=2097151?4:n<=67108863?5:6}return t}Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8;var UTF16Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;function demangle(e){var t=Module.___cxa_demangle||Module.__cxa_demangle;if(t){try{var i=e.substr(1),n=lengthBytesUTF8(i)+1,r=_malloc(n);stringToUTF8(i,r,n);var o=_malloc(4),a=t(r,0,0,o);if(0===getValue(o,"i32")&&a)return Pointer_stringify(a)}catch(e){}finally{r&&_free(r),o&&_free(o),a&&_free(a)}return e}return Runtime.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),e}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var t=demangle(e);return e===t?e:e+" ["+t+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){var e=jsStackTrace();return Module.extraStackTrace&&(e+="\n"+Module.extraStackTrace()),demangleAll(e)}function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}Module.stackTrace=stackTrace,STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||134217728;function getTotalMemory(){return TOTAL_MEMORY}if(TOTAL_MEMORY<TOTAL_STACK&&Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")"),buffer=Module.buffer?Module.buffer:new ArrayBuffer(TOTAL_MEMORY),updateGlobalBufferViews(),HEAP32[0]=1668509029,HEAP16[1]=25459,115!==HEAPU8[2]||99!==HEAPU8[3])throw"Runtime error: expected the system to be little-endian!";function callRuntimeCallbacks(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"==typeof i?void 0===t.arg?Module.dynCall_v(i):Module.dynCall_vi(i,t.arg):i(void 0===t.arg?null:t.arg)}else t()}}Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,t,i){var n=i>0?i:lengthBytesUTF8(e)+1,r=new Array(n),o=stringToUTF8Array(e,r,0,r.length);return t&&(r.length=o),r}function intArrayToString(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];n>255&&(n&=255),t.push(String.fromCharCode(n))}return t.join("")}function writeStringToMemory(e,t,i){var n,r;Runtime.warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!"),i&&(r=t+lengthBytesUTF8(e),n=HEAP8[r]),stringToUTF8(e,t,1/0),i&&(HEAP8[r]=n)}function writeArrayToMemory(e,t){HEAP8.set(e,t)}function writeAsciiToMemory(e,t,i){for(var n=0;n<e.length;++n)HEAP8[t++>>0]=e.charCodeAt(n);i||(HEAP8[t>>0]=0)}if(Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var i=65535&e,n=65535&t;return i*n+((e>>>16)*n+i*(t>>>16)<<16)|0}),Math.imul=Math.imul,!Math.fround){var froundBuffer=new Float32Array(1);Math.fround=function(e){return froundBuffer[0]=e,froundBuffer[0]}}Math.fround=Math.fround,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var t=0;t<32;t++)if(e&1<<31-t)return t;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Math.trunc=Math.trunc;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_round=Math.round,Math_min=Math.min,Math_clz32=Math.clz32,Math_trunc=Math.trunc,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function getUniqueRunDependency(e){return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var ASM_CONSTS=[function(e,t,i,n,r,o,a,s){return _nbind.callbackSignatureList[e].apply(this,arguments)}];function _emscripten_asm_const_iiiiiiii(e,t,i,n,r,o,a,s){return ASM_CONSTS[e](t,i,n,r,o,a,s)}function _emscripten_asm_const_iiiii(e,t,i,n,r){return ASM_CONSTS[e](t,i,n,r)}function _emscripten_asm_const_iiidddddd(e,t,i,n,r,o,a,s,l){return ASM_CONSTS[e](t,i,n,r,o,a,s,l)}function _emscripten_asm_const_iiididi(e,t,i,n,r,o,a){return ASM_CONSTS[e](t,i,n,r,o,a)}function _emscripten_asm_const_iiii(e,t,i,n){return ASM_CONSTS[e](t,i,n)}function _emscripten_asm_const_iiiid(e,t,i,n,r){return ASM_CONSTS[e](t,i,n,r)}function _emscripten_asm_const_iiiiii(e,t,i,n,r,o){return ASM_CONSTS[e](t,i,n,r,o)}STATIC_BASE=Runtime.GLOBAL_BASE,STATICTOP=STATIC_BASE+12800,__ATINIT__.push({func:function(){__GLOBAL__sub_I_Yoga_cpp()}},{func:function(){__GLOBAL__sub_I_nbind_cc()}},{func:function(){__GLOBAL__sub_I_common_cc()}},{func:function(){__GLOBAL__sub_I_Binding_cc()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,192,127,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,3,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,127,0,0,192,127,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,0,0,128,191,0,0,128,191,0,0,192,127,0,0,0,0,0,0,0,0,0,0,128,63,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,3,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,190,12,0,0,200,12,0,0,208,12,0,0,216,12,0,0,230,12,0,0,242,12,0,0,1,0,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,0,192,127,3,0,0,0,180,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,182,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,1,0,0,0,4,0,0,0,183,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,181,45,0,0,184,45,0,0,185,45,0,0,181,45,0,0,181,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,148,4,0,0,3,0,0,0,187,45,0,0,164,4,0,0,188,45,0,0,2,0,0,0,189,45,0,0,164,4,0,0,188,45,0,0,185,45,0,0,164,4,0,0,185,45,0,0,164,4,0,0,188,45,0,0,181,45,0,0,182,45,0,0,181,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,7,0,0,0,183,45,0,0,182,45,0,0,181,45,0,0,190,45,0,0,190,45,0,0,182,45,0,0,182,45,0,0,185,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,181,45,0,0,185,45,0,0,182,45,0,0,185,45,0,0,48,5,0,0,3,0,0,0,56,5,0,0,1,0,0,0,189,45,0,0,185,45,0,0,164,4,0,0,76,5,0,0,2,0,0,0,191,45,0,0,186,45,0,0,182,45,0,0,185,45,0,0,192,45,0,0,185,45,0,0,182,45,0,0,186,45,0,0,185,45,0,0,76,5,0,0,76,5,0,0,136,5,0,0,182,45,0,0,181,45,0,0,2,0,0,0,190,45,0,0,136,5,0,0,56,19,0,0,156,5,0,0,2,0,0,0,184,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,8,0,0,0,9,0,0,0,1,0,0,0,10,0,0,0,204,5,0,0,181,45,0,0,181,45,0,0,2,0,0,0,180,45,0,0,204,5,0,0,2,0,0,0,195,45,0,0,236,5,0,0,97,19,0,0,198,45,0,0,211,45,0,0,212,45,0,0,213,45,0,0,214,45,0,0,215,45,0,0,188,45,0,0,182,45,0,0,216,45,0,0,217,45,0,0,218,45,0,0,219,45,0,0,192,45,0,0,181,45,0,0,0,0,0,0,185,45,0,0,110,19,0,0,186,45,0,0,115,19,0,0,221,45,0,0,120,19,0,0,148,4,0,0,132,19,0,0,96,6,0,0,145,19,0,0,222,45,0,0,164,19,0,0,223,45,0,0,173,19,0,0,0,0,0,0,3,0,0,0,104,6,0,0,1,0,0,0,187,45,0,0,0,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,12,0,0,0,1,0,0,0,13,0,0,0,185,45,0,0,224,45,0,0,164,6,0,0,188,45,0,0,172,6,0,0,180,6,0,0,2,0,0,0,188,6,0,0,7,0,0,0,224,45,0,0,7,0,0,0,164,6,0,0,1,0,0,0,213,45,0,0,185,45,0,0,224,45,0,0,172,6,0,0,185,45,0,0,224,45,0,0,164,6,0,0,185,45,0,0,224,45,0,0,211,45,0,0,211,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,222,45,0,0,211,45,0,0,224,45,0,0,172,6,0,0,222,45,0,0,211,45,0,0,224,45,0,0,188,45,0,0,222,45,0,0,211,45,0,0,40,7,0,0,188,45,0,0,2,0,0,0,224,45,0,0,185,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,188,45,0,0,222,45,0,0,224,45,0,0,148,4,0,0,185,45,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,148,4,0,0,185,45,0,0,164,6,0,0,148,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,15,0,0,0,1,0,0,0,16,0,0,0,148,7,0,0,2,0,0,0,225,45,0,0,183,45,0,0,188,45,0,0,168,7,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,234,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,148,45,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,9,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,2,0,0,0,242,45,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,110,111,100,101,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,119,104,105,99,104,32,115,116,105,108,108,32,104,97,115,32,99,104,105,108,100,114,101,110,32,97,116,116,97,99,104,101,100,0,67,97,110,110,111,116,32,114,101,115,101,116,32,97,32,110,111,100,101,32,115,116,105,108,108,32,97,116,116,97,99,104,101,100,32,116,111,32,97,32,112,97,114,101,110,116,0,67,111,117,108,100,32,110,111,116,32,97,108,108,111,99,97,116,101,32,109,101,109,111,114,121,32,102,111,114,32,99,111,110,102,105,103,0,67,97,110,110,111,116,32,115,101,116,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,67,104,105,108,100,32,97,108,114,101,97,100,121,32,104,97,115,32,97,32,112,97,114,101,110,116,44,32,105,116,32,109,117,115,116,32,98,101,32,114,101,109,111,118,101,100,32,102,105,114,115,116,46,0,67,97,110,110,111,116,32,97,100,100,32,99,104,105,108,100,58,32,78,111,100,101,115,32,119,105,116,104,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,104,97,118,101,32,99,104,105,108,100,114,101,110,46,0,79,110,108,121,32,108,101,97,102,32,110,111,100,101,115,32,119,105,116,104,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,115,115,104,111,117,108,100,32,109,97,110,117,97,108,108,121,32,109,97,114,107,32,116,104,101,109,115,101,108,118,101,115,32,97,115,32,100,105,114,116,121,0,67,97,110,110,111,116,32,103,101,116,32,108,97,121,111,117,116,32,112,114,111,112,101,114,116,105,101,115,32,111,102,32,109,117,108,116,105,45,101,100,103,101,32,115,104,111,114,116,104,97,110,100,115,0,37,115,37,100,46,123,91,115,107,105,112,112,101,100,93,32,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,61,62,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,37,115,37,100,46,123,37,115,0,42,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,97,119,58,32,37,102,32,97,104,58,32,37,102,32,37,115,10,0,37,115,37,100,46,125,37,115,0,119,109,58,32,37,115,44,32,104,109,58,32,37,115,44,32,100,58,32,40,37,102,44,32,37,102,41,32,37,115,10,0,79,117,116,32,111,102,32,99,97,99,104,101,32,101,110,116,114,105,101,115,33,10,0,83,99,97,108,101,32,102,97,99,116,111,114,32,115,104,111,117,108,100,32,110,111,116,32,98,101,32,108,101,115,115,32,116,104,97,110,32,122,101,114,111,0,105,110,105,116,105,97,108,0,37,115,10,0,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,0,85,78,68,69,70,73,78,69,68,0,69,88,65,67,84,76,89,0,65,84,95,77,79,83,84,0,76,65,89,95,85,78,68,69,70,73,78,69,68,0,76,65,89,95,69,88,65,67,84,76,89,0,76,65,89,95,65,84,95,77,79,83,84,0,97,118,97,105,108,97,98,108,101,87,105,100,116,104,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,119,105,100,116,104,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,97,118,97,105,108,97,98,108,101,72,101,105,103,104,116,32,105,115,32,105,110,100,101,102,105,110,105,116,101,32,115,111,32,104,101,105,103,104,116,77,101,97,115,117,114,101,77,111,100,101,32,109,117,115,116,32,98,101,32,89,71,77,101,97,115,117,114,101,77,111,100,101,85,110,100,101,102,105,110,101,100,0,102,108,101,120,0,115,116,114,101,116,99,104,0,109,117,108,116,105,108,105,110,101,45,115,116,114,101,116,99,104,0,69,120,112,101,99,116,101,100,32,110,111,100,101,32,116,111,32,104,97,118,101,32,99,117,115,116,111,109,32,109,101,97,115,117,114,101,32,102,117,110,99,116,105,111,110,0,109,101,97,115,117,114,101,0,69,120,112,101,99,116,32,99,117,115,116,111,109,32,98,97,115,101,108,105,110,101,32,102,117,110,99,116,105,111,110,32,116,111,32,110,111,116,32,114,101,116,117,114,110,32,78,97,78,0,97,98,115,45,109,101,97,115,117,114,101,0,97,98,115,45,108,97,121,111,117,116,0,78,111,100,101,0,99,114,101,97,116,101,68,101,102,97,117,108,116,0,99,114,101,97,116,101,87,105,116,104,67,111,110,102,105,103,0,100,101,115,116,114,111,121,0,114,101,115,101,116,0,99,111,112,121,83,116,121,108,101,0,115,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,115,101,116,80,111,115,105,116,105,111,110,0,115,101,116,80,111,115,105,116,105,111,110,80,101,114,99,101,110,116,0,115,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,115,101,116,65,108,105,103,110,73,116,101,109,115,0,115,101,116,65,108,105,103,110,83,101,108,102,0,115,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,115,101,116,70,108,101,120,87,114,97,112,0,115,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,115,101,116,77,97,114,103,105,110,0,115,101,116,77,97,114,103,105,110,80,101,114,99,101,110,116,0,115,101,116,77,97,114,103,105,110,65,117,116,111,0,115,101,116,79,118,101,114,102,108,111,119,0,115,101,116,68,105,115,112,108,97,121,0,115,101,116,70,108,101,120,0,115,101,116,70,108,101,120,66,97,115,105,115,0,115,101,116,70,108,101,120,66,97,115,105,115,80,101,114,99,101,110,116,0,115,101,116,70,108,101,120,71,114,111,119,0,115,101,116,70,108,101,120,83,104,114,105,110,107,0,115,101,116,87,105,100,116,104,0,115,101,116,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,87,105,100,116,104,65,117,116,111,0,115,101,116,72,101,105,103,104,116,0,115,101,116,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,72,101,105,103,104,116,65,117,116,111,0,115,101,116,77,105,110,87,105,100,116,104,0,115,101,116,77,105,110,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,105,110,72,101,105,103,104,116,0,115,101,116,77,105,110,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,77,97,120,87,105,100,116,104,0,115,101,116,77,97,120,87,105,100,116,104,80,101,114,99,101,110,116,0,115,101,116,77,97,120,72,101,105,103,104,116,0,115,101,116,77,97,120,72,101,105,103,104,116,80,101,114,99,101,110,116,0,115,101,116,65,115,112,101,99,116,82,97,116,105,111,0,115,101,116,66,111,114,100,101,114,0,115,101,116,80,97,100,100,105,110,103,0,115,101,116,80,97,100,100,105,110,103,80,101,114,99,101,110,116,0,103,101,116,80,111,115,105,116,105,111,110,84,121,112,101,0,103,101,116,80,111,115,105,116,105,111,110,0,103,101,116,65,108,105,103,110,67,111,110,116,101,110,116,0,103,101,116,65,108,105,103,110,73,116,101,109,115,0,103,101,116,65,108,105,103,110,83,101,108,102,0,103,101,116,70,108,101,120,68,105,114,101,99,116,105,111,110,0,103,101,116,70,108,101,120,87,114,97,112,0,103,101,116,74,117,115,116,105,102,121,67,111,110,116,101,110,116,0,103,101,116,77,97,114,103,105,110,0,103,101,116,70,108,101,120,66,97,115,105,115,0,103,101,116,70,108,101,120,71,114,111,119,0,103,101,116,70,108,101,120,83,104,114,105,110,107,0,103,101,116,87,105,100,116,104,0,103,101,116,72,101,105,103,104,116,0,103,101,116,77,105,110,87,105,100,116,104,0,103,101,116,77,105,110,72,101,105,103,104,116,0,103,101,116,77,97,120,87,105,100,116,104,0,103,101,116,77,97,120,72,101,105,103,104,116,0,103,101,116,65,115,112,101,99,116,82,97,116,105,111,0,103,101,116,66,111,114,100,101,114,0,103,101,116,79,118,101,114,102,108,111,119,0,103,101,116,68,105,115,112,108,97,121,0,103,101,116,80,97,100,100,105,110,103,0,105,110,115,101,114,116,67,104,105,108,100,0,114,101,109,111,118,101,67,104,105,108,100,0,103,101,116,67,104,105,108,100,67,111,117,110,116,0,103,101,116,80,97,114,101,110,116,0,103,101,116,67,104,105,108,100,0,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,117,110,115,101,116,77,101,97,115,117,114,101,70,117,110,99,0,109,97,114,107,68,105,114,116,121,0,105,115,68,105,114,116,121,0,99,97,108,99,117,108,97,116,101,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,76,101,102,116,0,103,101,116,67,111,109,112,117,116,101,100,82,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,84,111,112,0,103,101,116,67,111,109,112,117,116,101,100,66,111,116,116,111,109,0,103,101,116,67,111,109,112,117,116,101,100,87,105,100,116,104,0,103,101,116,67,111,109,112,117,116,101,100,72,101,105,103,104,116,0,103,101,116,67,111,109,112,117,116,101,100,76,97,121,111,117,116,0,103,101,116,67,111,109,112,117,116,101,100,77,97,114,103,105,110,0,103,101,116,67,111,109,112,117,116,101,100,66,111,114,100,101,114,0,103,101,116,67,111,109,112,117,116,101,100,80,97,100,100,105,110,103,0,67,111,110,102,105,103,0,99,114,101,97,116,101,0,115,101,116,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,115,101,116,80,111,105,110,116,83,99,97,108,101,70,97,99,116,111,114,0,105,115,69,120,112,101,114,105,109,101,110,116,97,108,70,101,97,116,117,114,101,69,110,97,98,108,101,100,0,86,97,108,117,101,0,76,97,121,111,117,116,0,83,105,122,101,0,103,101,116,73,110,115,116,97,110,99,101,67,111,117,110,116,0,73,110,116,54,52,0,1,1,1,2,2,4,4,4,4,8,8,4,8,118,111,105,100,0,98,111,111,108,0,115,116,100,58,58,115,116,114,105,110,103,0,99,98,70,117,110,99,116,105,111,110,32,38,0,99,111,110,115,116,32,99,98,70,117,110,99,116,105,111,110,32,38,0,69,120,116,101,114,110,97,108,0,66,117,102,102,101,114,0,78,66,105,110,100,73,68,0,78,66,105,110,100,0,98,105,110,100,95,118,97,108,117,101,0,114,101,102,108,101,99,116,0,113,117,101,114,121,84,121,112,101,0,108,97,108,108,111,99,0,108,114,101,115,101,116,0,123,114,101,116,117,114,110,40,95,110,98,105,110,100,46,99,97,108,108,98,97,99,107,83,105,103,110,97,116,117,114,101,76,105,115,116,91,36,48,93,46,97,112,112,108,121,40,116,104,105,115,44,97,114,103,117,109,101,110,116,115,41,41,59,125,0,95,110,98,105,110,100,95,110,101,119,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=STATICTOP;function _atexit(e,t){__ATEXIT__.unshift({func:e,arg:t})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function _abort(){Module.abort()}function __ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj(){Module.printErr("missing function: _ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj"),abort(-1)}function __decorate(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}function _defineHidden(e){return function(t,i){Object.defineProperty(t,i,{configurable:!1,enumerable:!1,value:e,writable:!0})}}STATICTOP+=16;var _nbind={};function __nbind_free_external(e){_nbind.externalList[e].dereference(e)}function __nbind_reference_external(e){_nbind.externalList[e].reference()}function _llvm_stackrestore(e){var t=_llvm_stacksave,i=t.LLVM_SAVEDSTACKS[e];t.LLVM_SAVEDSTACKS.splice(e,1),Runtime.stackRestore(i)}function __nbind_register_pool(e,t,i,n){_nbind.Pool.pageSize=e,_nbind.Pool.usedPtr=t/4,_nbind.Pool.rootPtr=i,_nbind.Pool.pagePtr=n/4,HEAP32[t/4]=16909060,1==HEAP8[t]&&(_nbind.bigEndian=!0),HEAP32[t/4]=0,_nbind.makeTypeKindTbl=((r={})[1024]=_nbind.PrimitiveType,r[64]=_nbind.Int64Type,r[2048]=_nbind.BindClass,r[3072]=_nbind.BindClassPtr,r[4096]=_nbind.SharedClassPtr,r[5120]=_nbind.ArrayType,r[6144]=_nbind.ArrayType,r[7168]=_nbind.CStringType,r[9216]=_nbind.CallbackType,r[10240]=_nbind.BindType,r),_nbind.makeTypeNameTbl={Buffer:_nbind.BufferType,External:_nbind.ExternalType,Int64:_nbind.Int64Type,_nbind_new:_nbind.CreateValueType,bool:_nbind.BooleanType,"cbFunction &":_nbind.CallbackType,"const cbFunction &":_nbind.CallbackType,"const std::string &":_nbind.StringType,"std::string":_nbind.StringType},Module.toggleLightGC=_nbind.toggleLightGC,_nbind.callUpcast=Module.dynCall_ii;var r,o=_nbind.makeType(_nbind.constructType,{flags:2048,id:0,name:""});o.proto=Module,_nbind.BindClass.list.push(o)}function _emscripten_set_main_loop_timing(e,t){if(Browser.mainLoop.timingMode=e,Browser.mainLoop.timingValue=t,!Browser.mainLoop.func)return 1;if(0==e)Browser.mainLoop.scheduler=function(){var e=0|Math.max(0,Browser.mainLoop.tickStartTime+t-_emscripten_get_now());setTimeout(Browser.mainLoop.runner,e)},Browser.mainLoop.method="timeout";else if(1==e)Browser.mainLoop.scheduler=function(){Browser.requestAnimationFrame(Browser.mainLoop.runner)},Browser.mainLoop.method="rAF";else if(2==e){if(!window.setImmediate){var i=[],n="setimmediate";window.addEventListener("message",function(e){e.source===window&&e.data===n&&(e.stopPropagation(),i.shift()())},!0),window.setImmediate=function(e){i.push(e),ENVIRONMENT_IS_WORKER?(void 0===Module.setImmediates&&(Module.setImmediates=[]),Module.setImmediates.push(e),window.postMessage({target:n})):window.postMessage(n,"*")}}Browser.mainLoop.scheduler=function(){window.setImmediate(Browser.mainLoop.runner)},Browser.mainLoop.method="immediate"}return 0}function _emscripten_get_now(){abort()}function _emscripten_set_main_loop(e,t,i,n,r){var o;Module.noExitRuntime=!0,assert(!Browser.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Browser.mainLoop.func=e,Browser.mainLoop.arg=n,o=void 0!==n?function(){Module.dynCall_vi(e,n)}:function(){Module.dynCall_v(e)};var a=Browser.mainLoop.currentlyRunningMainloop;if(Browser.mainLoop.runner=function(){if(!ABORT)if(Browser.mainLoop.queue.length>0){var e=Date.now(),t=Browser.mainLoop.queue.shift();if(t.func(t.arg),Browser.mainLoop.remainingBlockers){var i=Browser.mainLoop.remainingBlockers,n=i%1==0?i-1:Math.floor(i);t.counted?Browser.mainLoop.remainingBlockers=n:(n+=.5,Browser.mainLoop.remainingBlockers=(8*i+n)/9)}if(console.log('main loop blocker "'+t.name+'" took '+(Date.now()-e)+" ms"),Browser.mainLoop.updateStatus(),a<Browser.mainLoop.currentlyRunningMainloop)return;setTimeout(Browser.mainLoop.runner,0)}else a<Browser.mainLoop.currentlyRunningMainloop||(Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0,1==Browser.mainLoop.timingMode&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0?Browser.mainLoop.scheduler():(0==Browser.mainLoop.timingMode&&(Browser.mainLoop.tickStartTime=_emscripten_get_now()),"timeout"===Browser.mainLoop.method&&Module.ctx&&(Module.printErr("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Browser.mainLoop.method=""),Browser.mainLoop.runIter(o),a<Browser.mainLoop.currentlyRunningMainloop||("object"==typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Browser.mainLoop.scheduler())))},r||(t&&t>0?_emscripten_set_main_loop_timing(0,1e3/t):_emscripten_set_main_loop_timing(1,1),Browser.mainLoop.scheduler()),i)throw"SimulateInfiniteLoop"}var Browser={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null,Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var e=Browser.mainLoop.timingMode,t=Browser.mainLoop.timingValue,i=Browser.mainLoop.func;Browser.mainLoop.func=null,_emscripten_set_main_loop(i,0,!1,Browser.mainLoop.arg,!0),_emscripten_set_main_loop_timing(e,t),Browser.mainLoop.scheduler()},updateStatus:function(){if(Module.setStatus){var e=Module.statusMessage||"Please wait...",t=Browser.mainLoop.remainingBlockers,i=Browser.mainLoop.expectedBlockers;t?t<i?Module.setStatus(e+" ("+(i-t)+"/"+i+")"):Module.setStatus(e):Module.setStatus("")}},runIter:function(e){if(!ABORT){if(Module.preMainLoop)if(!1===Module.preMainLoop())return;try{e()}catch(e){if(e instanceof ExitStatus)return;throw e&&"object"==typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}Module.postMainLoop&&Module.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(Module.preloadPlugins||(Module.preloadPlugins=[]),!Browser.initted){Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch(e){Browser.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Browser.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,Module.noImageDecoding||void 0!==Browser.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var e={canHandle:function(e){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,i,n){var r=null;if(Browser.hasBlobConstructor)try{(r=new Blob([e],{type:Browser.getMimetype(t)})).size!==e.length&&(r=new Blob([new Uint8Array(e).buffer],{type:Browser.getMimetype(t)}))}catch(e){Runtime.warnOnce("Blob constructor present but fails: "+e+"; falling back to blob builder")}if(!r){var o=new Browser.BlobBuilder;o.append(new Uint8Array(e).buffer),r=o.getBlob()}var a=Browser.URLObject.createObjectURL(r),s=new Image;s.onload=function(){assert(s.complete,"Image "+t+" could not be decoded");var n=document.createElement("canvas");n.width=s.width,n.height=s.height,n.getContext("2d").drawImage(s,0,0),Module.preloadedImages[t]=n,Browser.URLObject.revokeObjectURL(a),i&&i(e)},s.onerror=function(e){console.log("Image "+a+" could not be decoded"),n&&n()},s.src=a}};Module.preloadPlugins.push(e);var t={canHandle:function(e){return!Module.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,i,n){var r=!1;function o(n){r||(r=!0,Module.preloadedAudios[t]=n,i&&i(e))}function a(){r||(r=!0,Module.preloadedAudios[t]=new Audio,n&&n())}if(!Browser.hasBlobConstructor)return a();try{var s=new Blob([e],{type:Browser.getMimetype(t)})}catch(e){return a()}var l=Browser.URLObject.createObjectURL(s),u=new Audio;u.addEventListener("canplaythrough",function(){o(u)},!1),u.onerror=function(i){r||(console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach"),u.src="data:audio/x-"+t.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="",n=0,r=0,o=0;o<e.length;o++)for(n=n<<8|e[o],r+=8;r>=6;){var a=n>>r-6&63;r-=6,i+=t[a]}return 2==r?(i+=t[(3&n)<<4],i+="=="):4==r&&(i+=t[(15&n)<<2],i+="="),i}(e),o(u))},u.src=l,Browser.safeSetTimeout(function(){o(u)},1e4)}};Module.preloadPlugins.push(t);var i=Module.canvas;i&&(i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock||i.msRequestPointerLock||function(){},i.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},i.exitPointerLock=i.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",n,!1),document.addEventListener("mozpointerlockchange",n,!1),document.addEventListener("webkitpointerlockchange",n,!1),document.addEventListener("mspointerlockchange",n,!1),Module.elementPointerLock&&i.addEventListener("click",function(e){!Browser.pointerLock&&Module.canvas.requestPointerLock&&(Module.canvas.requestPointerLock(),e.preventDefault())},!1))}function n(){Browser.pointerLock=document.pointerLockElement===Module.canvas||document.mozPointerLockElement===Module.canvas||document.webkitPointerLockElement===Module.canvas||document.msPointerLockElement===Module.canvas}},createContext:function(e,t,i,n){if(t&&Module.ctx&&e==Module.canvas)return Module.ctx;var r,o;if(t){var a={antialias:!1,alpha:!1};if(n)for(var s in n)a[s]=n[s];(o=GL.createContext(e,a))&&(r=GL.getContext(o).GLctx)}else r=e.getContext("2d");return r?(i&&(t||assert("undefined"==typeof GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),Module.ctx=r,t&&GL.makeContextCurrent(o),Module.useWebGL=t,Browser.moduleContextCreatedCallbacks.forEach(function(e){e()}),Browser.init()),r):null},destroyContext:function(e,t,i){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,t,i){Browser.lockPointer=e,Browser.resizeCanvas=t,Browser.vrDevice=i,void 0===Browser.lockPointer&&(Browser.lockPointer=!0),void 0===Browser.resizeCanvas&&(Browser.resizeCanvas=!1),void 0===Browser.vrDevice&&(Browser.vrDevice=null);var n=Module.canvas;function r(){Browser.isFullscreen=!1;var e=n.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(n.exitFullscreen=document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){},n.exitFullscreen=n.exitFullscreen.bind(document),Browser.lockPointer&&n.requestPointerLock(),Browser.isFullscreen=!0,Browser.resizeCanvas&&Browser.setFullscreenCanvasSize()):(e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullscreen),Module.onFullscreen&&Module.onFullscreen(Browser.isFullscreen),Browser.updateCanvasDimensions(n)}Browser.fullscreenHandlersInstalled||(Browser.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",r,!1),document.addEventListener("mozfullscreenchange",r,!1),document.addEventListener("webkitfullscreenchange",r,!1),document.addEventListener("MSFullscreenChange",r,!1));var o=document.createElement("div");n.parentNode.insertBefore(o,n),o.appendChild(n),o.requestFullscreen=o.requestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullscreen?function(){o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(o.webkitRequestFullScreen?function(){o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),i?o.requestFullscreen({vrDisplay:i}):o.requestFullscreen()},requestFullScreen:function(e,t,i){return Module.printErr("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),Browser.requestFullScreen=function(e,t,i){return Browser.requestFullscreen(e,t,i)},Browser.requestFullscreen(e,t,i)},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(0===Browser.nextRAF)Browser.nextRAF=t+1e3/60;else for(;t+2>=Browser.nextRAF;)Browser.nextRAF+=1e3/60;var i=Math.max(Browser.nextRAF-t,0);setTimeout(e,i)},requestAnimationFrame:function(e){"undefined"==typeof window?Browser.fakeRequestAnimationFrame(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||Browser.fakeRequestAnimationFrame),window.requestAnimationFrame(e))},safeCallback:function(e){return function(){if(!ABORT)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(Browser.allowAsyncCallbacks=!0,Browser.queuedAsyncCallbacks.length>0){var e=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[],e.forEach(function(e){e()})}},safeRequestAnimationFrame:function(e){return Browser.requestAnimationFrame(function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))})},safeSetTimeout:function(e,t){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||(Browser.allowAsyncCallbacks?e():Browser.queuedAsyncCallbacks.push(e))},t)},safeSetInterval:function(e,t){return Module.noExitRuntime=!0,setInterval(function(){ABORT||Browser.allowAsyncCallbacks&&e()},t)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail;break;case"mousewheel":t=e.wheelDelta;break;case"wheel":t=e.deltaY;break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Browser.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(e),Browser.mouseMovementY=Browser.getMovementY(e)),"undefined"!=typeof SDL?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var t=Module.canvas.getBoundingClientRect(),i=Module.canvas.width,n=Module.canvas.height,r=void 0!==window.scrollX?window.scrollX:window.pageXOffset,o=void 0!==window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var a=e.touch;if(void 0===a)return;var s=a.pageX-(r+t.left),l=a.pageY-(o+t.top),u={x:s*=i/t.width,y:l*=n/t.height};if("touchstart"===e.type)Browser.lastTouches[a.identifier]=u,Browser.touches[a.identifier]=u;else if("touchend"===e.type||"touchmove"===e.type){var c=Browser.touches[a.identifier];c||(c=u),Browser.lastTouches[a.identifier]=c,Browser.touches[a.identifier]=u}return}var d=e.pageX-(r+t.left),h=e.pageY-(o+t.top);d*=i/t.width,h*=n/t.height,Browser.mouseMovementX=d-Browser.mouseX,Browser.mouseMovementY=h-Browser.mouseY,Browser.mouseX=d,Browser.mouseY=h}},asyncLoad:function(e,t,i,n){var r=n?"":getUniqueRunDependency("al "+e);Module.readAsync(e,function(i){assert(i,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(i)),r&&removeRunDependency(r)},function(t){if(!i)throw'Loading data file "'+e+'" failed.';i()}),r&&addRunDependency(r)},resizeListeners:[],updateResizeListeners:function(){var e=Module.canvas;Browser.resizeListeners.forEach(function(t){t(e.width,e.height)})},setCanvasSize:function(e,t,i){var n=Module.canvas;Browser.updateCanvasDimensions(n,e,t),i||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e|=8388608,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e&=-8388609,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},updateCanvasDimensions:function(e,t,i){t&&i?(e.widthNative=t,e.heightNative=i):(t=e.widthNative,i=e.heightNative);var n=t,r=i;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(n/r<Module.forcedAspectRatio?n=Math.round(r*Module.forcedAspectRatio):r=Math.round(n/Module.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var o=Math.min(screen.width/n,screen.height/r);n=Math.round(n*o),r=Math.round(r*o)}Browser.resizeCanvas?(e.width!=n&&(e.width=n),e.height!=r&&(e.height=r),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=i&&(e.height=i),void 0!==e.style&&(n!=t||r!=i?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",r+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=Browser.nextWgetRequestHandle;return Browser.nextWgetRequestHandle++,e}},SYSCALLS={varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},get64:function(){var e=SYSCALLS.get(),t=SYSCALLS.get();return assert(e>=0?0===t:-1===t),e},getZero:function(){assert(0===SYSCALLS.get())}};function ___syscall6(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD();return FS.close(i),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall54(e,t){SYSCALLS.varargs=t;try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _typeModule(e){var t=[[0,1,"X"],[1,1,"const X"],[128,1,"X *"],[256,1,"X &"],[384,1,"X &&"],[512,1,"std::shared_ptr<X>"],[640,1,"std::unique_ptr<X>"],[5120,1,"std::vector<X>"],[6144,2,"std::array<X, Y>"],[9216,-1,"std::function<X (Y)>"]];function i(e,t,i,n,r,o){if(1==t){var a=896&n;128!=a&&256!=a&&384!=a||(e="X const")}return(o?i.replace("X",e).replace("Y",r):e.replace("X",i).replace("Y",r)).replace(/([*&]) (?=[*&])/g,"$1")}function n(e,t){var i=t.flags,n=896&i,r=15360&i;return t.name||1024!=r||(1==t.ptrSize?t.name=(16&i?"":(8&i?"un":"")+"signed ")+"char":t.name=(8&i?"u":"")+(32&i?"float":"int")+8*t.ptrSize+"_t"),8!=t.ptrSize||32&i||(r=64),2048==r&&(512==n||640==n?r=4096:n&&(r=3072)),e(r,t)}var r={Type:function(){function e(e){this.id=e.id,this.name=e.name,this.flags=e.flags,this.spec=e}return e.prototype.toString=function(){return this.name},e}(),getComplexType:function e(r,o,a,s,l,u,c,d){void 0===u&&(u="X"),void 0===d&&(d=1);var h=a(r);if(h)return h;var p,f=s(r),m=f.placeholderFlag,_=t[m];c&&_&&(u=i(c[2],c[0],u,_[0],"?",!0)),0==m&&(p="Unbound"),m>=10&&(p="Corrupt"),d>20&&(p="Deeply nested"),p&&function(e,t,i,n,r){throw new Error(e+" type "+i.replace("X",t+"?")+(n?" with flag "+n:"")+" in "+r)}(p,r,u,m,l||"?");var g,b=e(f.paramList[0],o,a,s,l,u,_,d+1),v={flags:_[0],id:r,name:"",paramList:[b]},y=[],w="?";switch(f.placeholderFlag){case 1:g=b.spec;break;case 2:if(1024==(15360&b.flags)&&1==b.spec.ptrSize){v.flags=7168;break}case 3:case 6:case 5:g=b.spec,b.flags;break;case 8:w=""+f.paramList[1],v.paramList.push(f.paramList[1]);break;case 9:for(var E=0,T=f.paramList[1];E<T.length;E++){var j=e(T[E],o,a,s,l,u,_,d+1);y.push(j.name),v.paramList.push(j)}w=y.join(", ")}if(v.name=i(_[2],_[0],b.name,b.flags,w),g){for(var M=0,S=Object.keys(g);M<S.length;M++){var k=S[M];v[k]=v[k]||g[k]}v.flags|=g.flags}return n(o,v)},makeType:n,structureList:t};return e.output=r,e.output||r}function __nbind_register_type(e,t){var i={flags:10240,id:e,name:_nbind.readAsciiString(t)};_nbind.makeType(_nbind.constructType,i)}function __nbind_register_callback_signature(e,t){var i=_nbind.readTypeIdList(e,t),n=_nbind.callbackSignatureList.length;return _nbind.callbackSignatureList[n]=_nbind.makeJSCaller(i),n}function __extends(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function __nbind_register_class(e,t,i,n,r,o,a){var s=_nbind.readAsciiString(a),l=_nbind.readPolicyList(t),u=HEAPU32.subarray(e/4,e/4+2),c={flags:2048|(l.Value?2:0),id:u[0],name:s},d=_nbind.makeType(_nbind.constructType,c);d.ptrType=_nbind.getComplexType(u[1],_nbind.constructType,_nbind.getType,_nbind.queryType),d.destroy=_nbind.makeMethodCaller(d.ptrType,{boundID:c.id,flags:0,name:"destroy",num:0,ptr:o,title:d.name+".free",typeList:["void","uint32_t","uint32_t"]}),r&&(d.superIdList=Array.prototype.slice.call(HEAPU32.subarray(i/4,i/4+r)),d.upcastList=Array.prototype.slice.call(HEAPU32.subarray(n/4,n/4+r))),Module[d.name]=d.makeBound(l),_nbind.BindClass.list.push(d)}function _removeAccessorPrefix(e){return e.replace(/^[Gg]et_?([A-Z]?([A-Z]?))/,function(e,t,i){return i?t:t.toLowerCase()})}function __nbind_register_function(e,t,i,n,r,o,a,s,l,u){var c,d=_nbind.getType(e),h=_nbind.readPolicyList(t),p=_nbind.readTypeIdList(i,n);if(5==a)c=[{direct:r,name:"__nbindConstructor",ptr:0,title:d.name+" constructor",typeList:["uint32_t"].concat(p.slice(1))},{direct:o,name:"__nbindValueConstructor",ptr:0,title:d.name+" value constructor",typeList:["void","uint32_t"].concat(p.slice(1))}];else{var f=_nbind.readAsciiString(s),m=(d.name&&d.name+".")+f;3!=a&&4!=a||(f=_removeAccessorPrefix(f)),c=[{boundID:e,direct:o,name:f,ptr:r,title:m,typeList:p}]}for(var _=0,g=c;_<g.length;_++){var b=g[_];b.signatureType=a,b.policyTbl=h,b.num=l,b.flags=u,d.addMethod(b)}}function _nbind_value(e,t){_nbind.typeNameTbl[e]||_nbind.throwError("Unknown value type "+e),Module.NBind.bind_value(e,t),_defineHidden(_nbind.typeNameTbl[e].proto.prototype.__nbindValueConstructor)(t.prototype,"__nbindValueConstructor")}function __nbind_get_value_object(e,t){var i=_nbind.popValue(e);if(!i.fromJS)throw new Error("Object "+i+" has no fromJS function");i.fromJS(function(){i.__nbindValueConstructor.apply(this,Array.prototype.concat.apply([t],arguments))})}function _emscripten_memcpy_big(e,t,i){return HEAPU8.set(HEAPU8.subarray(t,t+i),e),e}function __nbind_register_primitive(e,t,i){var n={flags:1024|i,id:e,ptrSize:t};_nbind.makeType(_nbind.constructType,n)}Module._nbind_value=_nbind_value;var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_STATIC);function ___setErrNo(e){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=e),e}function _llvm_stacksave(){var e=_llvm_stacksave;return e.LLVM_SAVEDSTACKS||(e.LLVM_SAVEDSTACKS=[]),e.LLVM_SAVEDSTACKS.push(Runtime.stackSave()),e.LLVM_SAVEDSTACKS.length-1}function ___syscall140(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.getStreamFromFD(),n=(SYSCALLS.get(),SYSCALLS.get()),r=SYSCALLS.get(),o=SYSCALLS.get(),a=n;return FS.llseek(i,a,o),HEAP32[r>>2]=i.position,i.getdents&&0===a&&0===o&&(i.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,t){SYSCALLS.varargs=t;try{var i=SYSCALLS.get(),n=SYSCALLS.get(),r=SYSCALLS.get(),o=0;___syscall146.buffer||(___syscall146.buffers=[null,[],[]],___syscall146.printChar=function(e,t){var i=___syscall146.buffers[e];assert(i),0===t||10===t?((1===e?Module.print:Module.printErr)(UTF8ArrayToString(i,0)),i.length=0):i.push(t)});for(var a=0;a<r;a++){for(var s=HEAP32[n+8*a>>2],l=HEAP32[n+(8*a+4)>>2],u=0;u<l;u++)___syscall146.printChar(i,HEAPU8[s+u]);o+=l}return o}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function __nbind_finish(){for(var e=0,t=_nbind.BindClass.list;e<t.length;e++){t[e].finish()}}var ___dso_handle=STATICTOP;function invoke_viiiii(e,t,i,n,r,o){try{Module.dynCall_viiiii(e,t,i,n,r,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vif(e,t,i){try{Module.dynCall_vif(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vid(e,t,i){try{Module.dynCall_vid(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_fiff(e,t,i,n){try{return Module.dynCall_fiff(e,t,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vi(e,t){try{Module.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vii(e,t,i){try{Module.dynCall_vii(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_ii(e,t){try{return Module.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viddi(e,t,i,n,r){try{Module.dynCall_viddi(e,t,i,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_vidd(e,t,i,n){try{Module.dynCall_vidd(e,t,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiii(e,t,i,n){try{return Module.dynCall_iiii(e,t,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_diii(e,t,i,n){try{return Module.dynCall_diii(e,t,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_di(e,t){try{return Module.dynCall_di(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iid(e,t,i){try{return Module.dynCall_iid(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iii(e,t,i){try{return Module.dynCall_iii(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiddi(e,t,i,n,r,o){try{Module.dynCall_viiddi(e,t,i,n,r,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiiiii(e,t,i,n,r,o,a){try{Module.dynCall_viiiiii(e,t,i,n,r,o,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_dii(e,t,i){try{return Module.dynCall_dii(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_i(e){try{return Module.dynCall_i(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_iiiiii(e,t,i,n,r,o){try{return Module.dynCall_iiiiii(e,t,i,n,r,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiid(e,t,i,n,r){try{Module.dynCall_viiid(e,t,i,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viififi(e,t,i,n,r,o,a){try{Module.dynCall_viififi(e,t,i,n,r,o,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viii(e,t,i,n){try{Module.dynCall_viii(e,t,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viid(e,t,i,n){try{Module.dynCall_viid(e,t,i,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_idd(e,t,i){try{return Module.dynCall_idd(e,t,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function invoke_viiii(e,t,i,n,r){try{Module.dynCall_viiii(e,t,i,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}STATICTOP+=16,function(_nbind){var typeIdTbl={};_nbind.typeNameTbl={};var Pool=function(){function e(){}return e.lalloc=function(t){t=t+7&-8;var i=HEAPU32[e.usedPtr];return t>e.pageSize/2||t>e.pageSize-i?_nbind.typeNameTbl.NBind.proto.lalloc(t):(HEAPU32[e.usedPtr]=i+t,e.rootPtr+i)},e.lreset=function(t,i){HEAPU32[e.pagePtr]?_nbind.typeNameTbl.NBind.proto.lreset(t,i):HEAPU32[e.usedPtr]=t},e}();function constructType(e,t){var i=new(10240==e?_nbind.makeTypeNameTbl[t.name]||_nbind.BindType:_nbind.makeTypeKindTbl[e])(t);return typeIdTbl[t.id]=i,_nbind.typeNameTbl[t.name]=i,i}function getType(e){return typeIdTbl[e]}function queryType(e){var t=HEAPU8[e],i=_nbind.structureList[t][1];e/=4,i<0&&(i=HEAPU32[++e]+1);var n=Array.prototype.slice.call(HEAPU32.subarray(e+1,e+1+i));return 9==t&&(n=[n[0],n.slice(1)]),{paramList:n,placeholderFlag:t}}function getTypes(e,t){return e.map(function(e){return"number"==typeof e?_nbind.getComplexType(e,constructType,getType,queryType,t):_nbind.typeNameTbl[e]})}function readTypeIdList(e,t){return Array.prototype.slice.call(HEAPU32,e/4,e/4+t)}function readAsciiString(e){for(var t=e;HEAPU8[t++];);return String.fromCharCode.apply("",HEAPU8.subarray(e,t-1))}function readPolicyList(e){var t={};if(e)for(;;){var i=HEAPU32[e/4];if(!i)break;t[readAsciiString(i)]=!0,e+=4}return t}function getDynCall(e,t){var i={float32_t:"d",float64_t:"d",int64_t:"d",uint64_t:"d",void:"v"},n=e.map(function(e){return i[e.name]||"i"}).join(""),r=Module["dynCall_"+n];if(!r)throw new Error("dynCall_"+n+" not found for "+t+"("+e.map(function(e){return e.name}).join(", ")+")");return r}function addMethod(e,t,i,n){var r=e[t];e.hasOwnProperty(t)&&r?((r.arity||0===r.arity)&&(r=_nbind.makeOverloader(r,r.arity),e[t]=r),r.addMethod(i,n)):(i.arity=n,e[t]=i)}function throwError(e){throw new Error(e)}_nbind.Pool=Pool,_nbind.constructType=constructType,_nbind.getType=getType,_nbind.queryType=queryType,_nbind.getTypes=getTypes,_nbind.readTypeIdList=readTypeIdList,_nbind.readAsciiString=readAsciiString,_nbind.readPolicyList=readPolicyList,_nbind.getDynCall=getDynCall,_nbind.addMethod=addMethod,_nbind.throwError=throwError,_nbind.bigEndian=!1,_a=_typeModule(_typeModule),_nbind.Type=_a.Type,_nbind.makeType=_a.makeType,_nbind.getComplexType=_a.getComplexType,_nbind.structureList=_a.structureList;var BindType=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.heap=HEAPU32,t.ptrSize=4,t}return __extends(t,e),t.prototype.needsWireRead=function(e){return!!this.wireRead||!!this.makeWireRead},t.prototype.needsWireWrite=function(e){return!!this.wireWrite||!!this.makeWireWrite},t}(_nbind.Type);_nbind.BindType=BindType;var PrimitiveType=function(e){function t(t){var i=e.call(this,t)||this,n=32&t.flags?{32:HEAPF32,64:HEAPF64}:8&t.flags?{8:HEAPU8,16:HEAPU16,32:HEAPU32}:{8:HEAP8,16:HEAP16,32:HEAP32};return i.heap=n[8*t.ptrSize],i.ptrSize=t.ptrSize,i}return __extends(t,e),t.prototype.needsWireWrite=function(e){return!!e&&!!e.Strict},t.prototype.makeWireWrite=function(e,t){return t&&t.Strict&&function(e){if("number"==typeof e)return e;throw new Error("Type mismatch")}},t}(BindType);function pushCString(e,t){if(null===e||void 0===e){if(t&&t.Nullable)return 0;throw new Error("Type mismatch")}if(t&&t.Strict){if("string"!=typeof e)throw new Error("Type mismatch")}else e=e.toString();var i=Module.lengthBytesUTF8(e)+1,n=_nbind.Pool.lalloc(i);return Module.stringToUTF8Array(e,HEAPU8,n,i),n}function popCString(e){return 0===e?null:Module.Pointer_stringify(e)}_nbind.PrimitiveType=PrimitiveType,_nbind.pushCString=pushCString,_nbind.popCString=popCString;var CStringType=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wireRead=popCString,t.wireWrite=pushCString,t.readResources=[_nbind.resources.pool],t.writeResources=[_nbind.resources.pool],t}return __extends(t,e),t.prototype.makeWireWrite=function(e,t){return function(e){return pushCString(e,t)}},t}(BindType);_nbind.CStringType=CStringType;var BooleanType=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wireRead=function(e){return!!e},t}return __extends(t,e),t.prototype.needsWireWrite=function(e){return!!e&&!!e.Strict},t.prototype.makeWireRead=function(e){return"!!("+e+")"},t.prototype.makeWireWrite=function(e,t){return t&&t.Strict&&function(e){if("boolean"==typeof e)return e;throw new Error("Type mismatch")}||e},t}(BindType);_nbind.BooleanType=BooleanType;var Wrapper=function(){function e(){}return e.prototype.persist=function(){this.__nbindState|=1},e}();function makeBound(e,t){var i=function(e){function i(t,n,r,o){var a=e.call(this)||this;if(!(a instanceof i))return new(Function.prototype.bind.apply(i,Array.prototype.concat.apply([null],arguments)));var s=n,l=r,u=o;if(t!==_nbind.ptrMarker){var c=a.__nbindConstructor.apply(a,arguments);s=4608,u=HEAPU32[c/4],l=HEAPU32[c/4+1]}var d={configurable:!0,enumerable:!1,value:null,writable:!1},h={__nbindFlags:s,__nbindPtr:l};u&&(h.__nbindShared=u,_nbind.mark(a));for(var p=0,f=Object.keys(h);p<f.length;p++){var m=f[p];d.value=h[m],Object.defineProperty(a,m,d)}return _defineHidden(0)(a,"__nbindState"),a}return __extends(i,e),i.prototype.free=function(){t.destroy.call(this,this.__nbindShared,this.__nbindFlags),this.__nbindState|=2,disableMember(this,"__nbindShared"),disableMember(this,"__nbindPtr")},i}(Wrapper);return __decorate([_defineHidden()],i.prototype,"__nbindConstructor",void 0),__decorate([_defineHidden()],i.prototype,"__nbindValueConstructor",void 0),__decorate([_defineHidden(e)],i.prototype,"__nbindPolicies",void 0),i}function disableMember(e,t){function i(){throw new Error("Accessing deleted object")}Object.defineProperty(e,t,{configurable:!1,enumerable:!1,get:i,set:i})}_nbind.Wrapper=Wrapper,_nbind.makeBound=makeBound,_nbind.ptrMarker={};var BindClass=function(e){function t(t){var i=e.call(this,t)||this;return i.wireRead=function(e){return _nbind.popValue(e,i.ptrType)},i.wireWrite=function(e){return pushPointer(e,i.ptrType,!0)},i.pendingSuperCount=0,i.ready=!1,i.methodTbl={},t.paramList?(i.classType=t.paramList[0].classType,i.proto=i.classType.proto):i.classType=i,i}return __extends(t,e),t.prototype.makeBound=function(e){var t=_nbind.makeBound(e,this);return this.proto=t,this.ptrType.proto=t,t},t.prototype.addMethod=function(e){var t=this.methodTbl[e.name]||[];t.push(e),this.methodTbl[e.name]=t},t.prototype.registerMethods=function(e,t){for(var i,n=0,r=Object.keys(e.methodTbl);n<r.length;n++)for(var o=r[n],a=0,s=e.methodTbl[o];a<s.length;a++){var l=s[a],u=void 0,c=void 0;if(u=this.proto.prototype,!t||1==l.signatureType)switch(l.signatureType){case 1:u=this.proto;case 5:c=_nbind.makeCaller(l),_nbind.addMethod(u,l.name,c,l.typeList.length-1);break;case 4:i=_nbind.makeMethodCaller(e.ptrType,l);break;case 3:Object.defineProperty(u,l.name,{configurable:!0,enumerable:!1,get:_nbind.makeMethodCaller(e.ptrType,l),set:i});break;case 2:c=_nbind.makeMethodCaller(e.ptrType,l),_nbind.addMethod(u,l.name,c,l.typeList.length-1)}}},t.prototype.registerSuperMethods=function(e,t,i){if(!i[e.name]){i[e.name]=!0;for(var n,r=0,o=0,a=e.superIdList||[];o<a.length;o++){var s=a[o],l=_nbind.getType(s);n=r++<t||t<0?-1:0,this.registerSuperMethods(l,n,i)}this.registerMethods(e,t<0)}},t.prototype.finish=function(){if(this.ready)return this;this.ready=!0,this.superList=(this.superIdList||[]).map(function(e){return _nbind.getType(e).finish()});var e=this.proto;if(this.superList.length){var t=function(){this.constructor=e};t.prototype=this.superList[0].proto.prototype,e.prototype=new t}return e!=Module&&(e.prototype.__nbindType=this),this.registerSuperMethods(this,1,{}),this},t.prototype.upcastStep=function(e,t){if(e==this)return t;for(var i=0;i<this.superList.length;++i){var n=this.superList[i].upcastStep(e,_nbind.callUpcast(this.upcastList[i],t));if(n)return n}return 0},t}(_nbind.BindType);function popPointer(e,t){return e?new t.proto(_nbind.ptrMarker,t.flags,e):null}function pushPointer(e,t,i){if(!(e instanceof _nbind.Wrapper)){if(i)return _nbind.pushValue(e);throw new Error("Type mismatch")}var n=e.__nbindPtr,r=e.__nbindType.classType,o=t.classType;if(e instanceof t.proto)for(;r!=o;)n=_nbind.callUpcast(r.upcastList[0],n),r=r.superList[0];else if(!(n=r.upcastStep(o,n)))throw new Error("Type mismatch");return n}function pushMutablePointer(e,t){var i=pushPointer(e,t);if(1&e.__nbindFlags)throw new Error("Passing a const value as a non-const argument");return i}BindClass.list=[],_nbind.BindClass=BindClass,_nbind.popPointer=popPointer,_nbind.pushPointer=pushPointer;var BindClassPtr=function(e){function t(t){var i=e.call(this,t)||this;i.classType=t.paramList[0].classType,i.proto=i.classType.proto;var n=1&t.flags,r=256==(896&i.flags)&&2&t.flags,o=n?pushPointer:pushMutablePointer,a=r?_nbind.popValue:popPointer;return i.makeWireWrite=function(e,t){return t.Nullable?function(e){return e?o(e,i):0}:function(e){return o(e,i)}},i.wireRead=function(e){return a(e,i)},i.wireWrite=function(e){return o(e,i)},i}return __extends(t,e),t}(_nbind.BindType);function popShared(e,t){var i=HEAPU32[e/4],n=HEAPU32[e/4+1];return n?new t.proto(_nbind.ptrMarker,t.flags,n,i):null}function pushShared(e,t){if(!(e instanceof t.proto))throw new Error("Type mismatch");return e.__nbindShared}function pushMutableShared(e,t){if(!(e instanceof t.proto))throw new Error("Type mismatch");if(1&e.__nbindFlags)throw new Error("Passing a const value as a non-const argument");return e.__nbindShared}_nbind.BindClassPtr=BindClassPtr,_nbind.popShared=popShared;var SharedClassPtr=function(e){function t(t){var i=e.call(this,t)||this;i.readResources=[_nbind.resources.pool],i.classType=t.paramList[0].classType,i.proto=i.classType.proto;var n=1&t.flags?pushShared:pushMutableShared;return i.wireRead=function(e){return popShared(e,i)},i.wireWrite=function(e){return n(e,i)},i}return __extends(t,e),t}(_nbind.BindType);_nbind.SharedClassPtr=SharedClassPtr,_nbind.externalList=[0];var firstFreeExternal=0,External=function(){function e(e){this.refCount=1,this.data=e}return e.prototype.register=function(){var e=firstFreeExternal;return e?firstFreeExternal=_nbind.externalList[e]:e=_nbind.externalList.length,_nbind.externalList[e]=this,e},e.prototype.reference=function(){++this.refCount},e.prototype.dereference=function(e){0==--this.refCount&&(this.free&&this.free(),_nbind.externalList[e]=firstFreeExternal,firstFreeExternal=e)},e}();function popExternal(e){var t=_nbind.externalList[e];return t.dereference(e),t.data}function pushExternal(e){var t=new External(e);return t.reference(),t.register()}_nbind.External=External;var ExternalType=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wireRead=popExternal,t.wireWrite=pushExternal,t}return __extends(t,e),t}(_nbind.BindType);_nbind.ExternalType=ExternalType,_nbind.callbackSignatureList=[];var CallbackType=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wireWrite=function(e){return"function"!=typeof e&&_nbind.throwError("Type mismatch"),new _nbind.External(e).register()},t}return __extends(t,e),t}(_nbind.BindType);_nbind.CallbackType=CallbackType,_nbind.valueList=[0];var firstFreeValue=0;function pushValue(e){var t=firstFreeValue;return t?firstFreeValue=_nbind.valueList[t]:t=_nbind.valueList.length,_nbind.valueList[t]=e,2*t+1}function popValue(e,t){if(e||_nbind.throwError("Value type JavaScript class is missing or not registered"),1&e){e>>=1;var i=_nbind.valueList[e];return _nbind.valueList[e]=firstFreeValue,firstFreeValue=e,i}if(t)return _nbind.popShared(e,t);throw new Error("Invalid value slot "+e)}_nbind.pushValue=pushValue,_nbind.popValue=popValue;var valueBase=0x10000000000000000;function push64(e){return"number"==typeof e?e:4096*pushValue(e)+valueBase}function pop64(e){return e<valueBase?e:popValue((e-valueBase)/4096)}var CreateValueType=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.makeWireWrite=function(e){return"(_nbind.pushValue(new "+e+"))"},t}(_nbind.BindType);_nbind.CreateValueType=CreateValueType;var Int64Type=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wireWrite=push64,t.wireRead=pop64,t}return __extends(t,e),t}(_nbind.BindType);function pushArray(e,t){if(!e)return 0;var i=e.length;if((t.size||0===t.size)&&i<t.size)throw new Error("Type mismatch");var n=t.memberType.ptrSize,r=_nbind.Pool.lalloc(4+i*n);HEAPU32[r/4]=i;var o=t.memberType.heap,a=(r+4)/n,s=t.memberType.wireWrite,l=0;if(s)for(;l<i;)o[a++]=s(e[l++]);else for(;l<i;)o[a++]=e[l++];return r}function popArray(e,t){if(0===e)return null;var i=HEAPU32[e/4],n=new Array(i),r=t.memberType.heap;e=(e+4)/t.memberType.ptrSize;var o=t.memberType.wireRead,a=0;if(o)for(;a<i;)n[a++]=o(r[e++]);else for(;a<i;)n[a++]=r[e++];return n}_nbind.Int64Type=Int64Type,_nbind.pushArray=pushArray,_nbind.popArray=popArray;var ArrayType=function(e){function t(t){var i=e.call(this,t)||this;return i.wireRead=function(e){return popArray(e,i)},i.wireWrite=function(e){return pushArray(e,i)},i.readResources=[_nbind.resources.pool],i.writeResources=[_nbind.resources.pool],i.memberType=t.paramList[0],t.paramList[1]&&(i.size=t.paramList[1]),i}return __extends(t,e),t}(_nbind.BindType);function pushString(e,t){if(null===e||void 0===e){if(!t||!t.Nullable)throw new Error("Type mismatch");e=""}if(t&&t.Strict){if("string"!=typeof e)throw new Error("Type mismatch")}else e=e.toString();var i=Module.lengthBytesUTF8(e),n=_nbind.Pool.lalloc(4+i+1);return HEAPU32[n/4]=i,Module.stringToUTF8Array(e,HEAPU8,n+4,i+1),n}function popString(e){if(0===e)return null;var t=HEAPU32[e/4];return Module.Pointer_stringify(e+4,t)}_nbind.ArrayType=ArrayType,_nbind.pushString=pushString,_nbind.popString=popString;var StringType=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wireRead=popString,t.wireWrite=pushString,t.readResources=[_nbind.resources.pool],t.writeResources=[_nbind.resources.pool],t}return __extends(t,e),t.prototype.makeWireWrite=function(e,t){return function(e){return pushString(e,t)}},t}(_nbind.BindType);function makeArgList(e){return Array.apply(null,Array(e)).map(function(e,t){return"a"+(t+1)})}function anyNeedsWireWrite(e,t){return e.reduce(function(e,i){return e||i.needsWireWrite(t)},!1)}function anyNeedsWireRead(e,t){return e.reduce(function(e,i){return e||!!i.needsWireRead(t)},!1)}function makeWireRead(e,t,i,n){var r=e.length;return i.makeWireRead?i.makeWireRead(n,e,r):i.wireRead?(e[r]=i.wireRead,"(convertParamList["+r+"]("+n+"))"):n}function makeWireWrite(e,t,i,n){var r,o=e.length;return(r=i.makeWireWrite?i.makeWireWrite(n,t,e,o):i.wireWrite)?"string"==typeof r?r:(e[o]=r,"(convertParamList["+o+"]("+n+"))"):n}function buildCallerFunction(dynCall,ptrType,ptr,num,policyTbl,needsWireWrite,prefix,returnType,argTypeList,mask,err){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireRead(convertParamList,policyTbl,returnType,"dynCall("+[prefix].concat(argList.map(function(e,t){return makeWireWrite(convertParamList,policyTbl,argTypeList[t],e)})).join(",")+")"),resourceSet=_nbind.listResources([returnType],argTypeList),sourceCode="function("+argList.join(",")+"){"+(mask?"this.__nbindFlags&mask&&err();":"")+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}function buildJSCallerFunction(returnType,argTypeList){var argList=makeArgList(argTypeList.length),convertParamList=[],callExpression=makeWireWrite(convertParamList,null,returnType,"_nbind.externalList[num].data("+argList.map(function(e,t){return makeWireRead(convertParamList,null,argTypeList[t],e)}).join(",")+")"),resourceSet=_nbind.listResources(argTypeList,[returnType]);resourceSet.remove(_nbind.resources.pool);var sourceCode="function("+["dummy","num"].concat(argList).join(",")+"){"+resourceSet.makeOpen()+"var r="+callExpression+";"+resourceSet.makeClose()+"return r;}";return eval("("+sourceCode+")")}function makeJSCaller(e){var t=e.length-1,i=_nbind.getTypes(e,"callback"),n=i[0],r=i.slice(1),o=anyNeedsWireRead(r,null);if(!n.needsWireWrite(null)&&!o)switch(t){case 0:return function(e,t){return _nbind.externalList[t].data()};case 1:return function(e,t,i){return _nbind.externalList[t].data(i)};case 2:return function(e,t,i,n){return _nbind.externalList[t].data(i,n)};case 3:return function(e,t,i,n,r){return _nbind.externalList[t].data(i,n,r)}}return buildJSCallerFunction(n,r)}function makeMethodCaller(e,t){var i=t.typeList.length-1,n=t.typeList.slice(0);n.splice(1,0,"uint32_t",t.boundID);var r=_nbind.getTypes(n,t.title),o=r[0],a=r.slice(3),s=o.needsWireRead(t.policyTbl),l=anyNeedsWireWrite(a,t.policyTbl),u=t.ptr,c=t.num,d=_nbind.getDynCall(r,t.title),h=1&~t.flags;function p(){throw new Error("Calling a non-const method on a const object")}if(!s&&!l)switch(i){case 0:return function(){return this.__nbindFlags&h?p():d(u,c,_nbind.pushPointer(this,e))};case 1:return function(t){return this.__nbindFlags&h?p():d(u,c,_nbind.pushPointer(this,e),t)};case 2:return function(t,i){return this.__nbindFlags&h?p():d(u,c,_nbind.pushPointer(this,e),t,i)};case 3:return function(t,i,n){return this.__nbindFlags&h?p():d(u,c,_nbind.pushPointer(this,e),t,i,n)}}return buildCallerFunction(d,e,u,c,t.policyTbl,l,"ptr,num,pushPointer(this,ptrType)",o,a,h,p)}function makeCaller(e){var t,i=e.typeList.length-1,n=_nbind.getTypes(e.typeList,e.title),r=n[0],o=n.slice(1),a=r.needsWireRead(e.policyTbl),s=anyNeedsWireWrite(o,e.policyTbl),l=e.direct,u=e.ptr;if(e.direct&&!a&&!s){var c=_nbind.getDynCall(n,e.title);switch(i){case 0:return function(){return c(l)};case 1:return function(e){return c(l,e)};case 2:return function(e,t){return c(l,e,t)};case 3:return function(e,t,i){return c(l,e,t,i)}}u=0}if(u){var d=e.typeList.slice(0);d.splice(1,0,"uint32_t"),n=_nbind.getTypes(d,e.title),t="ptr,num"}else u=l,t="ptr";return buildCallerFunction(_nbind.getDynCall(n,e.title),null,u,e.num,e.policyTbl,s,t,r,o)}function makeOverloader(e,t){var i=[];function n(){return i[arguments.length].apply(this,arguments)}return n.addMethod=function(e,t){i[t]=e},n.addMethod(e,t),n}_nbind.StringType=StringType,_nbind.buildJSCallerFunction=buildJSCallerFunction,_nbind.makeJSCaller=makeJSCaller,_nbind.makeMethodCaller=makeMethodCaller,_nbind.makeCaller=makeCaller,_nbind.makeOverloader=makeOverloader;var Resource=function(){function e(e,t){var i=this;this.makeOpen=function(){return Object.keys(i.openTbl).join("")},this.makeClose=function(){return Object.keys(i.closeTbl).join("")},this.openTbl={},this.closeTbl={},e&&(this.openTbl[e]=!0),t&&(this.closeTbl[t]=!0)}return e.prototype.add=function(e){for(var t=0,i=Object.keys(e.openTbl);t<i.length;t++){var n=i[t];this.openTbl[n]=!0}for(var r=0,o=Object.keys(e.closeTbl);r<o.length;r++){n=o[r];this.closeTbl[n]=!0}},e.prototype.remove=function(e){for(var t=0,i=Object.keys(e.openTbl);t<i.length;t++){var n=i[t];delete this.openTbl[n]}for(var r=0,o=Object.keys(e.closeTbl);r<o.length;r++){n=o[r];delete this.closeTbl[n]}},e}();function listResources(e,t){for(var i=new Resource,n=0,r=e;n<r.length;n++)for(var o=0,a=r[n].readResources||[];o<a.length;o++){var s=a[o];i.add(s)}for(var l=0,u=t;l<u.length;l++)for(var c=0,d=u[l].writeResources||[];c<d.length;c++){s=d[c];i.add(s)}return i}_nbind.Resource=Resource,_nbind.listResources=listResources,_nbind.resources={pool:new Resource("var used=HEAPU32[_nbind.Pool.usedPtr],page=HEAPU32[_nbind.Pool.pagePtr];","_nbind.Pool.lreset(used,page);")};var ExternalBuffer=function(e){function t(t,i){var n=e.call(this,t)||this;return n.ptr=i,n}return __extends(t,e),t.prototype.free=function(){_free(this.ptr)},t}(_nbind.External);function getBuffer(e){return e instanceof ArrayBuffer?new Uint8Array(e):e instanceof DataView?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function pushBuffer(e,t){if(null!==e&&void 0!==e||t&&t.Nullable&&(e=[]),"object"!=typeof e)throw new Error("Type mismatch");var i=e,n=i.byteLength||i.length;if(!n&&0!==n&&0!==i.byteLength)throw new Error("Type mismatch");var r=_nbind.Pool.lalloc(8),o=_malloc(n),a=r/4;return HEAPU32[a++]=n,HEAPU32[a++]=o,HEAPU32[a++]=new ExternalBuffer(e,o).register(),HEAPU8.set(getBuffer(e),o),r}var BufferType=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wireWrite=pushBuffer,t.readResources=[_nbind.resources.pool],t.writeResources=[_nbind.resources.pool],t}return __extends(t,e),t.prototype.makeWireWrite=function(e,t){return function(e){return pushBuffer(e,t)}},t}(_nbind.BindType);function commitBuffer(e,t,i){var n=_nbind.externalList[e].data,r=Buffer;if("function"!=typeof Buffer&&(r=function(){}),n instanceof Array);else{var o=HEAPU8.subarray(t,t+i);if(n instanceof r){("function"==typeof Buffer.from&&Buffer.from.length>=3?Buffer.from(o):new Buffer(o)).copy(n)}else getBuffer(n).set(o)}}_nbind.BufferType=BufferType,_nbind.commitBuffer=commitBuffer;var dirtyList=[],gcTimer=0;function sweep(){for(var e=0,t=dirtyList;e<t.length;e++){var i=t[e];3&i.__nbindState||i.free()}dirtyList=[],gcTimer=0}function toggleLightGC(e){_nbind.mark=e?function(e){dirtyList.push(e),gcTimer||(gcTimer=setTimeout(sweep,0))}:function(e){}}_nbind.mark=function(e){},_nbind.toggleLightGC=toggleLightGC}(_nbind),Module.requestFullScreen=function(e,t,i){Module.printErr("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),Module.requestFullScreen=Module.requestFullscreen,Browser.requestFullScreen(e,t,i)},Module.requestFullscreen=function(e,t,i){Browser.requestFullscreen(e,t,i)},Module.requestAnimationFrame=function(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function(e,t,i){Browser.setCanvasSize(e,t,i)},Module.pauseMainLoop=function(){Browser.mainLoop.pause()},Module.resumeMainLoop=function(){Browser.mainLoop.resume()},Module.getUserMedia=function(){Browser.getUserMedia()},Module.createContext=function(e,t,i,n){return Browser.createContext(e,t,i,n)},_emscripten_get_now=ENVIRONMENT_IS_NODE?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:"object"==typeof self&&self.performance&&"function"==typeof self.performance.now?function(){return self.performance.now()}:"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,__ATEXIT__.push(function(){var e=Module._fflush;e&&e(0);var t=___syscall146.printChar;if(t){var i=___syscall146.buffers;i[1].length&&t(1,10),i[2].length&&t(2,10)}}),DYNAMICTOP_PTR=allocate(1,"i32",ALLOC_STATIC),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0,Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0},Module.asmLibraryArg={abort:abort,assert:assert,enlargeMemory:enlargeMemory,getTotalMemory:getTotalMemory,abortOnCannotGrowMemory:abortOnCannotGrowMemory,invoke_viiiii:invoke_viiiii,invoke_vif:invoke_vif,invoke_vid:invoke_vid,invoke_fiff:invoke_fiff,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_ii:invoke_ii,invoke_viddi:invoke_viddi,invoke_vidd:invoke_vidd,invoke_iiii:invoke_iiii,invoke_diii:invoke_diii,invoke_di:invoke_di,invoke_iid:invoke_iid,invoke_iii:invoke_iii,invoke_viiddi:invoke_viiddi,invoke_viiiiii:invoke_viiiiii,invoke_dii:invoke_dii,invoke_i:invoke_i,invoke_iiiiii:invoke_iiiiii,invoke_viiid:invoke_viiid,invoke_viififi:invoke_viififi,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viid:invoke_viid,invoke_idd:invoke_idd,invoke_viiii:invoke_viiii,_emscripten_asm_const_iiiii:_emscripten_asm_const_iiiii,_emscripten_asm_const_iiidddddd:_emscripten_asm_const_iiidddddd,_emscripten_asm_const_iiiid:_emscripten_asm_const_iiiid,__nbind_reference_external:__nbind_reference_external,_emscripten_asm_const_iiiiiiii:_emscripten_asm_const_iiiiiiii,_removeAccessorPrefix:_removeAccessorPrefix,_typeModule:_typeModule,__nbind_register_pool:__nbind_register_pool,__decorate:__decorate,_llvm_stackrestore:_llvm_stackrestore,___cxa_atexit:___cxa_atexit,__extends:__extends,__nbind_get_value_object:__nbind_get_value_object,__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj:__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj,_emscripten_set_main_loop_timing:_emscripten_set_main_loop_timing,__nbind_register_primitive:__nbind_register_primitive,__nbind_register_type:__nbind_register_type,_emscripten_memcpy_big:_emscripten_memcpy_big,__nbind_register_function:__nbind_register_function,___setErrNo:___setErrNo,__nbind_register_class:__nbind_register_class,__nbind_finish:__nbind_finish,_abort:_abort,_nbind_value:_nbind_value,_llvm_stacksave:_llvm_stacksave,___syscall54:___syscall54,_defineHidden:_defineHidden,_emscripten_set_main_loop:_emscripten_set_main_loop,_emscripten_get_now:_emscripten_get_now,__nbind_register_callback_signature:__nbind_register_callback_signature,_emscripten_asm_const_iiiiii:_emscripten_asm_const_iiiiii,__nbind_free_external:__nbind_free_external,_emscripten_asm_const_iiii:_emscripten_asm_const_iiii,_emscripten_asm_const_iiididi:_emscripten_asm_const_iiididi,___syscall6:___syscall6,_atexit:_atexit,___syscall140:___syscall140,___syscall146:___syscall146,DYNAMICTOP_PTR:DYNAMICTOP_PTR,tempDoublePtr:tempDoublePtr,ABORT:ABORT,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,cttz_i8:cttz_i8,___dso_handle:___dso_handle};var asm=function(e,t,i){"use asm";var n=new e.Int8Array(i);var r=new e.Int16Array(i);var o=new e.Int32Array(i);var a=new e.Uint8Array(i);var s=new e.Uint16Array(i);var l=new e.Uint32Array(i);var u=new e.Float32Array(i);var c=new e.Float64Array(i);var d=t.DYNAMICTOP_PTR|0;var h=t.tempDoublePtr|0;var p=t.ABORT|0;var f=t.STACKTOP|0;var m=t.STACK_MAX|0;var _=t.cttz_i8|0;var g=t.___dso_handle|0;var b=0;var v=0;var y=0;var w=0;var E=e.NaN,T=e.Infinity;var j=0,M=0,S=0,k=0,x=0.0;var C=0;var R=e.Math.floor;var A=e.Math.abs;var L=e.Math.sqrt;var O=e.Math.pow;var P=e.Math.cos;var I=e.Math.sin;var B=e.Math.tan;var D=e.Math.acos;var N=e.Math.asin;var U=e.Math.atan;var F=e.Math.atan2;var H=e.Math.exp;var W=e.Math.log;var G=e.Math.ceil;var z=e.Math.imul;var V=e.Math.min;var Y=e.Math.max;var q=e.Math.clz32;var X=e.Math.fround;var K=t.abort;var J=t.assert;var Z=t.enlargeMemory;var Q=t.getTotalMemory;var $=t.abortOnCannotGrowMemory;var ee=t.invoke_viiiii;var te=t.invoke_vif;var ie=t.invoke_vid;var ne=t.invoke_fiff;var re=t.invoke_vi;var oe=t.invoke_vii;var ae=t.invoke_ii;var se=t.invoke_viddi;var le=t.invoke_vidd;var ue=t.invoke_iiii;var ce=t.invoke_diii;var de=t.invoke_di;var he=t.invoke_iid;var pe=t.invoke_iii;var fe=t.invoke_viiddi;var me=t.invoke_viiiiii;var _e=t.invoke_dii;var ge=t.invoke_i;var be=t.invoke_iiiiii;var ve=t.invoke_viiid;var ye=t.invoke_viififi;var we=t.invoke_viii;var Ee=t.invoke_v;var Te=t.invoke_viid;var je=t.invoke_idd;var Me=t.invoke_viiii;var Se=t._emscripten_asm_const_iiiii;var ke=t._emscripten_asm_const_iiidddddd;var xe=t._emscripten_asm_const_iiiid;var Ce=t.__nbind_reference_external;var Re=t._emscripten_asm_const_iiiiiiii;var Ae=t._removeAccessorPrefix;var Le=t._typeModule;var Oe=t.__nbind_register_pool;var Pe=t.__decorate;var Ie=t._llvm_stackrestore;var Be=t.___cxa_atexit;var De=t.__extends;var Ne=t.__nbind_get_value_object;var Ue=t.__ZN8facebook4yoga14YGNodeToStringEPNSt3__212basic_stringIcNS1_11char_traitsIcEENS1_9allocatorIcEEEEP6YGNode14YGPrintOptionsj;var Fe=t._emscripten_set_main_loop_timing;var He=t.__nbind_register_primitive;var We=t.__nbind_register_type;var Ge=t._emscripten_memcpy_big;var ze=t.__nbind_register_function;var Ve=t.___setErrNo;var Ye=t.__nbind_register_class;var qe=t.__nbind_finish;var Xe=t._abort;var Ke=t._nbind_value;var Je=t._llvm_stacksave;var Ze=t.___syscall54;var Qe=t._defineHidden;var $e=t._emscripten_set_main_loop;var et=t._emscripten_get_now;var tt=t.__nbind_register_callback_signature;var it=t._emscripten_asm_const_iiiiii;var nt=t.__nbind_free_external;var rt=t._emscripten_asm_const_iiii;var ot=t._emscripten_asm_const_iiididi;var at=t.___syscall6;var st=t._atexit;var lt=t.___syscall140;var ut=t.___syscall146;var ct=X(0);const dt=X(0);function ht(e){e=e|0;var t=0;t=f;f=f+e|0;f=f+15&-16;return t|0}function pt(){return f|0}function ft(e){e=e|0;f=e}function mt(e,t){e=e|0;t=t|0;f=e;m=t}function _t(e,t){e=e|0;t=t|0;if(!b){b=e;v=t}}function gt(e){e=e|0;C=e}function bt(){return C|0}function vt(){var e=0,t=0;rx(8104,8,400)|0;rx(8504,408,540)|0;e=9044;t=e+44|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));n[9088]=0;n[9089]=1;o[2273]=0;o[2274]=948;o[2275]=948;Be(17,8104,g|0)|0;return}function yt(e){e=e|0;Vt(e+948|0);return}function wt(e){e=X(e);return((Lr(e)|0)&2147483647)>>>0>2139095040|0}function Et(e,t,i){e=e|0;t=t|0;i=i|0;e:do{if(!(o[e+(t<<3)+4>>2]|0)){if((t|2|0)==3?o[e+60>>2]|0:0){e=e+56|0;break}switch(t|0){case 0:case 2:case 4:case 5:{if(o[e+52>>2]|0){e=e+48|0;break e}break}default:{}}if(!(o[e+68>>2]|0)){e=(t|1|0)==5?948:i;break}else{e=e+64|0;break}}else e=e+(t<<3)|0}while(0);return e|0}function Tt(e){e=e|0;var t=0;t=VS(1e3)|0;jt(e,(t|0)!=0,2456);o[2276]=(o[2276]|0)+1;rx(t|0,8104,1e3)|0;if(n[e+2>>0]|0){o[t+4>>2]=2;o[t+12>>2]=4}o[t+976>>2]=e;return t|0}function jt(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;r=f;f=f+16|0;n=r;if(!t){o[n>>2]=i;Dn(e,5,3197,n)}f=r;return}function Mt(){return Tt(956)|0}function St(e){e=e|0;var t=0;t=qk(1e3)|0;kt(t,e);jt(o[e+976>>2]|0,1,2456);o[2276]=(o[2276]|0)+1;o[t+944>>2]=0;return t|0}function kt(e,t){e=e|0;t=t|0;var i=0;rx(e|0,t|0,948)|0;Fn(e+948|0,t+948|0);i=e+960|0;e=t+960|0;t=i+40|0;do{o[i>>2]=o[e>>2];i=i+4|0;e=e+4|0}while((i|0)<(t|0));return}function xt(e){e=e|0;var t=0,i=0,n=0,r=0;t=e+944|0;i=o[t>>2]|0;if(i|0){Ct(i+948|0,e)|0;o[t>>2]=0}i=Rt(e)|0;if(i|0){t=0;do{o[(At(e,t)|0)+944>>2]=0;t=t+1|0}while((t|0)!=(i|0))}i=e+948|0;n=o[i>>2]|0;r=e+952|0;t=o[r>>2]|0;if((t|0)!=(n|0))o[r>>2]=t+(~((t+-4-n|0)>>>2)<<2);Lt(i);YS(e);o[2276]=(o[2276]|0)+-1;return}function Ct(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0;n=o[e>>2]|0;l=e+4|0;i=o[l>>2]|0;a=i;e:do{if((n|0)==(i|0)){r=n;s=4}else{e=n;while(1){if((o[e>>2]|0)==(t|0)){r=e;s=4;break e}e=e+4|0;if((e|0)==(i|0)){e=0;break}}}}while(0);if((s|0)==4)if((r|0)!=(i|0)){n=r+4|0;e=a-n|0;t=e>>2;if(t){ux(r|0,n|0,e|0)|0;i=o[l>>2]|0}e=r+(t<<2)|0;if((i|0)==(e|0))e=1;else{o[l>>2]=i+(~((i+-4-e|0)>>>2)<<2);e=1}}else e=0;return e|0}function Rt(e){e=e|0;return(o[e+952>>2]|0)-(o[e+948>>2]|0)>>2|0}function At(e,t){e=e|0;t=t|0;var i=0;i=o[e+948>>2]|0;if((o[e+952>>2]|0)-i>>2>>>0>t>>>0)e=o[i+(t<<2)>>2]|0;else e=0;return e|0}function Lt(e){e=e|0;var t=0,i=0,n=0,r=0;n=f;f=f+32|0;t=n;r=o[e>>2]|0;i=(o[e+4>>2]|0)-r|0;if(((o[e+8>>2]|0)-r|0)>>>0>i>>>0){r=i>>2;Or(t,r,r,e+8|0);Pr(e,t);Ir(t)}f=n;return}function Ot(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0;c=Rt(e)|0;do{if(c|0){if((o[(At(e,0)|0)+944>>2]|0)==(e|0)){if(!(Ct(e+948|0,t)|0))break;rx(t+400|0,8504,540)|0;o[t+944>>2]=0;zt(e);break}s=o[(o[e+976>>2]|0)+12>>2]|0;l=e+948|0;u=(s|0)==0;i=0;a=0;do{n=o[(o[l>>2]|0)+(a<<2)>>2]|0;if((n|0)==(t|0))zt(e);else{r=St(n)|0;o[(o[l>>2]|0)+(i<<2)>>2]=r;o[r+944>>2]=e;if(!u)IC[s&15](n,r,e,i);i=i+1|0}a=a+1|0}while((a|0)!=(c|0));if(i>>>0<c>>>0){u=e+948|0;l=e+952|0;s=i;i=o[l>>2]|0;do{a=(o[u>>2]|0)+(s<<2)|0;n=a+4|0;r=i-n|0;t=r>>2;if(!t)r=i;else{ux(a|0,n|0,r|0)|0;i=o[l>>2]|0;r=i}n=a+(t<<2)|0;if((r|0)!=(n|0)){i=r+(~((r+-4-n|0)>>>2)<<2)|0;o[l>>2]=i}s=s+1|0}while((s|0)!=(c|0))}}}while(0);return}function Pt(e){e=e|0;var t=0,i=0,r=0,a=0;It(e,(Rt(e)|0)==0,2491);It(e,(o[e+944>>2]|0)==0,2545);t=e+948|0;i=o[t>>2]|0;r=e+952|0;a=o[r>>2]|0;if((a|0)!=(i|0))o[r>>2]=a+(~((a+-4-i|0)>>>2)<<2);Lt(t);t=e+976|0;i=o[t>>2]|0;rx(e|0,8104,1e3)|0;if(n[i+2>>0]|0){o[e+4>>2]=2;o[e+12>>2]=4}o[t>>2]=i;return}function It(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;r=f;f=f+16|0;n=r;if(!t){o[n>>2]=i;Mn(e,5,3197,n)}f=r;return}function Bt(){return o[2276]|0}function Dt(){var e=0;e=VS(20)|0;Nt((e|0)!=0,2592);o[2277]=(o[2277]|0)+1;o[e>>2]=o[239];o[e+4>>2]=o[240];o[e+8>>2]=o[241];o[e+12>>2]=o[242];o[e+16>>2]=o[243];return e|0}function Nt(e,t){e=e|0;t=t|0;var i=0,n=0;n=f;f=f+16|0;i=n;if(!e){o[i>>2]=t;Mn(0,5,3197,i)}f=n;return}function Ut(e){e=e|0;YS(e);o[2277]=(o[2277]|0)+-1;return}function Ft(e,t){e=e|0;t=t|0;var i=0;if(!t){i=0;t=0}else{It(e,(Rt(e)|0)==0,2629);i=1}o[e+964>>2]=t;o[e+988>>2]=i;return}function Ht(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;a=n+8|0;r=n+4|0;s=n;o[r>>2]=t;It(e,(o[t+944>>2]|0)==0,2709);It(e,(o[e+964>>2]|0)==0,2763);Wt(e);t=e+948|0;o[s>>2]=(o[t>>2]|0)+(i<<2);o[a>>2]=o[s>>2];Gt(t,a,r)|0;o[(o[r>>2]|0)+944>>2]=e;zt(e);f=n;return}function Wt(e){e=e|0;var t=0,i=0,n=0,r=0,a=0,s=0,l=0;i=Rt(e)|0;if(i|0?(o[(At(e,0)|0)+944>>2]|0)!=(e|0):0){n=o[(o[e+976>>2]|0)+12>>2]|0;r=e+948|0;a=(n|0)==0;t=0;do{s=o[(o[r>>2]|0)+(t<<2)>>2]|0;l=St(s)|0;o[(o[r>>2]|0)+(t<<2)>>2]=l;o[l+944>>2]=e;if(!a)IC[n&15](s,l,e,t);t=t+1|0}while((t|0)!=(i|0))}return}function Gt(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0,m=0,_=0,g=0,b=0,v=0;b=f;f=f+64|0;h=b+52|0;l=b+48|0;p=b+28|0;m=b+24|0;_=b+20|0;g=b;n=o[e>>2]|0;a=n;t=n+((o[t>>2]|0)-a>>2<<2)|0;n=e+4|0;r=o[n>>2]|0;s=e+8|0;do{if(r>>>0<(o[s>>2]|0)>>>0){if((t|0)==(r|0)){o[t>>2]=o[i>>2];o[n>>2]=(o[n>>2]|0)+4;break}Br(e,t,r,t+4|0);if(t>>>0<=i>>>0)i=(o[n>>2]|0)>>>0>i>>>0?i+4|0:i;o[t>>2]=o[i>>2]}else{n=(r-a>>2)+1|0;r=Gn(e)|0;if(r>>>0<n>>>0)Fk(e);d=o[e>>2]|0;c=(o[s>>2]|0)-d|0;a=c>>1;Or(g,c>>2>>>0<r>>>1>>>0?a>>>0<n>>>0?n:a:r,t-d>>2,e+8|0);d=g+8|0;n=o[d>>2]|0;a=g+12|0;c=o[a>>2]|0;s=c;u=n;do{if((n|0)==(c|0)){c=g+4|0;n=o[c>>2]|0;v=o[g>>2]|0;r=v;if(n>>>0<=v>>>0){n=s-r>>1;n=(n|0)==0?1:n;Or(p,n,n>>>2,o[g+16>>2]|0);o[m>>2]=o[c>>2];o[_>>2]=o[d>>2];o[l>>2]=o[m>>2];o[h>>2]=o[_>>2];Nr(p,l,h);n=o[g>>2]|0;o[g>>2]=o[p>>2];o[p>>2]=n;n=p+4|0;v=o[c>>2]|0;o[c>>2]=o[n>>2];o[n>>2]=v;n=p+8|0;v=o[d>>2]|0;o[d>>2]=o[n>>2];o[n>>2]=v;n=p+12|0;v=o[a>>2]|0;o[a>>2]=o[n>>2];o[n>>2]=v;Ir(p);n=o[d>>2]|0;break}a=n;s=((a-r>>2)+1|0)/-2|0;l=n+(s<<2)|0;r=u-a|0;a=r>>2;if(a){ux(l|0,n|0,r|0)|0;n=o[c>>2]|0}v=l+(a<<2)|0;o[d>>2]=v;o[c>>2]=n+(s<<2);n=v}}while(0);o[n>>2]=o[i>>2];o[d>>2]=(o[d>>2]|0)+4;t=Dr(e,g,t)|0;Ir(g)}}while(0);f=b;return t|0}function zt(e){e=e|0;var t=0;do{t=e+984|0;if(n[t>>0]|0)break;n[t>>0]=1;u[e+504>>2]=X(E);e=o[e+944>>2]|0}while((e|0)!=0);return}function Vt(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-4-n|0)>>>2)<<2);Kk(i)}return}function Yt(e){e=e|0;return o[e+944>>2]|0}function qt(e){e=e|0;It(e,(o[e+964>>2]|0)!=0,2832);zt(e);return}function Xt(e){e=e|0;return(n[e+984>>0]|0)!=0|0}function Kt(e,t){e=e|0;t=t|0;if(rk(e,t,400)|0){rx(e|0,t|0,400)|0;zt(e)}return}function Jt(e){e=e|0;var t=dt;t=X(u[e+44>>2]);e=wt(t)|0;return X(e?X(0.0):t)}function Zt(e){e=e|0;var t=dt;t=X(u[e+48>>2]);if(wt(t)|0)t=n[(o[e+976>>2]|0)+2>>0]|0?X(1.0):X(0.0);return X(t)}function Qt(e,t){e=e|0;t=t|0;o[e+980>>2]=t;return}function $t(e){e=e|0;return o[e+980>>2]|0}function ei(e,t){e=e|0;t=t|0;var i=0;i=e+4|0;if((o[i>>2]|0)!=(t|0)){o[i>>2]=t;zt(e)}return}function ti(e){e=e|0;return o[e+4>>2]|0}function ii(e,t){e=e|0;t=t|0;var i=0;i=e+8|0;if((o[i>>2]|0)!=(t|0)){o[i>>2]=t;zt(e)}return}function ni(e){e=e|0;return o[e+8>>2]|0}function ri(e,t){e=e|0;t=t|0;var i=0;i=e+12|0;if((o[i>>2]|0)!=(t|0)){o[i>>2]=t;zt(e)}return}function oi(e){e=e|0;return o[e+12>>2]|0}function ai(e,t){e=e|0;t=t|0;var i=0;i=e+16|0;if((o[i>>2]|0)!=(t|0)){o[i>>2]=t;zt(e)}return}function si(e){e=e|0;return o[e+16>>2]|0}function li(e,t){e=e|0;t=t|0;var i=0;i=e+20|0;if((o[i>>2]|0)!=(t|0)){o[i>>2]=t;zt(e)}return}function ui(e){e=e|0;return o[e+20>>2]|0}function ci(e,t){e=e|0;t=t|0;var i=0;i=e+24|0;if((o[i>>2]|0)!=(t|0)){o[i>>2]=t;zt(e)}return}function di(e){e=e|0;return o[e+24>>2]|0}function hi(e,t){e=e|0;t=t|0;var i=0;i=e+28|0;if((o[i>>2]|0)!=(t|0)){o[i>>2]=t;zt(e)}return}function pi(e){e=e|0;return o[e+28>>2]|0}function fi(e,t){e=e|0;t=t|0;var i=0;i=e+32|0;if((o[i>>2]|0)!=(t|0)){o[i>>2]=t;zt(e)}return}function mi(e){e=e|0;return o[e+32>>2]|0}function _i(e,t){e=e|0;t=t|0;var i=0;i=e+36|0;if((o[i>>2]|0)!=(t|0)){o[i>>2]=t;zt(e)}return}function gi(e){e=e|0;return o[e+36>>2]|0}function bi(e,t){e=e|0;t=X(t);var i=0;i=e+40|0;if(X(u[i>>2])!=t){u[i>>2]=t;zt(e)}return}function vi(e,t){e=e|0;t=X(t);var i=0;i=e+44|0;if(X(u[i>>2])!=t){u[i>>2]=t;zt(e)}return}function yi(e,t){e=e|0;t=X(t);var i=0;i=e+48|0;if(X(u[i>>2])!=t){u[i>>2]=t;zt(e)}return}function wi(e,t){e=e|0;t=X(t);var i=0,n=0,r=0,a=0;a=wt(t)|0;i=(a^1)&1;n=e+52|0;r=e+56|0;if(!(a|X(u[n>>2])==t?(o[r>>2]|0)==(i|0):0)){u[n>>2]=t;o[r>>2]=i;zt(e)}return}function Ei(e,t){e=e|0;t=X(t);var i=0,n=0;n=e+52|0;i=e+56|0;if(!(!(X(u[n>>2])!=t)?(o[i>>2]|0)==2:0)){u[n>>2]=t;n=wt(t)|0;o[i>>2]=n?3:2;zt(e)}return}function Ti(e,t){e=e|0;t=t|0;var i=0,n=0;n=t+52|0;i=o[n+4>>2]|0;t=e;o[t>>2]=o[n>>2];o[t+4>>2]=i;return}function ji(e,t,i){e=e|0;t=t|0;i=X(i);var n=0,r=0,a=0;a=wt(i)|0;n=(a^1)&1;r=e+132+(t<<3)|0;t=e+132+(t<<3)+4|0;if(!(a|X(u[r>>2])==i?(o[t>>2]|0)==(n|0):0)){u[r>>2]=i;o[t>>2]=n;zt(e)}return}function Mi(e,t,i){e=e|0;t=t|0;i=X(i);var n=0,r=0,a=0;a=wt(i)|0;n=a?0:2;r=e+132+(t<<3)|0;t=e+132+(t<<3)+4|0;if(!(a|X(u[r>>2])==i?(o[t>>2]|0)==(n|0):0)){u[r>>2]=i;o[t>>2]=n;zt(e)}return}function Si(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=t+132+(i<<3)|0;t=o[n+4>>2]|0;i=e;o[i>>2]=o[n>>2];o[i+4>>2]=t;return}function ki(e,t,i){e=e|0;t=t|0;i=X(i);var n=0,r=0,a=0;a=wt(i)|0;n=(a^1)&1;r=e+60+(t<<3)|0;t=e+60+(t<<3)+4|0;if(!(a|X(u[r>>2])==i?(o[t>>2]|0)==(n|0):0)){u[r>>2]=i;o[t>>2]=n;zt(e)}return}function xi(e,t,i){e=e|0;t=t|0;i=X(i);var n=0,r=0,a=0;a=wt(i)|0;n=a?0:2;r=e+60+(t<<3)|0;t=e+60+(t<<3)+4|0;if(!(a|X(u[r>>2])==i?(o[t>>2]|0)==(n|0):0)){u[r>>2]=i;o[t>>2]=n;zt(e)}return}function Ci(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=t+60+(i<<3)|0;t=o[n+4>>2]|0;i=e;o[i>>2]=o[n>>2];o[i+4>>2]=t;return}function Ri(e,t){e=e|0;t=t|0;var i=0;i=e+60+(t<<3)+4|0;if((o[i>>2]|0)!=3){u[e+60+(t<<3)>>2]=X(E);o[i>>2]=3;zt(e)}return}function Ai(e,t,i){e=e|0;t=t|0;i=X(i);var n=0,r=0,a=0;a=wt(i)|0;n=(a^1)&1;r=e+204+(t<<3)|0;t=e+204+(t<<3)+4|0;if(!(a|X(u[r>>2])==i?(o[t>>2]|0)==(n|0):0)){u[r>>2]=i;o[t>>2]=n;zt(e)}return}function Li(e,t,i){e=e|0;t=t|0;i=X(i);var n=0,r=0,a=0;a=wt(i)|0;n=a?0:2;r=e+204+(t<<3)|0;t=e+204+(t<<3)+4|0;if(!(a|X(u[r>>2])==i?(o[t>>2]|0)==(n|0):0)){u[r>>2]=i;o[t>>2]=n;zt(e)}return}function Oi(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=t+204+(i<<3)|0;t=o[n+4>>2]|0;i=e;o[i>>2]=o[n>>2];o[i+4>>2]=t;return}function Pi(e,t,i){e=e|0;t=t|0;i=X(i);var n=0,r=0,a=0;a=wt(i)|0;n=(a^1)&1;r=e+276+(t<<3)|0;t=e+276+(t<<3)+4|0;if(!(a|X(u[r>>2])==i?(o[t>>2]|0)==(n|0):0)){u[r>>2]=i;o[t>>2]=n;zt(e)}return}function Ii(e,t){e=e|0;t=t|0;return X(u[e+276+(t<<3)>>2])}function Bi(e,t){e=e|0;t=X(t);var i=0,n=0,r=0,a=0;a=wt(t)|0;i=(a^1)&1;n=e+348|0;r=e+352|0;if(!(a|X(u[n>>2])==t?(o[r>>2]|0)==(i|0):0)){u[n>>2]=t;o[r>>2]=i;zt(e)}return}function Di(e,t){e=e|0;t=X(t);var i=0,n=0;n=e+348|0;i=e+352|0;if(!(!(X(u[n>>2])!=t)?(o[i>>2]|0)==2:0)){u[n>>2]=t;n=wt(t)|0;o[i>>2]=n?3:2;zt(e)}return}function Ni(e){e=e|0;var t=0;t=e+352|0;if((o[t>>2]|0)!=3){u[e+348>>2]=X(E);o[t>>2]=3;zt(e)}return}function Ui(e,t){e=e|0;t=t|0;var i=0,n=0;n=t+348|0;i=o[n+4>>2]|0;t=e;o[t>>2]=o[n>>2];o[t+4>>2]=i;return}function Fi(e,t){e=e|0;t=X(t);var i=0,n=0,r=0,a=0;a=wt(t)|0;i=(a^1)&1;n=e+356|0;r=e+360|0;if(!(a|X(u[n>>2])==t?(o[r>>2]|0)==(i|0):0)){u[n>>2]=t;o[r>>2]=i;zt(e)}return}function Hi(e,t){e=e|0;t=X(t);var i=0,n=0;n=e+356|0;i=e+360|0;if(!(!(X(u[n>>2])!=t)?(o[i>>2]|0)==2:0)){u[n>>2]=t;n=wt(t)|0;o[i>>2]=n?3:2;zt(e)}return}function Wi(e){e=e|0;var t=0;t=e+360|0;if((o[t>>2]|0)!=3){u[e+356>>2]=X(E);o[t>>2]=3;zt(e)}return}function Gi(e,t){e=e|0;t=t|0;var i=0,n=0;n=t+356|0;i=o[n+4>>2]|0;t=e;o[t>>2]=o[n>>2];o[t+4>>2]=i;return}function zi(e,t){e=e|0;t=X(t);var i=0,n=0,r=0,a=0;a=wt(t)|0;i=(a^1)&1;n=e+364|0;r=e+368|0;if(!(a|X(u[n>>2])==t?(o[r>>2]|0)==(i|0):0)){u[n>>2]=t;o[r>>2]=i;zt(e)}return}function Vi(e,t){e=e|0;t=X(t);var i=0,n=0,r=0,a=0;a=wt(t)|0;i=a?0:2;n=e+364|0;r=e+368|0;if(!(a|X(u[n>>2])==t?(o[r>>2]|0)==(i|0):0)){u[n>>2]=t;o[r>>2]=i;zt(e)}return}function Yi(e,t){e=e|0;t=t|0;var i=0,n=0;n=t+364|0;i=o[n+4>>2]|0;t=e;o[t>>2]=o[n>>2];o[t+4>>2]=i;return}function qi(e,t){e=e|0;t=X(t);var i=0,n=0,r=0,a=0;a=wt(t)|0;i=(a^1)&1;n=e+372|0;r=e+376|0;if(!(a|X(u[n>>2])==t?(o[r>>2]|0)==(i|0):0)){u[n>>2]=t;o[r>>2]=i;zt(e)}return}function Xi(e,t){e=e|0;t=X(t);var i=0,n=0,r=0,a=0;a=wt(t)|0;i=a?0:2;n=e+372|0;r=e+376|0;if(!(a|X(u[n>>2])==t?(o[r>>2]|0)==(i|0):0)){u[n>>2]=t;o[r>>2]=i;zt(e)}return}function Ki(e,t){e=e|0;t=t|0;var i=0,n=0;n=t+372|0;i=o[n+4>>2]|0;t=e;o[t>>2]=o[n>>2];o[t+4>>2]=i;return}function Ji(e,t){e=e|0;t=X(t);var i=0,n=0,r=0,a=0;a=wt(t)|0;i=(a^1)&1;n=e+380|0;r=e+384|0;if(!(a|X(u[n>>2])==t?(o[r>>2]|0)==(i|0):0)){u[n>>2]=t;o[r>>2]=i;zt(e)}return}function Zi(e,t){e=e|0;t=X(t);var i=0,n=0,r=0,a=0;a=wt(t)|0;i=a?0:2;n=e+380|0;r=e+384|0;if(!(a|X(u[n>>2])==t?(o[r>>2]|0)==(i|0):0)){u[n>>2]=t;o[r>>2]=i;zt(e)}return}function Qi(e,t){e=e|0;t=t|0;var i=0,n=0;n=t+380|0;i=o[n+4>>2]|0;t=e;o[t>>2]=o[n>>2];o[t+4>>2]=i;return}function $i(e,t){e=e|0;t=X(t);var i=0,n=0,r=0,a=0;a=wt(t)|0;i=(a^1)&1;n=e+388|0;r=e+392|0;if(!(a|X(u[n>>2])==t?(o[r>>2]|0)==(i|0):0)){u[n>>2]=t;o[r>>2]=i;zt(e)}return}function en(e,t){e=e|0;t=X(t);var i=0,n=0,r=0,a=0;a=wt(t)|0;i=a?0:2;n=e+388|0;r=e+392|0;if(!(a|X(u[n>>2])==t?(o[r>>2]|0)==(i|0):0)){u[n>>2]=t;o[r>>2]=i;zt(e)}return}function tn(e,t){e=e|0;t=t|0;var i=0,n=0;n=t+388|0;i=o[n+4>>2]|0;t=e;o[t>>2]=o[n>>2];o[t+4>>2]=i;return}function nn(e,t){e=e|0;t=X(t);var i=0;i=e+396|0;if(X(u[i>>2])!=t){u[i>>2]=t;zt(e)}return}function rn(e){e=e|0;return X(u[e+396>>2])}function on(e){e=e|0;return X(u[e+400>>2])}function an(e){e=e|0;return X(u[e+404>>2])}function sn(e){e=e|0;return X(u[e+408>>2])}function ln(e){e=e|0;return X(u[e+412>>2])}function un(e){e=e|0;return X(u[e+416>>2])}function cn(e){e=e|0;return X(u[e+420>>2])}function dn(e,t){e=e|0;t=t|0;It(e,(t|0)<6,2918);switch(t|0){case 0:{t=(o[e+496>>2]|0)==2?5:4;break}case 2:{t=(o[e+496>>2]|0)==2?4:5;break}default:{}}return X(u[e+424+(t<<2)>>2])}function hn(e,t){e=e|0;t=t|0;It(e,(t|0)<6,2918);switch(t|0){case 0:{t=(o[e+496>>2]|0)==2?5:4;break}case 2:{t=(o[e+496>>2]|0)==2?4:5;break}default:{}}return X(u[e+448+(t<<2)>>2])}function pn(e,t){e=e|0;t=t|0;It(e,(t|0)<6,2918);switch(t|0){case 0:{t=(o[e+496>>2]|0)==2?5:4;break}case 2:{t=(o[e+496>>2]|0)==2?4:5;break}default:{}}return X(u[e+472+(t<<2)>>2])}function fn(e,t){e=e|0;t=t|0;var i=0,n=dt;i=o[e+4>>2]|0;if((i|0)==(o[t+4>>2]|0)){if(!i)e=1;else{n=X(u[e>>2]);e=X(A(X(n-X(u[t>>2]))))<X(.0000999999974)}}else e=0;return e|0}function mn(e,t){e=X(e);t=X(t);var i=0;if(wt(e)|0)i=wt(t)|0;else i=X(A(X(e-t)))<X(.0000999999974);return i|0}function _n(e,t){e=e|0;t=t|0;gn(e,t);return}function gn(e,t){e=e|0;t=t|0;var i=0,r=0;i=f;f=f+16|0;r=i+4|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;Ue(r|0,e|0,t|0,0);Mn(e,3,(n[r+11>>0]|0)<0?o[r>>2]|0:r,i);Jk(r);f=i;return}function bn(e,t,i,n){e=X(e);t=X(t);i=i|0;n=n|0;var r=dt;e=X(e*t);r=X(Dk(e,X(1.0)));do{if(!(mn(r,X(0.0))|0)){e=X(e-r);if(mn(r,X(1.0))|0){e=X(e+X(1.0));break}if(i){e=X(e+X(1.0));break}if(!n){if(r>X(.5))r=X(1.0);else{n=mn(r,X(.5))|0;r=n?X(1.0):X(0.0)}e=X(e+r)}}else e=X(e-r)}while(0);return X(e/t)}function vn(e,t,i,n,r,o,a,s,l,c,d,h,p){e=e|0;t=X(t);i=i|0;n=X(n);r=r|0;o=X(o);a=a|0;s=X(s);l=X(l);c=X(c);d=X(d);h=X(h);p=p|0;var f=0,m=dt,_=dt,g=dt,b=dt,v=dt,y=dt;if(l<X(0.0)|c<X(0.0))p=0;else{if((p|0)!=0?(m=X(u[p+4>>2]),m!=X(0.0)):0){g=X(bn(t,m,0,0));b=X(bn(n,m,0,0));_=X(bn(o,m,0,0));m=X(bn(s,m,0,0))}else{_=o;g=t;m=s;b=n}if((r|0)==(e|0))f=mn(_,g)|0;else f=0;if((a|0)==(i|0))p=mn(m,b)|0;else p=0;if((!f?(v=X(t-d),!(yn(e,v,l)|0)):0)?!(wn(e,v,r,l)|0):0)f=En(e,v,r,o,l)|0;else f=1;if((!p?(y=X(n-h),!(yn(i,y,c)|0)):0)?!(wn(i,y,a,c)|0):0)p=En(i,y,a,s,c)|0;else p=1;p=f&p}return p|0}function yn(e,t,i){e=e|0;t=X(t);i=X(i);if((e|0)==1)e=mn(t,i)|0;else e=0;return e|0}function wn(e,t,i,n){e=e|0;t=X(t);i=i|0;n=X(n);if((e|0)==2&(i|0)==0){if(!(t>=n))e=mn(t,n)|0;else e=1}else e=0;return e|0}function En(e,t,i,n,r){e=e|0;t=X(t);i=i|0;n=X(n);r=X(r);if((e|0)==2&(i|0)==2&n>t){if(!(r<=t))e=mn(t,r)|0;else e=1}else e=0;return e|0}function Tn(e,t,i,r,a,s,l,d,h,p,m){e=e|0;t=X(t);i=X(i);r=r|0;a=a|0;s=s|0;l=X(l);d=X(d);h=h|0;p=p|0;m=m|0;var _=0,g=0,b=0,v=0,y=dt,w=dt,E=0,T=0,j=0,M=0,S=0,k=0,x=0,C=0,R=0,A=0,L=0,O=dt,P=dt,I=dt,B=0.0,D=0.0;L=f;f=f+160|0;C=L+152|0;x=L+120|0;k=L+104|0;j=L+72|0;v=L+56|0;S=L+8|0;T=L;M=(o[2279]|0)+1|0;o[2279]=M;R=e+984|0;if((n[R>>0]|0)!=0?(o[e+512>>2]|0)!=(o[2278]|0):0)E=4;else if((o[e+516>>2]|0)==(r|0))A=0;else E=4;if((E|0)==4){o[e+520>>2]=0;o[e+924>>2]=-1;o[e+928>>2]=-1;u[e+932>>2]=X(-1.0);u[e+936>>2]=X(-1.0);A=1}e:do{if(!(o[e+964>>2]|0)){if(h){_=e+916|0;if(!(mn(X(u[_>>2]),t)|0)){E=21;break}if(!(mn(X(u[e+920>>2]),i)|0)){E=21;break}if((o[e+924>>2]|0)!=(a|0)){E=21;break}_=(o[e+928>>2]|0)==(s|0)?_:0;E=22;break}b=o[e+520>>2]|0;if(!b)E=21;else{g=0;while(1){_=e+524+(g*24|0)|0;if(((mn(X(u[_>>2]),t)|0?mn(X(u[e+524+(g*24|0)+4>>2]),i)|0:0)?(o[e+524+(g*24|0)+8>>2]|0)==(a|0):0)?(o[e+524+(g*24|0)+12>>2]|0)==(s|0):0){E=22;break e}g=g+1|0;if(g>>>0>=b>>>0){E=21;break}}}}else{y=X(jn(e,2,l));w=X(jn(e,0,l));_=e+916|0;I=X(u[_>>2]);P=X(u[e+920>>2]);O=X(u[e+932>>2]);if(!(vn(a,t,s,i,o[e+924>>2]|0,I,o[e+928>>2]|0,P,O,X(u[e+936>>2]),y,w,m)|0)){b=o[e+520>>2]|0;if(!b)E=21;else{g=0;while(1){_=e+524+(g*24|0)|0;O=X(u[_>>2]);P=X(u[e+524+(g*24|0)+4>>2]);I=X(u[e+524+(g*24|0)+16>>2]);if(vn(a,t,s,i,o[e+524+(g*24|0)+8>>2]|0,O,o[e+524+(g*24|0)+12>>2]|0,P,I,X(u[e+524+(g*24|0)+20>>2]),y,w,m)|0){E=22;break e}g=g+1|0;if(g>>>0>=b>>>0){E=21;break}}}}else E=22}}while(0);do{if((E|0)==21){if(!(n[11697]|0)){_=0;E=31}else{_=0;E=28}}else if((E|0)==22){g=(n[11697]|0)!=0;if(!((_|0)!=0&(A^1)))if(g){E=28;break}else{E=31;break}v=_+16|0;o[e+908>>2]=o[v>>2];b=_+20|0;o[e+912>>2]=o[b>>2];if(!((n[11698]|0)==0|g^1)){o[T>>2]=Sn(M)|0;o[T+4>>2]=M;Mn(e,4,2972,T);g=o[e+972>>2]|0;if(g|0)fC[g&127](e);a=kn(a,h)|0;s=kn(s,h)|0;D=+X(u[v>>2]);B=+X(u[b>>2]);o[S>>2]=a;o[S+4>>2]=s;c[S+8>>3]=+t;c[S+16>>3]=+i;c[S+24>>3]=D;c[S+32>>3]=B;o[S+40>>2]=p;Mn(e,4,2989,S)}}}while(0);if((E|0)==28){g=Sn(M)|0;o[v>>2]=g;o[v+4>>2]=M;o[v+8>>2]=A?3047:11699;Mn(e,4,3038,v);g=o[e+972>>2]|0;if(g|0)fC[g&127](e);S=kn(a,h)|0;E=kn(s,h)|0;o[j>>2]=S;o[j+4>>2]=E;c[j+8>>3]=+t;c[j+16>>3]=+i;o[j+24>>2]=p;Mn(e,4,3049,j);E=31}if((E|0)==31){xn(e,t,i,r,a,s,l,d,h,m);if(n[11697]|0){g=o[2279]|0;S=Sn(g)|0;o[k>>2]=S;o[k+4>>2]=g;o[k+8>>2]=A?3047:11699;Mn(e,4,3083,k);g=o[e+972>>2]|0;if(g|0)fC[g&127](e);S=kn(a,h)|0;k=kn(s,h)|0;B=+X(u[e+908>>2]);D=+X(u[e+912>>2]);o[x>>2]=S;o[x+4>>2]=k;c[x+8>>3]=B;c[x+16>>3]=D;o[x+24>>2]=p;Mn(e,4,3092,x)}o[e+516>>2]=r;if(!_){g=e+520|0;_=o[g>>2]|0;if((_|0)==16){if(n[11697]|0)Mn(e,4,3124,C);o[g>>2]=0;_=0}if(h)_=e+916|0;else{o[g>>2]=_+1;_=e+524+(_*24|0)|0}u[_>>2]=t;u[_+4>>2]=i;o[_+8>>2]=a;o[_+12>>2]=s;o[_+16>>2]=o[e+908>>2];o[_+20>>2]=o[e+912>>2];_=0}}if(h){o[e+416>>2]=o[e+908>>2];o[e+420>>2]=o[e+912>>2];n[e+985>>0]=1;n[R>>0]=0}o[2279]=(o[2279]|0)+-1;o[e+512>>2]=o[2278];f=L;return A|(_|0)==0|0}function jn(e,t,i){e=e|0;t=t|0;i=X(i);var n=dt;n=X(zn(e,t,i));return X(n+X(Vn(e,t,i)))}function Mn(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=f;f=f+16|0;r=a;o[r>>2]=n;if(!e)n=0;else n=o[e+976>>2]|0;Nn(n,e,t,i,r);f=a;return}function Sn(e){e=e|0;return(e>>>0>60?3201:3201+(60-e)|0)|0}function kn(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;r=f;f=f+32|0;i=r+12|0;n=r;o[i>>2]=o[254];o[i+4>>2]=o[255];o[i+8>>2]=o[256];o[n>>2]=o[257];o[n+4>>2]=o[258];o[n+8>>2]=o[259];if((e|0)>2)e=11699;else e=o[(t?n:i)+(e<<2)>>2]|0;f=r;return e|0}function xn(e,t,i,r,s,l,c,d,p,m){e=e|0;t=X(t);i=X(i);r=r|0;s=s|0;l=l|0;c=X(c);d=X(d);p=p|0;m=m|0;var _=0,g=0,b=0,v=0,y=dt,w=dt,E=dt,T=dt,j=dt,M=dt,S=dt,k=0,x=0,C=0,R=dt,A=dt,L=0,O=dt,P=0,I=0,B=0,D=0,N=0,U=0,F=0,H=0,W=0,G=0,z=0,V=0,Y=0,q=0,K=0,J=0,Z=0,Q=0,$=dt,ee=dt,te=dt,ie=dt,ne=dt,re=0,oe=0,ae=0,se=0,le=0,ue=dt,ce=dt,de=dt,he=dt,pe=dt,fe=dt,me=0,_e=dt,ge=dt,be=dt,ve=dt,ye=dt,we=dt,Ee=0,Te=0,je=dt,Me=dt,Se=0,ke=0,xe=0,Ce=0,Re=dt,Ae=0,Le=0,Oe=0,Pe=0,Ie=0,Be=0,De=0,Ne=dt,Ue=0,Fe=0;De=f;f=f+16|0;re=De+12|0;oe=De+8|0;ae=De+4|0;se=De;It(e,(s|0)==0|(wt(t)|0)^1,3326);It(e,(l|0)==0|(wt(i)|0)^1,3406);Le=Xn(e,r)|0;o[e+496>>2]=Le;Ie=Kn(2,Le)|0;Be=Kn(0,Le)|0;u[e+440>>2]=X(zn(e,Ie,c));u[e+444>>2]=X(Vn(e,Ie,c));u[e+428>>2]=X(zn(e,Be,c));u[e+436>>2]=X(Vn(e,Be,c));u[e+464>>2]=X(Jn(e,Ie));u[e+468>>2]=X(Zn(e,Ie));u[e+452>>2]=X(Jn(e,Be));u[e+460>>2]=X(Zn(e,Be));u[e+488>>2]=X(Qn(e,Ie,c));u[e+492>>2]=X($n(e,Ie,c));u[e+476>>2]=X(Qn(e,Be,c));u[e+484>>2]=X($n(e,Be,c));do{if(!(o[e+964>>2]|0)){Oe=e+948|0;Pe=(o[e+952>>2]|0)-(o[Oe>>2]|0)>>2;if(!Pe){tr(e,t,i,s,l,c,d);break}if(!p?ir(e,t,i,s,l,c,d)|0:0)break;Wt(e);J=e+508|0;n[J>>0]=0;Ie=Kn(o[e+4>>2]|0,Le)|0;Be=nr(Ie,Le)|0;Ae=Yn(Ie)|0;Z=o[e+8>>2]|0;ke=e+28|0;Q=(o[ke>>2]|0)!=0;ye=Ae?c:d;je=Ae?d:c;$=X(rr(e,Ie,c));ee=X(or(e,Ie,c));y=X(rr(e,Be,c));we=X(ar(e,Ie,c));Me=X(ar(e,Be,c));C=Ae?s:l;Se=Ae?l:s;Re=Ae?we:Me;j=Ae?Me:we;ve=X(jn(e,2,c));T=X(jn(e,0,c));w=X(X(On(e+364|0,c))-Re);E=X(X(On(e+380|0,c))-Re);M=X(X(On(e+372|0,d))-j);S=X(X(On(e+388|0,d))-j);te=Ae?w:M;ie=Ae?E:S;ve=X(t-ve);t=X(ve-Re);if(wt(t)|0)Re=t;else Re=X(Ok(X(Ik(t,E)),w));ge=X(i-T);t=X(ge-j);if(wt(t)|0)be=t;else be=X(Ok(X(Ik(t,S)),M));w=Ae?Re:be;_e=Ae?be:Re;e:do{if((C|0)==1){r=0;g=0;while(1){_=At(e,g)|0;if(!r){if(X(lr(_))>X(0.0)?X(ur(_))>X(0.0):0)r=_;else r=0}else if(sr(_)|0){v=0;break e}g=g+1|0;if(g>>>0>=Pe>>>0){v=r;break}}}else v=0}while(0);k=v+500|0;x=v+504|0;r=0;_=0;t=X(0.0);b=0;do{g=o[(o[Oe>>2]|0)+(b<<2)>>2]|0;if((o[g+36>>2]|0)==1){cr(g);n[g+985>>0]=1;n[g+984>>0]=0}else{An(g);if(p)Pn(g,Xn(g,Le)|0,w,_e,Re);do{if((o[g+24>>2]|0)!=1){if((g|0)==(v|0)){o[k>>2]=o[2278];u[x>>2]=X(0.0);break}else{dr(e,g,Re,s,be,Re,be,l,Le,m);break}}else{if(_|0)o[_+960>>2]=g;o[g+960>>2]=0;_=g;r=(r|0)==0?g:r}}while(0);fe=X(u[g+504>>2]);t=X(t+X(fe+X(jn(g,Ie,Re))))}b=b+1|0}while((b|0)!=(Pe|0));B=t>w;me=Q&((C|0)==2&B)?1:C;P=(Se|0)==1;N=P&(p^1);U=(me|0)==1;F=(me|0)==2;H=976+(Ie<<2)|0;W=(Se|2|0)==2;q=P&(Q^1);G=1040+(Be<<2)|0;z=1040+(Ie<<2)|0;V=976+(Be<<2)|0;Y=(Se|0)!=1;B=Q&((C|0)!=0&B);I=e+976|0;P=P^1;t=w;L=0;D=0;fe=X(0.0);ne=X(0.0);while(1){e:do{if(L>>>0<Pe>>>0){x=o[Oe>>2]|0;b=0;S=X(0.0);M=X(0.0);E=X(0.0);w=X(0.0);g=0;_=0;v=L;while(1){k=o[x+(v<<2)>>2]|0;if((o[k+36>>2]|0)!=1?(o[k+940>>2]=D,(o[k+24>>2]|0)!=1):0){T=X(jn(k,Ie,Re));K=o[H>>2]|0;i=X(On(k+380+(K<<3)|0,ye));j=X(u[k+504>>2]);i=X(Ik(i,j));i=X(Ok(X(On(k+364+(K<<3)|0,ye)),i));if(Q&(b|0)!=0&X(T+X(M+i))>t){l=b;T=S;C=v;break e}T=X(T+i);i=X(M+T);T=X(S+T);if(sr(k)|0){E=X(E+X(lr(k)));w=X(w-X(j*X(ur(k))))}if(_|0)o[_+960>>2]=k;o[k+960>>2]=0;b=b+1|0;_=k;g=(g|0)==0?k:g}else{T=S;i=M}v=v+1|0;if(v>>>0<Pe>>>0){S=T;M=i}else{l=b;C=v;break}}}else{l=0;T=X(0.0);E=X(0.0);w=X(0.0);g=0;C=L}}while(0);K=E>X(0.0)&E<X(1.0);R=K?X(1.0):E;K=w>X(0.0)&w<X(1.0);S=K?X(1.0):w;do{if(!U){if(!(T<te&((wt(te)|0)^1))){if(!(T>ie&((wt(ie)|0)^1))){if(!(n[(o[I>>2]|0)+3>>0]|0)){if(!(R==X(0.0))?!(X(lr(e))==X(0.0)):0){K=53;break}t=T;K=53}else K=51}else{t=ie;K=51}}else{t=te;K=51}}else K=51}while(0);if((K|0)==51){K=0;if(wt(t)|0)K=53;else{A=X(t-T);O=t}}if((K|0)==53){K=0;if(T<X(0.0)){A=X(-T);O=t}else{A=X(0.0);O=t}}if(!N?(le=(g|0)==0,!le):0){b=o[H>>2]|0;v=A<X(0.0);j=X(A/S);k=A>X(0.0);M=X(A/R);E=X(0.0);T=X(0.0);t=X(0.0);_=g;do{i=X(On(_+380+(b<<3)|0,ye));w=X(On(_+364+(b<<3)|0,ye));w=X(Ik(i,X(Ok(w,X(u[_+504>>2])))));if(v){i=X(w*X(ur(_)));if(i!=X(-0.0)?(Ne=X(w-X(j*i)),ue=X(hr(_,Ie,Ne,O,Re)),Ne!=ue):0){E=X(E-X(ue-w));t=X(t+i)}}else if((k?(ce=X(lr(_)),ce!=X(0.0)):0)?(Ne=X(w+X(M*ce)),de=X(hr(_,Ie,Ne,O,Re)),Ne!=de):0){E=X(E-X(de-w));T=X(T-ce)}_=o[_+960>>2]|0}while((_|0)!=0);t=X(S+t);w=X(A+E);if(!le){j=X(R+T);v=o[H>>2]|0;k=w<X(0.0);x=t==X(0.0);M=X(w/t);b=w>X(0.0);j=X(w/j);t=X(0.0);do{Ne=X(On(g+380+(v<<3)|0,ye));E=X(On(g+364+(v<<3)|0,ye));E=X(Ik(Ne,X(Ok(E,X(u[g+504>>2])))));if(k){Ne=X(E*X(ur(g)));w=X(-Ne);if(Ne!=X(-0.0)){Ne=X(M*w);w=X(hr(g,Ie,X(E+(x?w:Ne)),O,Re))}else w=E}else if(b?(he=X(lr(g)),he!=X(0.0)):0)w=X(hr(g,Ie,X(E+X(j*he)),O,Re));else w=E;t=X(t-X(w-E));T=X(jn(g,Ie,Re));i=X(jn(g,Be,Re));w=X(w+T);u[oe>>2]=w;o[se>>2]=1;E=X(u[g+396>>2]);e:do{if(wt(E)|0){_=wt(_e)|0;do{if(!_){if(B|(Ln(g,Be,_e)|0|P))break;if((pr(e,g)|0)!=4)break;if((o[(fr(g,Be)|0)+4>>2]|0)==3)break;if((o[(mr(g,Be)|0)+4>>2]|0)==3)break;u[re>>2]=_e;o[ae>>2]=1;break e}}while(0);if(Ln(g,Be,_e)|0){_=o[g+992+(o[V>>2]<<2)>>2]|0;Ne=X(i+X(On(_,_e)));u[re>>2]=Ne;_=Y&(o[_+4>>2]|0)==2;o[ae>>2]=((wt(Ne)|0|_)^1)&1;break}else{u[re>>2]=_e;o[ae>>2]=_?0:2;break}}else{Ne=X(w-T);R=X(Ne/E);Ne=X(E*Ne);o[ae>>2]=1;u[re>>2]=X(i+(Ae?R:Ne))}}while(0);_r(g,Ie,O,Re,se,oe);_r(g,Be,_e,Re,ae,re);do{if(!(Ln(g,Be,_e)|0)?(pr(e,g)|0)==4:0){if((o[(fr(g,Be)|0)+4>>2]|0)==3){_=0;break}_=(o[(mr(g,Be)|0)+4>>2]|0)!=3}else _=0}while(0);Ne=X(u[oe>>2]);R=X(u[re>>2]);Ue=o[se>>2]|0;Fe=o[ae>>2]|0;Tn(g,Ae?Ne:R,Ae?R:Ne,Le,Ae?Ue:Fe,Ae?Fe:Ue,Re,be,p&(_^1),3488,m)|0;n[J>>0]=n[J>>0]|n[g+508>>0];g=o[g+960>>2]|0}while((g|0)!=0)}else t=X(0.0)}else t=X(0.0);t=X(A+t);Fe=t<X(0.0)&1;n[J>>0]=Fe|a[J>>0];if(F&t>X(0.0)){_=o[H>>2]|0;if((o[e+364+(_<<3)+4>>2]|0)!=0?(pe=X(On(e+364+(_<<3)|0,ye)),pe>=X(0.0)):0)w=X(Ok(X(0.0),X(pe-X(O-t))));else w=X(0.0)}else w=t;k=L>>>0<C>>>0;if(k){v=o[Oe>>2]|0;b=L;_=0;do{g=o[v+(b<<2)>>2]|0;if(!(o[g+24>>2]|0)){_=((o[(fr(g,Ie)|0)+4>>2]|0)==3&1)+_|0;_=_+((o[(mr(g,Ie)|0)+4>>2]|0)==3&1)|0}b=b+1|0}while((b|0)!=(C|0));if(_){T=X(0.0);i=X(0.0)}else K=101}else K=101;e:do{if((K|0)==101){K=0;switch(Z|0){case 1:{_=0;T=X(w*X(.5));i=X(0.0);break e}case 2:{_=0;T=w;i=X(0.0);break e}case 3:{if(l>>>0<=1){_=0;T=X(0.0);i=X(0.0);break e}i=X((l+-1|0)>>>0);_=0;T=X(0.0);i=X(X(Ok(w,X(0.0)))/i);break e}case 5:{i=X(w/X((l+1|0)>>>0));_=0;T=i;break e}case 4:{i=X(w/X(l>>>0));_=0;T=X(i*X(.5));break e}default:{_=0;T=X(0.0);i=X(0.0);break e}}}}while(0);t=X($+T);if(k){E=X(w/X(_|0));b=o[Oe>>2]|0;g=L;w=X(0.0);do{_=o[b+(g<<2)>>2]|0;e:do{if((o[_+36>>2]|0)!=1){switch(o[_+24>>2]|0){case 1:{if(gr(_,Ie)|0){if(!p)break e;Ne=X(br(_,Ie,O));Ne=X(Ne+X(Jn(e,Ie)));Ne=X(Ne+X(zn(_,Ie,Re)));u[_+400+(o[z>>2]<<2)>>2]=Ne;break e}break}case 0:{Fe=(o[(fr(_,Ie)|0)+4>>2]|0)==3;Ne=X(E+t);t=Fe?Ne:t;if(p){Fe=_+400+(o[z>>2]<<2)|0;u[Fe>>2]=X(t+X(u[Fe>>2]))}Fe=(o[(mr(_,Ie)|0)+4>>2]|0)==3;Ne=X(E+t);t=Fe?Ne:t;if(N){Ne=X(i+X(jn(_,Ie,Re)));w=_e;t=X(t+X(Ne+X(u[_+504>>2])));break e}else{t=X(t+X(i+X(vr(_,Ie,Re))));w=X(Ok(w,X(vr(_,Be,Re))));break e}}default:{}}if(p){Ne=X(T+X(Jn(e,Ie)));Fe=_+400+(o[z>>2]<<2)|0;u[Fe>>2]=X(Ne+X(u[Fe>>2]))}}}while(0);g=g+1|0}while((g|0)!=(C|0))}else w=X(0.0);i=X(ee+t);if(W)T=X(X(hr(e,Be,X(Me+w),je,c))-Me);else T=_e;E=X(X(hr(e,Be,X(Me+(q?_e:w)),je,c))-Me);if(k&p){g=L;do{b=o[(o[Oe>>2]|0)+(g<<2)>>2]|0;do{if((o[b+36>>2]|0)!=1){if((o[b+24>>2]|0)==1){if(gr(b,Be)|0){Ne=X(br(b,Be,_e));Ne=X(Ne+X(Jn(e,Be)));Ne=X(Ne+X(zn(b,Be,Re)));_=o[G>>2]|0;u[b+400+(_<<2)>>2]=Ne;if(!(wt(Ne)|0))break}else _=o[G>>2]|0;Ne=X(Jn(e,Be));u[b+400+(_<<2)>>2]=X(Ne+X(zn(b,Be,Re)));break}_=pr(e,b)|0;do{if((_|0)==4){if((o[(fr(b,Be)|0)+4>>2]|0)==3){K=139;break}if((o[(mr(b,Be)|0)+4>>2]|0)==3){K=139;break}if(Ln(b,Be,_e)|0){t=y;break}Ue=o[b+908+(o[H>>2]<<2)>>2]|0;o[re>>2]=Ue;t=X(u[b+396>>2]);Fe=wt(t)|0;w=(o[h>>2]=Ue,X(u[h>>2]));if(Fe)t=E;else{A=X(jn(b,Be,Re));Ne=X(w/t);t=X(t*w);t=X(A+(Ae?Ne:t))}u[oe>>2]=t;u[re>>2]=X(X(jn(b,Ie,Re))+w);o[ae>>2]=1;o[se>>2]=1;_r(b,Ie,O,Re,ae,re);_r(b,Be,_e,Re,se,oe);t=X(u[re>>2]);A=X(u[oe>>2]);Ne=Ae?t:A;t=Ae?A:t;Fe=((wt(Ne)|0)^1)&1;Tn(b,Ne,t,Le,Fe,((wt(t)|0)^1)&1,Re,be,1,3493,m)|0;t=y}else K=139}while(0);e:do{if((K|0)==139){K=0;t=X(T-X(vr(b,Be,Re)));do{if((o[(fr(b,Be)|0)+4>>2]|0)==3){if((o[(mr(b,Be)|0)+4>>2]|0)!=3)break;t=X(y+X(Ok(X(0.0),X(t*X(.5)))));break e}}while(0);if((o[(mr(b,Be)|0)+4>>2]|0)==3){t=y;break}if((o[(fr(b,Be)|0)+4>>2]|0)==3){t=X(y+X(Ok(X(0.0),t)));break}switch(_|0){case 1:{t=y;break e}case 2:{t=X(y+X(t*X(.5)));break e}default:{t=X(y+t);break e}}}}while(0);Ne=X(fe+t);Fe=b+400+(o[G>>2]<<2)|0;u[Fe>>2]=X(Ne+X(u[Fe>>2]))}}while(0);g=g+1|0}while((g|0)!=(C|0))}fe=X(fe+E);ne=X(Ok(ne,i));l=D+1|0;if(C>>>0>=Pe>>>0)break;else{t=O;L=C;D=l}}do{if(p){_=l>>>0>1;if(!_?!(yr(e)|0):0)break;if(!(wt(_e)|0)){t=X(_e-fe);e:do{switch(o[e+12>>2]|0){case 3:{y=X(y+t);M=X(0.0);break}case 2:{y=X(y+X(t*X(.5)));M=X(0.0);break}case 4:{if(_e>fe)M=X(t/X(l>>>0));else M=X(0.0);break}case 7:if(_e>fe){y=X(y+X(t/X(l<<1>>>0)));M=X(t/X(l>>>0));M=_?M:X(0.0);break e}else{y=X(y+X(t*X(.5)));M=X(0.0);break e}case 6:{M=X(t/X(D>>>0));M=_e>fe&_?M:X(0.0);break}default:M=X(0.0)}}while(0);if(l|0){k=1040+(Be<<2)|0;x=976+(Be<<2)|0;v=0;g=0;while(1){e:do{if(g>>>0<Pe>>>0){w=X(0.0);E=X(0.0);t=X(0.0);b=g;while(1){_=o[(o[Oe>>2]|0)+(b<<2)>>2]|0;do{if((o[_+36>>2]|0)!=1?(o[_+24>>2]|0)==0:0){if((o[_+940>>2]|0)!=(v|0))break e;if(wr(_,Be)|0){Ne=X(u[_+908+(o[x>>2]<<2)>>2]);t=X(Ok(t,X(Ne+X(jn(_,Be,Re)))))}if((pr(e,_)|0)!=5)break;pe=X(Er(_));pe=X(pe+X(zn(_,0,Re)));Ne=X(u[_+912>>2]);Ne=X(X(Ne+X(jn(_,0,Re)))-pe);pe=X(Ok(E,pe));Ne=X(Ok(w,Ne));w=Ne;E=pe;t=X(Ok(t,X(pe+Ne)))}}while(0);_=b+1|0;if(_>>>0<Pe>>>0)b=_;else{b=_;break}}}else{E=X(0.0);t=X(0.0);b=g}}while(0);j=X(M+t);i=y;y=X(y+j);if(g>>>0<b>>>0){T=X(i+E);_=g;do{g=o[(o[Oe>>2]|0)+(_<<2)>>2]|0;e:do{if((o[g+36>>2]|0)!=1?(o[g+24>>2]|0)==0:0)switch(pr(e,g)|0){case 1:{Ne=X(i+X(zn(g,Be,Re)));u[g+400+(o[k>>2]<<2)>>2]=Ne;break e}case 3:{Ne=X(X(y-X(Vn(g,Be,Re)))-X(u[g+908+(o[x>>2]<<2)>>2]));u[g+400+(o[k>>2]<<2)>>2]=Ne;break e}case 2:{Ne=X(i+X(X(j-X(u[g+908+(o[x>>2]<<2)>>2]))*X(.5)));u[g+400+(o[k>>2]<<2)>>2]=Ne;break e}case 4:{Ne=X(i+X(zn(g,Be,Re)));u[g+400+(o[k>>2]<<2)>>2]=Ne;if(Ln(g,Be,_e)|0)break e;if(Ae){w=X(u[g+908>>2]);t=X(w+X(jn(g,Ie,Re)));E=j}else{E=X(u[g+912>>2]);E=X(E+X(jn(g,Be,Re)));t=j;w=X(u[g+908>>2])}if(mn(t,w)|0?mn(E,X(u[g+912>>2]))|0:0)break e;Tn(g,t,E,Le,1,1,Re,be,1,3501,m)|0;break e}case 5:{u[g+404>>2]=X(X(T-X(Er(g)))+X(br(g,0,_e)));break e}default:break e}}while(0);_=_+1|0}while((_|0)!=(b|0))}v=v+1|0;if((v|0)==(l|0))break;else g=b}}}}}while(0);u[e+908>>2]=X(hr(e,2,ve,c,c));u[e+912>>2]=X(hr(e,0,ge,d,c));if((me|0)!=0?(Ee=o[e+32>>2]|0,Te=(me|0)==2,!(Te&(Ee|0)!=2)):0){if(Te&(Ee|0)==2){t=X(we+O);t=X(Ok(X(Ik(t,X(Tr(e,Ie,ne,ye)))),we));K=198}}else{t=X(hr(e,Ie,ne,ye,c));K=198}if((K|0)==198)u[e+908+(o[976+(Ie<<2)>>2]<<2)>>2]=t;if((Se|0)!=0?(xe=o[e+32>>2]|0,Ce=(Se|0)==2,!(Ce&(xe|0)!=2)):0){if(Ce&(xe|0)==2){t=X(Me+_e);t=X(Ok(X(Ik(t,X(Tr(e,Be,X(Me+fe),je)))),Me));K=204}}else{t=X(hr(e,Be,X(Me+fe),je,c));K=204}if((K|0)==204)u[e+908+(o[976+(Be<<2)>>2]<<2)>>2]=t;if(p){if((o[ke>>2]|0)==2){g=976+(Be<<2)|0;b=1040+(Be<<2)|0;_=0;do{v=At(e,_)|0;if(!(o[v+24>>2]|0)){Ue=o[g>>2]|0;Ne=X(u[e+908+(Ue<<2)>>2]);Fe=v+400+(o[b>>2]<<2)|0;Ne=X(Ne-X(u[Fe>>2]));u[Fe>>2]=X(Ne-X(u[v+908+(Ue<<2)>>2]))}_=_+1|0}while((_|0)!=(Pe|0))}if(r|0){_=Ae?me:s;do{jr(e,r,Re,_,be,Le,m);r=o[r+960>>2]|0}while((r|0)!=0)}_=(Ie|2|0)==3;g=(Be|2|0)==3;if(_|g){r=0;do{b=o[(o[Oe>>2]|0)+(r<<2)>>2]|0;if((o[b+36>>2]|0)!=1){if(_)Mr(e,b,Ie);if(g)Mr(e,b,Be)}r=r+1|0}while((r|0)!=(Pe|0))}}}else er(e,t,i,s,l,c,d)}while(0);f=De;return}function Cn(e,t){e=e|0;t=X(t);var i=0;jt(e,t>=X(0.0),3147);i=t==X(0.0);u[e+4>>2]=i?X(0.0):t;return}function Rn(e,t,i,r){e=e|0;t=X(t);i=X(i);r=r|0;var a=dt,s=dt,l=0,c=0,d=0;o[2278]=(o[2278]|0)+1;An(e);if(!(Ln(e,2,t)|0)){a=X(On(e+380|0,t));if(!(a>=X(0.0))){d=((wt(t)|0)^1)&1;a=t}else d=2}else{a=X(On(o[e+992>>2]|0,t));d=1;a=X(a+X(jn(e,2,t)))}if(!(Ln(e,0,i)|0)){s=X(On(e+388|0,i));if(!(s>=X(0.0))){c=((wt(i)|0)^1)&1;s=i}else c=2}else{s=X(On(o[e+996>>2]|0,i));c=1;s=X(s+X(jn(e,0,t)))}l=e+976|0;if(Tn(e,a,s,r,d,c,t,i,1,3189,o[l>>2]|0)|0?(Pn(e,o[e+496>>2]|0,t,i,t),In(e,X(u[(o[l>>2]|0)+4>>2]),X(0.0),X(0.0)),n[11696]|0):0)_n(e,7);return}function An(e){e=e|0;var t=0,i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;s=l+24|0;a=l+16|0;n=l+8|0;r=l;i=0;do{t=e+380+(i<<3)|0;if(!((o[e+380+(i<<3)+4>>2]|0)!=0?(u=t,c=o[u+4>>2]|0,d=n,o[d>>2]=o[u>>2],o[d+4>>2]=c,d=e+364+(i<<3)|0,c=o[d+4>>2]|0,u=r,o[u>>2]=o[d>>2],o[u+4>>2]=c,o[a>>2]=o[n>>2],o[a+4>>2]=o[n+4>>2],o[s>>2]=o[r>>2],o[s+4>>2]=o[r+4>>2],fn(a,s)|0):0))t=e+348+(i<<3)|0;o[e+992+(i<<2)>>2]=t;i=i+1|0}while((i|0)!=2);f=l;return}function Ln(e,t,i){e=e|0;t=t|0;i=X(i);var n=0;e=o[e+992+(o[976+(t<<2)>>2]<<2)>>2]|0;switch(o[e+4>>2]|0){case 0:case 3:{e=0;break}case 1:{if(X(u[e>>2])<X(0.0))e=0;else n=5;break}case 2:{if(X(u[e>>2])<X(0.0))e=0;else e=(wt(i)|0)^1;break}default:n=5}if((n|0)==5)e=1;return e|0}function On(e,t){e=e|0;t=X(t);switch(o[e+4>>2]|0){case 2:{t=X(X(X(u[e>>2])*t)/X(100.0));break}case 1:{t=X(u[e>>2]);break}default:t=X(E)}return X(t)}function Pn(e,t,i,n,r){e=e|0;t=t|0;i=X(i);n=X(n);r=X(r);var a=0,s=dt;t=o[e+944>>2]|0?t:1;a=Kn(o[e+4>>2]|0,t)|0;t=nr(a,t)|0;i=X(Ar(e,a,i));n=X(Ar(e,t,n));s=X(i+X(zn(e,a,r)));u[e+400+(o[1040+(a<<2)>>2]<<2)>>2]=s;i=X(i+X(Vn(e,a,r)));u[e+400+(o[1e3+(a<<2)>>2]<<2)>>2]=i;i=X(n+X(zn(e,t,r)));u[e+400+(o[1040+(t<<2)>>2]<<2)>>2]=i;r=X(n+X(Vn(e,t,r)));u[e+400+(o[1e3+(t<<2)>>2]<<2)>>2]=r;return}function In(e,t,i,n){e=e|0;t=X(t);i=X(i);n=X(n);var r=0,a=0,s=dt,l=dt,c=0,d=0,h=dt,p=0,f=dt,m=dt,_=dt,g=dt;if(!(t==X(0.0))){r=e+400|0;g=X(u[r>>2]);a=e+404|0;_=X(u[a>>2]);p=e+416|0;m=X(u[p>>2]);d=e+420|0;s=X(u[d>>2]);f=X(g+i);h=X(_+n);n=X(f+m);l=X(h+s);c=(o[e+988>>2]|0)==1;u[r>>2]=X(bn(g,t,0,c));u[a>>2]=X(bn(_,t,0,c));i=X(Dk(X(m*t),X(1.0)));if(mn(i,X(0.0))|0)a=0;else a=(mn(i,X(1.0))|0)^1;i=X(Dk(X(s*t),X(1.0)));if(mn(i,X(0.0))|0)r=0;else r=(mn(i,X(1.0))|0)^1;g=X(bn(n,t,c&a,c&(a^1)));u[p>>2]=X(g-X(bn(f,t,0,c)));g=X(bn(l,t,c&r,c&(r^1)));u[d>>2]=X(g-X(bn(h,t,0,c)));a=(o[e+952>>2]|0)-(o[e+948>>2]|0)>>2;if(a|0){r=0;do{In(At(e,r)|0,t,f,h);r=r+1|0}while((r|0)!=(a|0))}}return}function Bn(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;switch(i|0){case 5:case 0:{e=ok(o[489]|0,n,r)|0;break}default:e=Uk(n,r)|0}return e|0}function Dn(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;r=f;f=f+16|0;a=r;o[a>>2]=n;Nn(e,0,t,i,a);f=r;return}function Nn(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;e=e|0?e:956;xC[o[e+8>>2]&1](e,t,i,n,r)|0;if((i|0)==5)Xe();else return}function Un(e,t,i){e=e|0;t=t|0;i=i|0;n[e+t>>0]=i&1;return}function Fn(e,t){e=e|0;t=t|0;var i=0,n=0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;i=t+4|0;n=(o[i>>2]|0)-(o[t>>2]|0)>>2;if(n|0){Hn(e,n);Wn(e,o[t>>2]|0,o[i>>2]|0,n)}return}function Hn(e,t){e=e|0;t=t|0;var i=0;if((Gn(e)|0)>>>0<t>>>0)Fk(e);if(t>>>0>1073741823)Xe();else{i=qk(t<<2)|0;o[e+4>>2]=i;o[e>>2]=i;o[e+8>>2]=i+(t<<2);return}}function Wn(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;n=e+4|0;e=i-t|0;if((e|0)>0){rx(o[n>>2]|0,t|0,e|0)|0;o[n>>2]=(o[n>>2]|0)+(e>>>2<<2)}return}function Gn(e){e=e|0;return 1073741823}function zn(e,t,i){e=e|0;t=t|0;i=X(i);if(Yn(t)|0?(o[e+96>>2]|0)!=0:0)e=e+92|0;else e=Et(e+60|0,o[1040+(t<<2)>>2]|0,992)|0;return X(qn(e,i))}function Vn(e,t,i){e=e|0;t=t|0;i=X(i);if(Yn(t)|0?(o[e+104>>2]|0)!=0:0)e=e+100|0;else e=Et(e+60|0,o[1e3+(t<<2)>>2]|0,992)|0;return X(qn(e,i))}function Yn(e){e=e|0;return(e|1|0)==3|0}function qn(e,t){e=e|0;t=X(t);if((o[e+4>>2]|0)==3)t=X(0.0);else t=X(On(e,t));return X(t)}function Xn(e,t){e=e|0;t=t|0;e=o[e>>2]|0;return((e|0)==0?(t|0)>1?t:1:e)|0}function Kn(e,t){e=e|0;t=t|0;var i=0;e:do{if((t|0)==2){switch(e|0){case 2:{e=3;break e}case 3:break;default:{i=4;break e}}e=2}else i=4}while(0);return e|0}function Jn(e,t){e=e|0;t=t|0;var i=dt;if(!((Yn(t)|0?(o[e+312>>2]|0)!=0:0)?(i=X(u[e+308>>2]),i>=X(0.0)):0))i=X(Ok(X(u[(Et(e+276|0,o[1040+(t<<2)>>2]|0,992)|0)>>2]),X(0.0)));return X(i)}function Zn(e,t){e=e|0;t=t|0;var i=dt;if(!((Yn(t)|0?(o[e+320>>2]|0)!=0:0)?(i=X(u[e+316>>2]),i>=X(0.0)):0))i=X(Ok(X(u[(Et(e+276|0,o[1e3+(t<<2)>>2]|0,992)|0)>>2]),X(0.0)));return X(i)}function Qn(e,t,i){e=e|0;t=t|0;i=X(i);var n=dt;if(!((Yn(t)|0?(o[e+240>>2]|0)!=0:0)?(n=X(On(e+236|0,i)),n>=X(0.0)):0))n=X(Ok(X(On(Et(e+204|0,o[1040+(t<<2)>>2]|0,992)|0,i)),X(0.0)));return X(n)}function $n(e,t,i){e=e|0;t=t|0;i=X(i);var n=dt;if(!((Yn(t)|0?(o[e+248>>2]|0)!=0:0)?(n=X(On(e+244|0,i)),n>=X(0.0)):0))n=X(Ok(X(On(Et(e+204|0,o[1e3+(t<<2)>>2]|0,992)|0,i)),X(0.0)));return X(n)}function er(e,t,i,n,r,a,s){e=e|0;t=X(t);i=X(i);n=n|0;r=r|0;a=X(a);s=X(s);var l=dt,c=dt,d=dt,h=dt,p=dt,m=dt,_=0,g=0,b=0;b=f;f=f+16|0;_=b;g=e+964|0;It(e,(o[g>>2]|0)!=0,3519);l=X(ar(e,2,t));c=X(ar(e,0,t));d=X(jn(e,2,t));h=X(jn(e,0,t));if(wt(t)|0)p=t;else p=X(Ok(X(0.0),X(X(t-d)-l)));if(wt(i)|0)m=i;else m=X(Ok(X(0.0),X(X(i-h)-c)));if((n|0)==1&(r|0)==1){u[e+908>>2]=X(hr(e,2,X(t-d),a,a));t=X(hr(e,0,X(i-h),s,a))}else{RC[o[g>>2]&1](_,e,p,n,m,r);p=X(l+X(u[_>>2]));m=X(t-d);u[e+908>>2]=X(hr(e,2,(n|2|0)==2?p:m,a,a));m=X(c+X(u[_+4>>2]));t=X(i-h);t=X(hr(e,0,(r|2|0)==2?m:t,s,a))}u[e+912>>2]=t;f=b;return}function tr(e,t,i,n,r,o,a){e=e|0;t=X(t);i=X(i);n=n|0;r=r|0;o=X(o);a=X(a);var s=dt,l=dt,c=dt,d=dt;c=X(ar(e,2,o));s=X(ar(e,0,o));d=X(jn(e,2,o));l=X(jn(e,0,o));t=X(t-d);u[e+908>>2]=X(hr(e,2,(n|2|0)==2?c:t,o,o));i=X(i-l);u[e+912>>2]=X(hr(e,0,(r|2|0)==2?s:i,a,o));return}function ir(e,t,i,n,r,o,a){e=e|0;t=X(t);i=X(i);n=n|0;r=r|0;o=X(o);a=X(a);var s=0,l=dt,c=dt;s=(n|0)==2;if((!(t<=X(0.0)&s)?!(i<=X(0.0)&(r|0)==2):0)?!((n|0)==1&(r|0)==1):0)e=0;else{l=X(jn(e,0,o));c=X(jn(e,2,o));s=t<X(0.0)&s|(wt(t)|0);t=X(t-c);u[e+908>>2]=X(hr(e,2,s?X(0.0):t,o,o));t=X(i-l);s=i<X(0.0)&(r|0)==2|(wt(i)|0);u[e+912>>2]=X(hr(e,0,s?X(0.0):t,a,o));e=1}return e|0}function nr(e,t){e=e|0;t=t|0;if(Sr(e)|0)e=Kn(2,t)|0;else e=0;return e|0}function rr(e,t,i){e=e|0;t=t|0;i=X(i);i=X(Qn(e,t,i));return X(i+X(Jn(e,t)))}function or(e,t,i){e=e|0;t=t|0;i=X(i);i=X($n(e,t,i));return X(i+X(Zn(e,t)))}function ar(e,t,i){e=e|0;t=t|0;i=X(i);var n=dt;n=X(rr(e,t,i));return X(n+X(or(e,t,i)))}function sr(e){e=e|0;if(!(o[e+24>>2]|0)){if(X(lr(e))!=X(0.0))e=1;else e=X(ur(e))!=X(0.0)}else e=0;return e|0}function lr(e){e=e|0;var t=dt;if(o[e+944>>2]|0){t=X(u[e+44>>2]);if(wt(t)|0){t=X(u[e+40>>2]);e=t>X(0.0)&((wt(t)|0)^1);return X(e?t:X(0.0))}}else t=X(0.0);return X(t)}function ur(e){e=e|0;var t=dt,i=0,r=dt;do{if(o[e+944>>2]|0){t=X(u[e+48>>2]);if(wt(t)|0){i=n[(o[e+976>>2]|0)+2>>0]|0;if(i<<24>>24==0?(r=X(u[e+40>>2]),r<X(0.0)&((wt(r)|0)^1)):0){t=X(-r);break}t=i<<24>>24?X(1.0):X(0.0)}}else t=X(0.0)}while(0);return X(t)}function cr(e){e=e|0;var t=0,i=0;tx(e+400|0,0,540)|0;n[e+985>>0]=1;Wt(e);i=Rt(e)|0;if(i|0){t=e+948|0;e=0;do{cr(o[(o[t>>2]|0)+(e<<2)>>2]|0);e=e+1|0}while((e|0)!=(i|0))}return}function dr(e,t,i,n,r,a,s,l,c,d){e=e|0;t=t|0;i=X(i);n=n|0;r=X(r);a=X(a);s=X(s);l=l|0;c=c|0;d=d|0;var h=0,p=dt,m=0,_=0,g=dt,b=dt,v=0,y=dt,w=0,T=dt,j=0,M=0,S=0,k=0,x=0,C=0,R=0,A=0,L=0,O=0;L=f;f=f+16|0;S=L+12|0;k=L+8|0;x=L+4|0;C=L;A=Kn(o[e+4>>2]|0,c)|0;j=Yn(A)|0;p=X(On(kr(t)|0,j?a:s));M=Ln(t,2,a)|0;R=Ln(t,0,s)|0;do{if(!(wt(p)|0)?!(wt(j?i:r)|0):0){h=t+504|0;if(!(wt(X(u[h>>2]))|0)){if(!(xr(o[t+976>>2]|0,0)|0))break;if((o[t+500>>2]|0)==(o[2278]|0))break}u[h>>2]=X(Ok(p,X(ar(t,A,a))))}else m=7}while(0);do{if((m|0)==7){w=j^1;if(!(w|M^1)){s=X(On(o[t+992>>2]|0,a));u[t+504>>2]=X(Ok(s,X(ar(t,2,a))));break}if(!(j|R^1)){s=X(On(o[t+996>>2]|0,s));u[t+504>>2]=X(Ok(s,X(ar(t,0,a))));break}u[S>>2]=X(E);u[k>>2]=X(E);o[x>>2]=0;o[C>>2]=0;y=X(jn(t,2,a));T=X(jn(t,0,a));if(M){g=X(y+X(On(o[t+992>>2]|0,a)));u[S>>2]=g;o[x>>2]=1;_=1}else{_=0;g=X(E)}if(R){p=X(T+X(On(o[t+996>>2]|0,s)));u[k>>2]=p;o[C>>2]=1;h=1}else{h=0;p=X(E)}m=o[e+32>>2]|0;if(!(j&(m|0)==2)){if(wt(g)|0?!(wt(i)|0):0){u[S>>2]=i;o[x>>2]=2;_=2;g=i}}else m=2;if((!((m|0)==2&w)?wt(p)|0:0)?!(wt(r)|0):0){u[k>>2]=r;o[C>>2]=2;h=2;p=r}b=X(u[t+396>>2]);v=wt(b)|0;do{if(!v){if((_|0)==1&w){u[k>>2]=X(X(g-y)/b);o[C>>2]=1;h=1;m=1;break}if(j&(h|0)==1){u[S>>2]=X(b*X(p-T));o[x>>2]=1;h=1;m=1}else m=_}else m=_}while(0);O=wt(i)|0;_=(pr(e,t)|0)!=4;if(!(j|M|((n|0)!=1|O)|(_|(m|0)==1))?(u[S>>2]=i,o[x>>2]=1,!v):0){u[k>>2]=X(X(i-y)/b);o[C>>2]=1;h=1}if(!(R|w|((l|0)!=1|(wt(r)|0))|(_|(h|0)==1))?(u[k>>2]=r,o[C>>2]=1,!v):0){u[S>>2]=X(b*X(r-T));o[x>>2]=1}_r(t,2,a,a,x,S);_r(t,0,s,a,C,k);i=X(u[S>>2]);r=X(u[k>>2]);Tn(t,i,r,c,o[x>>2]|0,o[C>>2]|0,a,s,0,3565,d)|0;s=X(u[t+908+(o[976+(A<<2)>>2]<<2)>>2]);u[t+504>>2]=X(Ok(s,X(ar(t,A,a))))}}while(0);o[t+500>>2]=o[2278];f=L;return}function hr(e,t,i,n,r){e=e|0;t=t|0;i=X(i);n=X(n);r=X(r);n=X(Tr(e,t,i,n));return X(Ok(n,X(ar(e,t,r))))}function pr(e,t){e=e|0;t=t|0;t=t+20|0;t=o[((o[t>>2]|0)==0?e+16|0:t)>>2]|0;if((t|0)==5?Sr(o[e+4>>2]|0)|0:0)t=1;return t|0}function fr(e,t){e=e|0;t=t|0;if(Yn(t)|0?(o[e+96>>2]|0)!=0:0)t=4;else t=o[1040+(t<<2)>>2]|0;return e+60+(t<<3)|0}function mr(e,t){e=e|0;t=t|0;if(Yn(t)|0?(o[e+104>>2]|0)!=0:0)t=5;else t=o[1e3+(t<<2)>>2]|0;return e+60+(t<<3)|0}function _r(e,t,i,n,r,a){e=e|0;t=t|0;i=X(i);n=X(n);r=r|0;a=a|0;i=X(On(e+380+(o[976+(t<<2)>>2]<<3)|0,i));i=X(i+X(jn(e,t,n)));switch(o[r>>2]|0){case 2:case 1:{r=wt(i)|0;n=X(u[a>>2]);u[a>>2]=r|n<i?n:i;break}case 0:{if(!(wt(i)|0)){o[r>>2]=2;u[a>>2]=i}break}default:{}}return}function gr(e,t){e=e|0;t=t|0;e=e+132|0;if(Yn(t)|0?(o[(Et(e,4,948)|0)+4>>2]|0)!=0:0)e=1;else e=(o[(Et(e,o[1040+(t<<2)>>2]|0,948)|0)+4>>2]|0)!=0;return e|0}function br(e,t,i){e=e|0;t=t|0;i=X(i);var n=0,r=0;e=e+132|0;if(Yn(t)|0?(n=Et(e,4,948)|0,(o[n+4>>2]|0)!=0):0)r=4;else{n=Et(e,o[1040+(t<<2)>>2]|0,948)|0;if(!(o[n+4>>2]|0))i=X(0.0);else r=4}if((r|0)==4)i=X(On(n,i));return X(i)}function vr(e,t,i){e=e|0;t=t|0;i=X(i);var n=dt;n=X(u[e+908+(o[976+(t<<2)>>2]<<2)>>2]);n=X(n+X(zn(e,t,i)));return X(n+X(Vn(e,t,i)))}function yr(e){e=e|0;var t=0,i=0,n=0;e:do{if(!(Sr(o[e+4>>2]|0)|0)){if((o[e+16>>2]|0)!=5){i=Rt(e)|0;if(!i)t=0;else{t=0;while(1){n=At(e,t)|0;if((o[n+24>>2]|0)==0?(o[n+20>>2]|0)==5:0){t=1;break e}t=t+1|0;if(t>>>0>=i>>>0){t=0;break}}}}else t=1}else t=0}while(0);return t|0}function wr(e,t){e=e|0;t=t|0;var i=dt;i=X(u[e+908+(o[976+(t<<2)>>2]<<2)>>2]);return i>=X(0.0)&((wt(i)|0)^1)|0}function Er(e){e=e|0;var t=dt,i=0,n=0,r=0,a=0,s=0,l=0,c=dt;i=o[e+968>>2]|0;if(!i){a=Rt(e)|0;do{if(a|0){i=0;r=0;while(1){n=At(e,r)|0;if(o[n+940>>2]|0){s=8;break}if((o[n+24>>2]|0)!=1){l=(pr(e,n)|0)==5;if(l){i=n;break}else i=(i|0)==0?n:i}r=r+1|0;if(r>>>0>=a>>>0){s=8;break}}if((s|0)==8)if(!i)break;t=X(Er(i));return X(t+X(u[i+404>>2]))}}while(0);t=X(u[e+912>>2])}else{c=X(u[e+908>>2]);t=X(u[e+912>>2]);t=X(pC[i&0](e,c,t));It(e,(wt(t)|0)^1,3573)}return X(t)}function Tr(e,t,i,n){e=e|0;t=t|0;i=X(i);n=X(n);var r=dt,o=0;if(!(Sr(t)|0)){if(Yn(t)|0){t=0;o=3}else{n=X(E);r=X(E)}}else{t=1;o=3}if((o|0)==3){r=X(On(e+364+(t<<3)|0,n));n=X(On(e+380+(t<<3)|0,n))}o=n<i&(n>=X(0.0)&((wt(n)|0)^1));i=o?n:i;o=r>=X(0.0)&((wt(r)|0)^1)&i<r;return X(o?r:i)}function jr(e,t,i,n,r,a,s){e=e|0;t=t|0;i=X(i);n=n|0;r=X(r);a=a|0;s=s|0;var l=dt,c=dt,d=0,h=0,p=dt,f=dt,m=dt,_=0,g=0,b=0,v=0,y=dt,w=0;b=Kn(o[e+4>>2]|0,a)|0;_=nr(b,a)|0;g=Yn(b)|0;p=X(jn(t,2,i));f=X(jn(t,0,i));if(!(Ln(t,2,i)|0)){if(gr(t,2)|0?Cr(t,2)|0:0){l=X(u[e+908>>2]);c=X(Jn(e,2));c=X(l-X(c+X(Zn(e,2))));l=X(br(t,2,i));l=X(hr(t,2,X(c-X(l+X(Rr(t,2,i)))),i,i))}else l=X(E)}else l=X(p+X(On(o[t+992>>2]|0,i)));if(!(Ln(t,0,r)|0)){if(gr(t,0)|0?Cr(t,0)|0:0){c=X(u[e+912>>2]);y=X(Jn(e,0));y=X(c-X(y+X(Zn(e,0))));c=X(br(t,0,r));c=X(hr(t,0,X(y-X(c+X(Rr(t,0,r)))),r,i))}else c=X(E)}else c=X(f+X(On(o[t+996>>2]|0,r)));d=wt(l)|0;h=wt(c)|0;do{if(d^h?(m=X(u[t+396>>2]),!(wt(m)|0)):0)if(d){l=X(p+X(X(c-f)*m));break}else{y=X(f+X(X(l-p)/m));c=h?y:c;break}}while(0);h=wt(l)|0;d=wt(c)|0;if(h|d){w=(h^1)&1;n=i>X(0.0)&((n|0)!=0&h);l=g?l:n?i:l;Tn(t,l,c,a,g?w:n?2:w,h&(d^1)&1,l,c,0,3623,s)|0;l=X(u[t+908>>2]);l=X(l+X(jn(t,2,i)));c=X(u[t+912>>2]);c=X(c+X(jn(t,0,i)))}Tn(t,l,c,a,1,1,l,c,1,3635,s)|0;if(Cr(t,b)|0?!(gr(t,b)|0):0){w=o[976+(b<<2)>>2]|0;y=X(u[e+908+(w<<2)>>2]);y=X(y-X(u[t+908+(w<<2)>>2]));y=X(y-X(Zn(e,b)));y=X(y-X(Vn(t,b,i)));y=X(y-X(Rr(t,b,g?i:r)));u[t+400+(o[1040+(b<<2)>>2]<<2)>>2]=y}else v=21;do{if((v|0)==21){if(!(gr(t,b)|0)?(o[e+8>>2]|0)==1:0){w=o[976+(b<<2)>>2]|0;y=X(u[e+908+(w<<2)>>2]);y=X(X(y-X(u[t+908+(w<<2)>>2]))*X(.5));u[t+400+(o[1040+(b<<2)>>2]<<2)>>2]=y;break}if(!(gr(t,b)|0)?(o[e+8>>2]|0)==2:0){w=o[976+(b<<2)>>2]|0;y=X(u[e+908+(w<<2)>>2]);y=X(y-X(u[t+908+(w<<2)>>2]));u[t+400+(o[1040+(b<<2)>>2]<<2)>>2]=y}}}while(0);if(Cr(t,_)|0?!(gr(t,_)|0):0){w=o[976+(_<<2)>>2]|0;y=X(u[e+908+(w<<2)>>2]);y=X(y-X(u[t+908+(w<<2)>>2]));y=X(y-X(Zn(e,_)));y=X(y-X(Vn(t,_,i)));y=X(y-X(Rr(t,_,g?r:i)));u[t+400+(o[1040+(_<<2)>>2]<<2)>>2]=y}else v=30;do{if((v|0)==30?!(gr(t,_)|0):0){if((pr(e,t)|0)==2){w=o[976+(_<<2)>>2]|0;y=X(u[e+908+(w<<2)>>2]);y=X(X(y-X(u[t+908+(w<<2)>>2]))*X(.5));u[t+400+(o[1040+(_<<2)>>2]<<2)>>2]=y;break}w=(pr(e,t)|0)==3;if(w^(o[e+28>>2]|0)==2){w=o[976+(_<<2)>>2]|0;y=X(u[e+908+(w<<2)>>2]);y=X(y-X(u[t+908+(w<<2)>>2]));u[t+400+(o[1040+(_<<2)>>2]<<2)>>2]=y}}}while(0);return}function Mr(e,t,i){e=e|0;t=t|0;i=i|0;var n=dt,r=0;r=o[976+(i<<2)>>2]|0;n=X(u[t+908+(r<<2)>>2]);n=X(X(u[e+908+(r<<2)>>2])-n);n=X(n-X(u[t+400+(o[1040+(i<<2)>>2]<<2)>>2]));u[t+400+(o[1e3+(i<<2)>>2]<<2)>>2]=n;return}function Sr(e){e=e|0;return(e|1|0)==1|0}function kr(e){e=e|0;var t=dt;switch(o[e+56>>2]|0){case 0:case 3:{t=X(u[e+40>>2]);if(t>X(0.0)&((wt(t)|0)^1))e=n[(o[e+976>>2]|0)+2>>0]|0?1056:992;else e=1056;break}default:e=e+52|0}return e|0}function xr(e,t){e=e|0;t=t|0;return(n[e+t>>0]|0)!=0|0}function Cr(e,t){e=e|0;t=t|0;e=e+132|0;if(Yn(t)|0?(o[(Et(e,5,948)|0)+4>>2]|0)!=0:0)e=1;else e=(o[(Et(e,o[1e3+(t<<2)>>2]|0,948)|0)+4>>2]|0)!=0;return e|0}function Rr(e,t,i){e=e|0;t=t|0;i=X(i);var n=0,r=0;e=e+132|0;if(Yn(t)|0?(n=Et(e,5,948)|0,(o[n+4>>2]|0)!=0):0)r=4;else{n=Et(e,o[1e3+(t<<2)>>2]|0,948)|0;if(!(o[n+4>>2]|0))i=X(0.0);else r=4}if((r|0)==4)i=X(On(n,i));return X(i)}function Ar(e,t,i){e=e|0;t=t|0;i=X(i);if(gr(e,t)|0)i=X(br(e,t,i));else i=X(-X(Rr(e,t,i)));return X(i)}function Lr(e){e=X(e);return(u[h>>2]=e,o[h>>2]|0)|0}function Or(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>1073741823)Xe();else{r=qk(t<<2)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<2)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<2);return}function Pr(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>2)<<2)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Ir(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-4-t|0)>>>2)<<2);e=o[e>>2]|0;if(e|0)Kk(e);return}function Br(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0;s=e+4|0;l=o[s>>2]|0;r=l-n|0;a=r>>2;e=t+(a<<2)|0;if(e>>>0<i>>>0){n=l;do{o[n>>2]=o[e>>2];e=e+4|0;n=(o[s>>2]|0)+4|0;o[s>>2]=n}while(e>>>0<i>>>0)}if(a|0)ux(l+(0-a<<2)|0,t|0,r|0)|0;return}function Dr(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0;l=t+4|0;u=o[l>>2]|0;r=o[e>>2]|0;s=i;a=s-r|0;n=u+(0-(a>>2)<<2)|0;o[l>>2]=n;if((a|0)>0)rx(n|0,r|0,a|0)|0;r=e+4|0;a=t+8|0;n=(o[r>>2]|0)-s|0;if((n|0)>0){rx(o[a>>2]|0,i|0,n|0)|0;o[a>>2]=(o[a>>2]|0)+(n>>>2<<2)}s=o[e>>2]|0;o[e>>2]=o[l>>2];o[l>>2]=s;s=o[r>>2]|0;o[r>>2]=o[a>>2];o[a>>2]=s;s=e+8|0;i=t+12|0;e=o[s>>2]|0;o[s>>2]=o[i>>2];o[i>>2]=e;o[t>>2]=o[l>>2];return u|0}function Nr(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;s=o[t>>2]|0;a=o[i>>2]|0;if((s|0)!=(a|0)){r=e+8|0;i=((a+-4-s|0)>>>2)+1|0;e=s;n=o[r>>2]|0;do{o[n>>2]=o[e>>2];n=(o[r>>2]|0)+4|0;o[r>>2]=n;e=e+4|0}while((e|0)!=(a|0));o[t>>2]=s+(i<<2)}return}function Ur(){vt();return}function Fr(){var e=0;e=qk(4)|0;Hr(e);return e|0}function Hr(e){e=e|0;o[e>>2]=Dt()|0;return}function Wr(e){e=e|0;if(e|0){Gr(e);Kk(e)}return}function Gr(e){e=e|0;Ut(o[e>>2]|0);return}function zr(e,t,i){e=e|0;t=t|0;i=i|0;Un(o[e>>2]|0,t,i);return}function Vr(e,t){e=e|0;t=X(t);Cn(o[e>>2]|0,t);return}function Yr(e,t){e=e|0;t=t|0;return xr(o[e>>2]|0,t)|0}function qr(){var e=0;e=qk(8)|0;Xr(e,0);return e|0}function Xr(e,t){e=e|0;t=t|0;if(!t)t=Mt()|0;else t=Tt(o[t>>2]|0)|0;o[e>>2]=t;o[e+4>>2]=0;Qt(t,e);return}function Kr(e){e=e|0;var t=0;t=qk(8)|0;Xr(t,e);return t|0}function Jr(e){e=e|0;if(e|0){Zr(e);Kk(e)}return}function Zr(e){e=e|0;var t=0;xt(o[e>>2]|0);t=e+4|0;e=o[t>>2]|0;o[t>>2]=0;if(e|0){Qr(e);Kk(e)}return}function Qr(e){e=e|0;$r(e);return}function $r(e){e=e|0;e=o[e>>2]|0;if(e|0)nt(e|0);return}function eo(e){e=e|0;return $t(e)|0}function to(e){e=e|0;var t=0,i=0;i=e+4|0;t=o[i>>2]|0;o[i>>2]=0;if(t|0){Qr(t);Kk(t)}Pt(o[e>>2]|0);return}function io(e,t){e=e|0;t=t|0;Kt(o[e>>2]|0,o[t>>2]|0);return}function no(e,t){e=e|0;t=t|0;ci(o[e>>2]|0,t);return}function ro(e,t,i){e=e|0;t=t|0;i=+i;ji(o[e>>2]|0,t,X(i));return}function oo(e,t,i){e=e|0;t=t|0;i=+i;Mi(o[e>>2]|0,t,X(i));return}function ao(e,t){e=e|0;t=t|0;ri(o[e>>2]|0,t);return}function so(e,t){e=e|0;t=t|0;ai(o[e>>2]|0,t);return}function lo(e,t){e=e|0;t=t|0;li(o[e>>2]|0,t);return}function uo(e,t){e=e|0;t=t|0;ei(o[e>>2]|0,t);return}function co(e,t){e=e|0;t=t|0;hi(o[e>>2]|0,t);return}function ho(e,t){e=e|0;t=t|0;ii(o[e>>2]|0,t);return}function po(e,t,i){e=e|0;t=t|0;i=+i;ki(o[e>>2]|0,t,X(i));return}function fo(e,t,i){e=e|0;t=t|0;i=+i;xi(o[e>>2]|0,t,X(i));return}function mo(e,t){e=e|0;t=t|0;Ri(o[e>>2]|0,t);return}function _o(e,t){e=e|0;t=t|0;fi(o[e>>2]|0,t);return}function go(e,t){e=e|0;t=t|0;_i(o[e>>2]|0,t);return}function bo(e,t){e=e|0;t=+t;bi(o[e>>2]|0,X(t));return}function vo(e,t){e=e|0;t=+t;wi(o[e>>2]|0,X(t));return}function yo(e,t){e=e|0;t=+t;Ei(o[e>>2]|0,X(t));return}function wo(e,t){e=e|0;t=+t;vi(o[e>>2]|0,X(t));return}function Eo(e,t){e=e|0;t=+t;yi(o[e>>2]|0,X(t));return}function To(e,t){e=e|0;t=+t;Bi(o[e>>2]|0,X(t));return}function jo(e,t){e=e|0;t=+t;Di(o[e>>2]|0,X(t));return}function Mo(e){e=e|0;Ni(o[e>>2]|0);return}function So(e,t){e=e|0;t=+t;Fi(o[e>>2]|0,X(t));return}function ko(e,t){e=e|0;t=+t;Hi(o[e>>2]|0,X(t));return}function xo(e){e=e|0;Wi(o[e>>2]|0);return}function Co(e,t){e=e|0;t=+t;zi(o[e>>2]|0,X(t));return}function Ro(e,t){e=e|0;t=+t;Vi(o[e>>2]|0,X(t));return}function Ao(e,t){e=e|0;t=+t;qi(o[e>>2]|0,X(t));return}function Lo(e,t){e=e|0;t=+t;Xi(o[e>>2]|0,X(t));return}function Oo(e,t){e=e|0;t=+t;Ji(o[e>>2]|0,X(t));return}function Po(e,t){e=e|0;t=+t;Zi(o[e>>2]|0,X(t));return}function Io(e,t){e=e|0;t=+t;$i(o[e>>2]|0,X(t));return}function Bo(e,t){e=e|0;t=+t;en(o[e>>2]|0,X(t));return}function Do(e,t){e=e|0;t=+t;nn(o[e>>2]|0,X(t));return}function No(e,t,i){e=e|0;t=t|0;i=+i;Pi(o[e>>2]|0,t,X(i));return}function Uo(e,t,i){e=e|0;t=t|0;i=+i;Ai(o[e>>2]|0,t,X(i));return}function Fo(e,t,i){e=e|0;t=t|0;i=+i;Li(o[e>>2]|0,t,X(i));return}function Ho(e){e=e|0;return di(o[e>>2]|0)|0}function Wo(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=f;f=f+16|0;r=n;Si(r,o[t>>2]|0,i);Go(e,r);f=n;return}function Go(e,t){e=e|0;t=t|0;zo(e,o[t+4>>2]|0,+X(u[t>>2]));return}function zo(e,t,i){e=e|0;t=t|0;i=+i;o[e>>2]=t;c[e+8>>3]=i;return}function Vo(e){e=e|0;return oi(o[e>>2]|0)|0}function Yo(e){e=e|0;return si(o[e>>2]|0)|0}function qo(e){e=e|0;return ui(o[e>>2]|0)|0}function Xo(e){e=e|0;return ti(o[e>>2]|0)|0}function Ko(e){e=e|0;return pi(o[e>>2]|0)|0}function Jo(e){e=e|0;return ni(o[e>>2]|0)|0}function Zo(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=f;f=f+16|0;r=n;Ci(r,o[t>>2]|0,i);Go(e,r);f=n;return}function Qo(e){e=e|0;return mi(o[e>>2]|0)|0}function $o(e){e=e|0;return gi(o[e>>2]|0)|0}function ea(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;Ti(n,o[t>>2]|0);Go(e,n);f=i;return}function ta(e){e=e|0;return+ +X(Jt(o[e>>2]|0))}function ia(e){e=e|0;return+ +X(Zt(o[e>>2]|0))}function na(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;Ui(n,o[t>>2]|0);Go(e,n);f=i;return}function ra(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;Gi(n,o[t>>2]|0);Go(e,n);f=i;return}function oa(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;Yi(n,o[t>>2]|0);Go(e,n);f=i;return}function aa(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;Ki(n,o[t>>2]|0);Go(e,n);f=i;return}function sa(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;Qi(n,o[t>>2]|0);Go(e,n);f=i;return}function la(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;tn(n,o[t>>2]|0);Go(e,n);f=i;return}function ua(e){e=e|0;return+ +X(rn(o[e>>2]|0))}function ca(e,t){e=e|0;t=t|0;return+ +X(Ii(o[e>>2]|0,t))}function da(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=f;f=f+16|0;r=n;Oi(r,o[t>>2]|0,i);Go(e,r);f=n;return}function ha(e,t,i){e=e|0;t=t|0;i=i|0;Ht(o[e>>2]|0,o[t>>2]|0,i);return}function pa(e,t){e=e|0;t=t|0;Ot(o[e>>2]|0,o[t>>2]|0);return}function fa(e){e=e|0;return Rt(o[e>>2]|0)|0}function ma(e){e=e|0;e=Yt(o[e>>2]|0)|0;if(!e)e=0;else e=eo(e)|0;return e|0}function _a(e,t){e=e|0;t=t|0;e=At(o[e>>2]|0,t)|0;if(!e)e=0;else e=eo(e)|0;return e|0}function ga(e,t){e=e|0;t=t|0;var i=0,n=0;n=qk(4)|0;ba(n,t);i=e+4|0;t=o[i>>2]|0;o[i>>2]=n;if(t|0){Qr(t);Kk(t)}Ft(o[e>>2]|0,1);return}function ba(e,t){e=e|0;t=t|0;Na(e,t);return}function va(e,t,i,n,r,o){e=e|0;t=t|0;i=X(i);n=n|0;r=X(r);o=o|0;var a=0,s=0;a=f;f=f+16|0;s=a;ya(s,$t(t)|0,+i,n,+r,o);u[e>>2]=X(+c[s>>3]);u[e+4>>2]=X(+c[s+8>>3]);f=a;return}function ya(e,t,i,n,r,a){e=e|0;t=t|0;i=+i;n=n|0;r=+r;a=a|0;var s=0,l=0,u=0,d=0,h=0;s=f;f=f+32|0;h=s+8|0;d=s+20|0;u=s;l=s+16|0;c[h>>3]=i;o[d>>2]=n;c[u>>3]=r;o[l>>2]=a;wa(e,o[t+4>>2]|0,h,d,u,l);f=s;return}function wa(e,t,i,n,r,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;a=a|0;var s=0,l=0;s=f;f=f+16|0;l=s;TS(l);t=Ea(t)|0;Ta(e,t,+c[i>>3],o[n>>2]|0,+c[r>>3],o[a>>2]|0);MS(l);f=s;return}function Ea(e){e=e|0;return o[e>>2]|0}function Ta(e,t,i,n,r,o){e=e|0;t=t|0;i=+i;n=n|0;r=+r;o=o|0;var a=0;a=Ma(ja()|0)|0;i=+Sa(i);n=ka(n)|0;r=+Sa(r);xa(e,ot(0,a|0,t|0,+i,n|0,+r,ka(o)|0)|0);return}function ja(){var e=0;if(!(n[7608]|0)){Ia(9120);e=7608;o[e>>2]=1;o[e+4>>2]=0}return 9120}function Ma(e){e=e|0;return o[e+8>>2]|0}function Sa(e){e=+e;return+ +Pa(e)}function ka(e){e=e|0;return Oa(e)|0}function xa(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;r=f;f=f+32|0;i=r;n=t;if(!(n&1)){o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2]}else{Ca(i,0);Ne(n|0,i|0)|0;Ra(e,i);Aa(i)}f=r;return}function Ca(e,t){e=e|0;t=t|0;La(e,t);o[e+8>>2]=0;n[e+24>>0]=0;return}function Ra(e,t){e=e|0;t=t|0;t=t+8|0;o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];return}function Aa(e){e=e|0;n[e+24>>0]=0;return}function La(e,t){e=e|0;t=t|0;o[e>>2]=t;return}function Oa(e){e=e|0;return e|0}function Pa(e){e=+e;return+e}function Ia(e){e=e|0;Da(e,Ba()|0,4);return}function Ba(){return 1064}function Da(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;o[e+8>>2]=tt(t|0,i+1|0)|0;return}function Na(e,t){e=e|0;t=t|0;t=o[t>>2]|0;o[e>>2]=t;Ce(t|0);return}function Ua(e){e=e|0;var t=0,i=0;i=e+4|0;t=o[i>>2]|0;o[i>>2]=0;if(t|0){Qr(t);Kk(t)}Ft(o[e>>2]|0,0);return}function Fa(e){e=e|0;qt(o[e>>2]|0);return}function Ha(e){e=e|0;return Xt(o[e>>2]|0)|0}function Wa(e,t,i,n){e=e|0;t=+t;i=+i;n=n|0;Rn(o[e>>2]|0,X(t),X(i),n);return}function Ga(e){e=e|0;return+ +X(on(o[e>>2]|0))}function za(e){e=e|0;return+ +X(sn(o[e>>2]|0))}function Va(e){e=e|0;return+ +X(an(o[e>>2]|0))}function Ya(e){e=e|0;return+ +X(ln(o[e>>2]|0))}function qa(e){e=e|0;return+ +X(un(o[e>>2]|0))}function Xa(e){e=e|0;return+ +X(cn(o[e>>2]|0))}function Ka(e,t){e=e|0;t=t|0;c[e>>3]=+X(on(o[t>>2]|0));c[e+8>>3]=+X(sn(o[t>>2]|0));c[e+16>>3]=+X(an(o[t>>2]|0));c[e+24>>3]=+X(ln(o[t>>2]|0));c[e+32>>3]=+X(un(o[t>>2]|0));c[e+40>>3]=+X(cn(o[t>>2]|0));return}function Ja(e,t){e=e|0;t=t|0;return+ +X(dn(o[e>>2]|0,t))}function Za(e,t){e=e|0;t=t|0;return+ +X(hn(o[e>>2]|0,t))}function Qa(e,t){e=e|0;t=t|0;return+ +X(pn(o[e>>2]|0,t))}function $a(){return Bt()|0}function es(){ts();is();ns();rs();os();as();return}function ts(){Hy(11713,4938,1);return}function is(){ty(10448);return}function ns(){Iv(10408);return}function rs(){Qb(10324);return}function os(){V_(10096);return}function as(){ss(9132);return}function ss(e){e=e|0;var t=0,i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0,m=0,_=0,g=0,b=0,v=0,y=0,w=0,E=0,T=0,j=0,M=0,S=0,k=0,x=0,C=0,R=0,A=0,L=0,O=0,P=0,I=0,B=0,D=0,N=0,U=0,F=0,H=0,W=0,G=0,z=0,V=0,Y=0,q=0,X=0,K=0,J=0,Z=0,Q=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,ae=0,se=0,le=0,ue=0,ce=0,de=0,he=0,pe=0,fe=0,me=0,_e=0,ge=0,be=0,ve=0,ye=0,we=0,Ee=0,Te=0,je=0,Me=0,Se=0,ke=0,xe=0,Ce=0,Re=0,Ae=0,Le=0;t=f;f=f+672|0;i=t+656|0;Le=t+648|0;Ae=t+640|0;Re=t+632|0;Ce=t+624|0;xe=t+616|0;ke=t+608|0;Se=t+600|0;Me=t+592|0;je=t+584|0;Te=t+576|0;Ee=t+568|0;we=t+560|0;ye=t+552|0;ve=t+544|0;be=t+536|0;ge=t+528|0;_e=t+520|0;me=t+512|0;fe=t+504|0;pe=t+496|0;he=t+488|0;de=t+480|0;ce=t+472|0;ue=t+464|0;le=t+456|0;se=t+448|0;ae=t+440|0;oe=t+432|0;re=t+424|0;ne=t+416|0;ie=t+408|0;te=t+400|0;ee=t+392|0;$=t+384|0;Q=t+376|0;Z=t+368|0;J=t+360|0;K=t+352|0;X=t+344|0;q=t+336|0;Y=t+328|0;V=t+320|0;z=t+312|0;G=t+304|0;W=t+296|0;H=t+288|0;F=t+280|0;U=t+272|0;N=t+264|0;D=t+256|0;B=t+248|0;I=t+240|0;P=t+232|0;O=t+224|0;L=t+216|0;A=t+208|0;R=t+200|0;C=t+192|0;x=t+184|0;k=t+176|0;S=t+168|0;M=t+160|0;j=t+152|0;T=t+144|0;E=t+136|0;w=t+128|0;y=t+120|0;v=t+112|0;b=t+104|0;g=t+96|0;_=t+88|0;m=t+80|0;p=t+72|0;h=t+64|0;d=t+56|0;c=t+48|0;u=t+40|0;l=t+32|0;s=t+24|0;a=t+16|0;r=t+8|0;n=t;ls(e,3646);us(e,3651,2)|0;cs(e,3665,2)|0;ds(e,3682,18)|0;o[Le>>2]=19;o[Le+4>>2]=0;o[i>>2]=o[Le>>2];o[i+4>>2]=o[Le+4>>2];hs(e,3690,i)|0;o[Ae>>2]=1;o[Ae+4>>2]=0;o[i>>2]=o[Ae>>2];o[i+4>>2]=o[Ae+4>>2];ps(e,3696,i)|0;o[Re>>2]=2;o[Re+4>>2]=0;o[i>>2]=o[Re>>2];o[i+4>>2]=o[Re+4>>2];fs(e,3706,i)|0;o[Ce>>2]=1;o[Ce+4>>2]=0;o[i>>2]=o[Ce>>2];o[i+4>>2]=o[Ce+4>>2];ms(e,3722,i)|0;o[xe>>2]=2;o[xe+4>>2]=0;o[i>>2]=o[xe>>2];o[i+4>>2]=o[xe+4>>2];ms(e,3734,i)|0;o[ke>>2]=3;o[ke+4>>2]=0;o[i>>2]=o[ke>>2];o[i+4>>2]=o[ke+4>>2];fs(e,3753,i)|0;o[Se>>2]=4;o[Se+4>>2]=0;o[i>>2]=o[Se>>2];o[i+4>>2]=o[Se+4>>2];fs(e,3769,i)|0;o[Me>>2]=5;o[Me+4>>2]=0;o[i>>2]=o[Me>>2];o[i+4>>2]=o[Me+4>>2];fs(e,3783,i)|0;o[je>>2]=6;o[je+4>>2]=0;o[i>>2]=o[je>>2];o[i+4>>2]=o[je+4>>2];fs(e,3796,i)|0;o[Te>>2]=7;o[Te+4>>2]=0;o[i>>2]=o[Te>>2];o[i+4>>2]=o[Te+4>>2];fs(e,3813,i)|0;o[Ee>>2]=8;o[Ee+4>>2]=0;o[i>>2]=o[Ee>>2];o[i+4>>2]=o[Ee+4>>2];fs(e,3825,i)|0;o[we>>2]=3;o[we+4>>2]=0;o[i>>2]=o[we>>2];o[i+4>>2]=o[we+4>>2];ms(e,3843,i)|0;o[ye>>2]=4;o[ye+4>>2]=0;o[i>>2]=o[ye>>2];o[i+4>>2]=o[ye+4>>2];ms(e,3853,i)|0;o[ve>>2]=9;o[ve+4>>2]=0;o[i>>2]=o[ve>>2];o[i+4>>2]=o[ve+4>>2];fs(e,3870,i)|0;o[be>>2]=10;o[be+4>>2]=0;o[i>>2]=o[be>>2];o[i+4>>2]=o[be+4>>2];fs(e,3884,i)|0;o[ge>>2]=11;o[ge+4>>2]=0;o[i>>2]=o[ge>>2];o[i+4>>2]=o[ge+4>>2];fs(e,3896,i)|0;o[_e>>2]=1;o[_e+4>>2]=0;o[i>>2]=o[_e>>2];o[i+4>>2]=o[_e+4>>2];_s(e,3907,i)|0;o[me>>2]=2;o[me+4>>2]=0;o[i>>2]=o[me>>2];o[i+4>>2]=o[me+4>>2];_s(e,3915,i)|0;o[fe>>2]=3;o[fe+4>>2]=0;o[i>>2]=o[fe>>2];o[i+4>>2]=o[fe+4>>2];_s(e,3928,i)|0;o[pe>>2]=4;o[pe+4>>2]=0;o[i>>2]=o[pe>>2];o[i+4>>2]=o[pe+4>>2];_s(e,3948,i)|0;o[he>>2]=5;o[he+4>>2]=0;o[i>>2]=o[he>>2];o[i+4>>2]=o[he+4>>2];_s(e,3960,i)|0;o[de>>2]=6;o[de+4>>2]=0;o[i>>2]=o[de>>2];o[i+4>>2]=o[de+4>>2];_s(e,3974,i)|0;o[ce>>2]=7;o[ce+4>>2]=0;o[i>>2]=o[ce>>2];o[i+4>>2]=o[ce+4>>2];_s(e,3983,i)|0;o[ue>>2]=20;o[ue+4>>2]=0;o[i>>2]=o[ue>>2];o[i+4>>2]=o[ue+4>>2];hs(e,3999,i)|0;o[le>>2]=8;o[le+4>>2]=0;o[i>>2]=o[le>>2];o[i+4>>2]=o[le+4>>2];_s(e,4012,i)|0;o[se>>2]=9;o[se+4>>2]=0;o[i>>2]=o[se>>2];o[i+4>>2]=o[se+4>>2];_s(e,4022,i)|0;o[ae>>2]=21;o[ae+4>>2]=0;o[i>>2]=o[ae>>2];o[i+4>>2]=o[ae+4>>2];hs(e,4039,i)|0;o[oe>>2]=10;o[oe+4>>2]=0;o[i>>2]=o[oe>>2];o[i+4>>2]=o[oe+4>>2];_s(e,4053,i)|0;o[re>>2]=11;o[re+4>>2]=0;o[i>>2]=o[re>>2];o[i+4>>2]=o[re+4>>2];_s(e,4065,i)|0;o[ne>>2]=12;o[ne+4>>2]=0;o[i>>2]=o[ne>>2];o[i+4>>2]=o[ne+4>>2];_s(e,4084,i)|0;o[ie>>2]=13;o[ie+4>>2]=0;o[i>>2]=o[ie>>2];o[i+4>>2]=o[ie+4>>2];_s(e,4097,i)|0;o[te>>2]=14;o[te+4>>2]=0;o[i>>2]=o[te>>2];o[i+4>>2]=o[te+4>>2];_s(e,4117,i)|0;o[ee>>2]=15;o[ee+4>>2]=0;o[i>>2]=o[ee>>2];o[i+4>>2]=o[ee+4>>2];_s(e,4129,i)|0;o[$>>2]=16;o[$+4>>2]=0;o[i>>2]=o[$>>2];o[i+4>>2]=o[$+4>>2];_s(e,4148,i)|0;o[Q>>2]=17;o[Q+4>>2]=0;o[i>>2]=o[Q>>2];o[i+4>>2]=o[Q+4>>2];_s(e,4161,i)|0;o[Z>>2]=18;o[Z+4>>2]=0;o[i>>2]=o[Z>>2];o[i+4>>2]=o[Z+4>>2];_s(e,4181,i)|0;o[J>>2]=5;o[J+4>>2]=0;o[i>>2]=o[J>>2];o[i+4>>2]=o[J+4>>2];ms(e,4196,i)|0;o[K>>2]=6;o[K+4>>2]=0;o[i>>2]=o[K>>2];o[i+4>>2]=o[K+4>>2];ms(e,4206,i)|0;o[X>>2]=7;o[X+4>>2]=0;o[i>>2]=o[X>>2];o[i+4>>2]=o[X+4>>2];ms(e,4217,i)|0;o[q>>2]=3;o[q+4>>2]=0;o[i>>2]=o[q>>2];o[i+4>>2]=o[q+4>>2];gs(e,4235,i)|0;o[Y>>2]=1;o[Y+4>>2]=0;o[i>>2]=o[Y>>2];o[i+4>>2]=o[Y+4>>2];bs(e,4251,i)|0;o[V>>2]=4;o[V+4>>2]=0;o[i>>2]=o[V>>2];o[i+4>>2]=o[V+4>>2];gs(e,4263,i)|0;o[z>>2]=5;o[z+4>>2]=0;o[i>>2]=o[z>>2];o[i+4>>2]=o[z+4>>2];gs(e,4279,i)|0;o[G>>2]=6;o[G+4>>2]=0;o[i>>2]=o[G>>2];o[i+4>>2]=o[G+4>>2];gs(e,4293,i)|0;o[W>>2]=7;o[W+4>>2]=0;o[i>>2]=o[W>>2];o[i+4>>2]=o[W+4>>2];gs(e,4306,i)|0;o[H>>2]=8;o[H+4>>2]=0;o[i>>2]=o[H>>2];o[i+4>>2]=o[H+4>>2];gs(e,4323,i)|0;o[F>>2]=9;o[F+4>>2]=0;o[i>>2]=o[F>>2];o[i+4>>2]=o[F+4>>2];gs(e,4335,i)|0;o[U>>2]=2;o[U+4>>2]=0;o[i>>2]=o[U>>2];o[i+4>>2]=o[U+4>>2];bs(e,4353,i)|0;o[N>>2]=12;o[N+4>>2]=0;o[i>>2]=o[N>>2];o[i+4>>2]=o[N+4>>2];vs(e,4363,i)|0;o[D>>2]=1;o[D+4>>2]=0;o[i>>2]=o[D>>2];o[i+4>>2]=o[D+4>>2];ys(e,4376,i)|0;o[B>>2]=2;o[B+4>>2]=0;o[i>>2]=o[B>>2];o[i+4>>2]=o[B+4>>2];ys(e,4388,i)|0;o[I>>2]=13;o[I+4>>2]=0;o[i>>2]=o[I>>2];o[i+4>>2]=o[I+4>>2];vs(e,4402,i)|0;o[P>>2]=14;o[P+4>>2]=0;o[i>>2]=o[P>>2];o[i+4>>2]=o[P+4>>2];vs(e,4411,i)|0;o[O>>2]=15;o[O+4>>2]=0;o[i>>2]=o[O>>2];o[i+4>>2]=o[O+4>>2];vs(e,4421,i)|0;o[L>>2]=16;o[L+4>>2]=0;o[i>>2]=o[L>>2];o[i+4>>2]=o[L+4>>2];vs(e,4433,i)|0;o[A>>2]=17;o[A+4>>2]=0;o[i>>2]=o[A>>2];o[i+4>>2]=o[A+4>>2];vs(e,4446,i)|0;o[R>>2]=18;o[R+4>>2]=0;o[i>>2]=o[R>>2];o[i+4>>2]=o[R+4>>2];vs(e,4458,i)|0;o[C>>2]=3;o[C+4>>2]=0;o[i>>2]=o[C>>2];o[i+4>>2]=o[C+4>>2];ys(e,4471,i)|0;o[x>>2]=1;o[x+4>>2]=0;o[i>>2]=o[x>>2];o[i+4>>2]=o[x+4>>2];ws(e,4486,i)|0;o[k>>2]=10;o[k+4>>2]=0;o[i>>2]=o[k>>2];o[i+4>>2]=o[k+4>>2];gs(e,4496,i)|0;o[S>>2]=11;o[S+4>>2]=0;o[i>>2]=o[S>>2];o[i+4>>2]=o[S+4>>2];gs(e,4508,i)|0;o[M>>2]=3;o[M+4>>2]=0;o[i>>2]=o[M>>2];o[i+4>>2]=o[M+4>>2];bs(e,4519,i)|0;o[j>>2]=4;o[j+4>>2]=0;o[i>>2]=o[j>>2];o[i+4>>2]=o[j+4>>2];Es(e,4530,i)|0;o[T>>2]=19;o[T+4>>2]=0;o[i>>2]=o[T>>2];o[i+4>>2]=o[T+4>>2];Ts(e,4542,i)|0;o[E>>2]=12;o[E+4>>2]=0;o[i>>2]=o[E>>2];o[i+4>>2]=o[E+4>>2];js(e,4554,i)|0;o[w>>2]=13;o[w+4>>2]=0;o[i>>2]=o[w>>2];o[i+4>>2]=o[w+4>>2];Ms(e,4568,i)|0;o[y>>2]=2;o[y+4>>2]=0;o[i>>2]=o[y>>2];o[i+4>>2]=o[y+4>>2];Ss(e,4578,i)|0;o[v>>2]=20;o[v+4>>2]=0;o[i>>2]=o[v>>2];o[i+4>>2]=o[v+4>>2];ks(e,4587,i)|0;o[b>>2]=22;o[b+4>>2]=0;o[i>>2]=o[b>>2];o[i+4>>2]=o[b+4>>2];hs(e,4602,i)|0;o[g>>2]=23;o[g+4>>2]=0;o[i>>2]=o[g>>2];o[i+4>>2]=o[g+4>>2];hs(e,4619,i)|0;o[_>>2]=14;o[_+4>>2]=0;o[i>>2]=o[_>>2];o[i+4>>2]=o[_+4>>2];xs(e,4629,i)|0;o[m>>2]=1;o[m+4>>2]=0;o[i>>2]=o[m>>2];o[i+4>>2]=o[m+4>>2];Cs(e,4637,i)|0;o[p>>2]=4;o[p+4>>2]=0;o[i>>2]=o[p>>2];o[i+4>>2]=o[p+4>>2];ys(e,4653,i)|0;o[h>>2]=5;o[h+4>>2]=0;o[i>>2]=o[h>>2];o[i+4>>2]=o[h+4>>2];ys(e,4669,i)|0;o[d>>2]=6;o[d+4>>2]=0;o[i>>2]=o[d>>2];o[i+4>>2]=o[d+4>>2];ys(e,4686,i)|0;o[c>>2]=7;o[c+4>>2]=0;o[i>>2]=o[c>>2];o[i+4>>2]=o[c+4>>2];ys(e,4701,i)|0;o[u>>2]=8;o[u+4>>2]=0;o[i>>2]=o[u>>2];o[i+4>>2]=o[u+4>>2];ys(e,4719,i)|0;o[l>>2]=9;o[l+4>>2]=0;o[i>>2]=o[l>>2];o[i+4>>2]=o[l+4>>2];ys(e,4736,i)|0;o[s>>2]=21;o[s+4>>2]=0;o[i>>2]=o[s>>2];o[i+4>>2]=o[s+4>>2];Rs(e,4754,i)|0;o[a>>2]=2;o[a+4>>2]=0;o[i>>2]=o[a>>2];o[i+4>>2]=o[a+4>>2];ws(e,4772,i)|0;o[r>>2]=3;o[r+4>>2]=0;o[i>>2]=o[r>>2];o[i+4>>2]=o[r+4>>2];ws(e,4790,i)|0;o[n>>2]=4;o[n+4>>2]=0;o[i>>2]=o[n>>2];o[i+4>>2]=o[n+4>>2];ws(e,4808,i)|0;f=t;return}function ls(e,t){e=e|0;t=t|0;var i=0;i=P_()|0;o[e>>2]=i;I_(i,t);cw(o[e>>2]|0);return}function us(e,t,i){e=e|0;t=t|0;i=i|0;g_(e,Ls(t)|0,i,0);return e|0}function cs(e,t,i){e=e|0;t=t|0;i=i|0;Jm(e,Ls(t)|0,i,0);return e|0}function ds(e,t,i){e=e|0;t=t|0;i=i|0;Om(e,Ls(t)|0,i,0);return e|0}function hs(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];fm(e,t,r);f=n;return e|0}function ps(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Yf(e,t,r);f=n;return e|0}function fs(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];kf(e,t,r);f=n;return e|0}function ms(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];lf(e,t,r);f=n;return e|0}function _s(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Wp(e,t,r);f=n;return e|0}function gs(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Tp(e,t,r);f=n;return e|0}function bs(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];rp(e,t,r);f=n;return e|0}function vs(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];jh(e,t,r);f=n;return e|0}function ys(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];oh(e,t,r);f=n;return e|0}function ws(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Fd(e,t,r);f=n;return e|0}function Es(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];wd(e,t,r);f=n;return e|0}function Ts(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];$c(e,t,r);f=n;return e|0}function js(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Oc(e,t,r);f=n;return e|0}function Ms(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];fc(e,t,r);f=n;return e|0}function Ss(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Vu(e,t,r);f=n;return e|0}function ks(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];wu(e,t,r);f=n;return e|0}function xs(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];tu(e,t,r);f=n;return e|0}function Cs(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Rl(e,t,r);f=n;return e|0}function Rs(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];As(e,t,r);f=n;return e|0}function As(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Os(e,i,r,1);f=n;return}function Ls(e){e=e|0;return e|0}function Os(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=Ps()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=Is(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,Bs(a,n)|0,n);f=r;return}function Ps(){var e=0,t=0;if(!(n[7616]|0)){Xs(9136);Be(24,9136,g|0)|0;t=7616;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9136)|0)){e=9136;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Xs(9136)}return 9136}function Is(e){e=e|0;return 0}function Bs(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=Ps()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];Ws(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Gs(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function Ds(e,t,i,n,r,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;a=a|0;var s=0,l=0,u=0,c=0,d=0,h=0,p=0,m=0;s=f;f=f+32|0;p=s+24|0;h=s+20|0;u=s+16|0;d=s+12|0;c=s+8|0;l=s+4|0;m=s;o[h>>2]=t;o[u>>2]=i;o[d>>2]=n;o[c>>2]=r;o[l>>2]=a;a=e+28|0;o[m>>2]=o[a>>2];o[p>>2]=o[m>>2];Ns(e+24|0,p,h,d,c,u,l)|0;o[a>>2]=o[o[a>>2]>>2];f=s;return}function Ns(e,t,i,n,r,a,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;a=a|0;s=s|0;e=Us(t)|0;t=qk(24)|0;Fs(t+4|0,o[i>>2]|0,o[n>>2]|0,o[r>>2]|0,o[a>>2]|0,o[s>>2]|0);o[t>>2]=o[e>>2];o[e>>2]=t;return t|0}function Us(e){e=e|0;return o[e>>2]|0}function Fs(e,t,i,n,r,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;a=a|0;o[e>>2]=t;o[e+4>>2]=i;o[e+8>>2]=n;o[e+12>>2]=r;o[e+16>>2]=a;return}function Hs(e,t){e=e|0;t=t|0;return t|e|0}function Ws(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Gs(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=zs(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Vs(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];Ws(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Ys(e,l);qs(l);f=c;return}}function zs(e){e=e|0;return 357913941}function Vs(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Ys(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function qs(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function Xs(e){e=e|0;Qs(e);return}function Ks(e){e=e|0;Zs(e+24|0);return}function Js(e){e=e|0;return o[e>>2]|0}function Zs(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function Qs(e){e=e|0;var t=0;t=$s()|0;il(e,2,3,t,el()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function $s(){return 9228}function el(){return 1140}function tl(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0;i=f;f=f+16|0;n=i+8|0;r=i;a=nl(e)|0;e=o[a+4>>2]|0;o[r>>2]=o[a>>2];o[r+4>>2]=e;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];t=rl(t,n)|0;f=i;return t|0}function il(e,t,i,n,r,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;a=a|0;o[e>>2]=t;o[e+4>>2]=i;o[e+8>>2]=n;o[e+12>>2]=r;o[e+16>>2]=a;return}function nl(e){e=e|0;return(o[(Ps()|0)+24>>2]|0)+(e*12|0)|0}function rl(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;r=f;f=f+48|0;n=r;i=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)i=o[(o[e>>2]|0)+i>>2]|0;mC[i&31](n,e);n=ol(n)|0;f=r;return n|0}function ol(e){e=e|0;var t=0,i=0,n=0,r=0;r=f;f=f+32|0;t=r+12|0;i=r;n=sl(al()|0)|0;if(!n)e=hl(e)|0;else{ll(t,n);ul(i,t);cl(e,i);e=dl(t)|0}f=r;return e|0}function al(){var e=0;if(!(n[7632]|0)){Tl(9184);Be(25,9184,g|0)|0;e=7632;o[e>>2]=1;o[e+4>>2]=0}return 9184}function sl(e){e=e|0;return o[e+36>>2]|0}function ll(e,t){e=e|0;t=t|0;o[e>>2]=t;o[e+4>>2]=e;o[e+8>>2]=0;return}function ul(e,t){e=e|0;t=t|0;o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=0;return}function cl(e,t){e=e|0;t=t|0;gl(t,e,e+8|0,e+16|0,e+24|0,e+32|0,e+40|0)|0;return}function dl(e){e=e|0;return o[(o[e+4>>2]|0)+8>>2]|0}function hl(e){e=e|0;var t=0,i=0,n=0,r=0,a=0,s=0,l=0,u=0;u=f;f=f+16|0;i=u+4|0;n=u;r=FT(8)|0;a=r;s=qk(48)|0;l=s;t=l+48|0;do{o[l>>2]=o[e>>2];l=l+4|0;e=e+4|0}while((l|0)<(t|0));t=a+4|0;o[t>>2]=s;l=qk(8)|0;s=o[t>>2]|0;o[n>>2]=0;o[i>>2]=o[n>>2];pl(l,s,i);o[r>>2]=l;f=u;return a|0}function pl(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;i=qk(16)|0;o[i+4>>2]=0;o[i+8>>2]=0;o[i>>2]=1092;o[i+12>>2]=t;o[e+4>>2]=i;return}function fl(e){e=e|0;Hk(e);Kk(e);return}function ml(e){e=e|0;e=o[e+12>>2]|0;if(e|0)Kk(e);return}function _l(e){e=e|0;Kk(e);return}function gl(e,t,i,n,r,a,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;a=a|0;s=s|0;a=bl(o[e>>2]|0,t,i,n,r,a,s)|0;s=e+4|0;o[(o[s>>2]|0)+8>>2]=a;return o[(o[s>>2]|0)+8>>2]|0}function bl(e,t,i,n,r,o,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;a=a|0;var s=0,l=0;s=f;f=f+16|0;l=s;TS(l);e=Ea(e)|0;a=vl(e,+c[t>>3],+c[i>>3],+c[n>>3],+c[r>>3],+c[o>>3],+c[a>>3])|0;MS(l);f=s;return a|0}function vl(e,t,i,n,r,o,a){e=e|0;t=+t;i=+i;n=+n;r=+r;o=+o;a=+a;var s=0;s=Ma(yl()|0)|0;t=+Sa(t);i=+Sa(i);n=+Sa(n);r=+Sa(r);o=+Sa(o);return ke(0,s|0,e|0,+t,+i,+n,+r,+o,+ +Sa(a))|0}function yl(){var e=0;if(!(n[7624]|0)){wl(9172);e=7624;o[e>>2]=1;o[e+4>>2]=0}return 9172}function wl(e){e=e|0;Da(e,El()|0,6);return}function El(){return 1112}function Tl(e){e=e|0;Cl(e);return}function jl(e){e=e|0;Ml(e+24|0);Sl(e+16|0);return}function Ml(e){e=e|0;xl(e);return}function Sl(e){e=e|0;kl(e);return}function kl(e){e=e|0;var t=0,i=0;t=o[e>>2]|0;if(t|0)do{i=t;t=o[t>>2]|0;Kk(i)}while((t|0)!=0);o[e>>2]=0;return}function xl(e){e=e|0;var t=0,i=0;t=o[e>>2]|0;if(t|0)do{i=t;t=o[t>>2]|0;Kk(i)}while((t|0)!=0);o[e>>2]=0;return}function Cl(e){e=e|0;var t=0;o[e+16>>2]=0;o[e+20>>2]=0;t=e+24|0;o[t>>2]=0;o[e+28>>2]=t;o[e+36>>2]=0;n[e+40>>0]=0;n[e+41>>0]=0;return}function Rl(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Al(e,i,r,0);f=n;return}function Al(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=Ll()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=Ol(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,Pl(a,n)|0,n);f=r;return}function Ll(){var e=0,t=0;if(!(n[7640]|0)){Hl(9232);Be(26,9232,g|0)|0;t=7640;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9232)|0)){e=9232;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Hl(9232)}return 9232}function Ol(e){e=e|0;return 0}function Pl(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=Ll()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];Il(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Bl(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function Il(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Bl(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=Dl(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Nl(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];Il(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Ul(e,l);Fl(l);f=c;return}}function Dl(e){e=e|0;return 357913941}function Nl(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Ul(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Fl(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function Hl(e){e=e|0;zl(e);return}function Wl(e){e=e|0;Gl(e+24|0);return}function Gl(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function zl(e){e=e|0;var t=0;t=$s()|0;il(e,2,1,t,Vl()|0,3);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Vl(){return 1144}function Yl(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=+n;r=r|0;var a=0,s=0,l=0,u=0;a=f;f=f+16|0;s=a+8|0;l=a;u=ql(e)|0;e=o[u+4>>2]|0;o[l>>2]=o[u>>2];o[l+4>>2]=e;o[s>>2]=o[l>>2];o[s+4>>2]=o[l+4>>2];Xl(t,s,i,n,r);f=a;return}function ql(e){e=e|0;return(o[(Ll()|0)+24>>2]|0)+(e*12|0)|0}function Xl(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=+n;r=r|0;var a=0,s=0,l=0,u=0,c=0;c=f;f=f+16|0;s=c+2|0;l=c+1|0;u=c;a=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)a=o[(o[e>>2]|0)+a>>2]|0;Kl(s,i);i=+Jl(s,i);Kl(l,n);n=+Jl(l,n);Zl(u,r);u=Ql(u,r)|0;gC[a&1](e,i,n,u);f=c;return}function Kl(e,t){e=e|0;t=+t;return}function Jl(e,t){e=e|0;t=+t;return+ +eu(t)}function Zl(e,t){e=e|0;t=t|0;return}function Ql(e,t){e=e|0;t=t|0;return $l(t)|0}function $l(e){e=e|0;return e|0}function eu(e){e=+e;return+e}function tu(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];iu(e,i,r,1);f=n;return}function iu(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=nu()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=ru(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,ou(a,n)|0,n);f=r;return}function nu(){var e=0,t=0;if(!(n[7648]|0)){hu(9268);Be(27,9268,g|0)|0;t=7648;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9268)|0)){e=9268;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));hu(9268)}return 9268}function ru(e){e=e|0;return 0}function ou(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=nu()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];au(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{su(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function au(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function su(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=lu(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;uu(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];au(a,n,i);o[u>>2]=(o[u>>2]|0)+12;cu(e,l);du(l);f=c;return}}function lu(e){e=e|0;return 357913941}function uu(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function cu(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function du(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function hu(e){e=e|0;mu(e);return}function pu(e){e=e|0;fu(e+24|0);return}function fu(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function mu(e){e=e|0;var t=0;t=$s()|0;il(e,2,4,t,_u()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function _u(){return 1160}function gu(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0;i=f;f=f+16|0;n=i+8|0;r=i;a=bu(e)|0;e=o[a+4>>2]|0;o[r>>2]=o[a>>2];o[r+4>>2]=e;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];t=vu(t,n)|0;f=i;return t|0}function bu(e){e=e|0;return(o[(nu()|0)+24>>2]|0)+(e*12|0)|0}function vu(e,t){e=e|0;t=t|0;var i=0;i=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)i=o[(o[e>>2]|0)+i>>2]|0;return yu(_C[i&31](e)|0)|0}function yu(e){e=e|0;return e&1|0}function wu(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Eu(e,i,r,0);f=n;return}function Eu(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=Tu()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=ju(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,Mu(a,n)|0,n);f=r;return}function Tu(){var e=0,t=0;if(!(n[7656]|0)){Lu(9304);Be(28,9304,g|0)|0;t=7656;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9304)|0)){e=9304;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Lu(9304)}return 9304}function ju(e){e=e|0;return 0}function Mu(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=Tu()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];Su(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{ku(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function Su(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function ku(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=xu(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Cu(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];Su(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Ru(e,l);Au(l);f=c;return}}function xu(e){e=e|0;return 357913941}function Cu(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Ru(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Au(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function Lu(e){e=e|0;Iu(e);return}function Ou(e){e=e|0;Pu(e+24|0);return}function Pu(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function Iu(e){e=e|0;var t=0;t=$s()|0;il(e,2,5,t,Bu()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Bu(){return 1164}function Du(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=Nu(e)|0;e=o[s+4>>2]|0;o[a>>2]=o[s>>2];o[a+4>>2]=e;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Uu(t,r,i);f=n;return}function Nu(e){e=e|0;return(o[(Tu()|0)+24>>2]|0)+(e*12|0)|0}function Uu(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0;a=f;f=f+16|0;r=a;n=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)n=o[(o[e>>2]|0)+n>>2]|0;Fu(r,i);i=Hu(r,i)|0;mC[n&31](e,i);Wu(r);f=a;return}function Fu(e,t){e=e|0;t=t|0;Gu(e,t);return}function Hu(e,t){e=e|0;t=t|0;return e|0}function Wu(e){e=e|0;Qr(e);return}function Gu(e,t){e=e|0;t=t|0;zu(e,t);return}function zu(e,t){e=e|0;t=t|0;o[e>>2]=t;return}function Vu(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Yu(e,i,r,0);f=n;return}function Yu(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=qu()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=Xu(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,Ku(a,n)|0,n);f=r;return}function qu(){var e=0,t=0;if(!(n[7664]|0)){ic(9340);Be(29,9340,g|0)|0;t=7664;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9340)|0)){e=9340;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));ic(9340)}return 9340}function Xu(e){e=e|0;return 0}function Ku(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=qu()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];Ju(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Zu(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function Ju(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Zu(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=Qu(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;$u(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];Ju(a,n,i);o[u>>2]=(o[u>>2]|0)+12;ec(e,l);tc(l);f=c;return}}function Qu(e){e=e|0;return 357913941}function $u(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function ec(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function tc(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function ic(e){e=e|0;oc(e);return}function nc(e){e=e|0;rc(e+24|0);return}function rc(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function oc(e){e=e|0;var t=0;t=$s()|0;il(e,2,4,t,ac()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function ac(){return 1180}function sc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=lc(e)|0;e=o[s+4>>2]|0;o[a>>2]=o[s>>2];o[a+4>>2]=e;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];i=uc(t,r,i)|0;f=n;return i|0}function lc(e){e=e|0;return(o[(qu()|0)+24>>2]|0)+(e*12|0)|0}function uc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0;a=f;f=f+16|0;r=a;n=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)n=o[(o[e>>2]|0)+n>>2]|0;cc(r,i);r=dc(r,i)|0;r=hc(TC[n&15](e,r)|0)|0;f=a;return r|0}function cc(e,t){e=e|0;t=t|0;return}function dc(e,t){e=e|0;t=t|0;return pc(t)|0}function hc(e){e=e|0;return e|0}function pc(e){e=e|0;return e|0}function fc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];mc(e,i,r,0);f=n;return}function mc(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=_c()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=gc(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,bc(a,n)|0,n);f=r;return}function _c(){var e=0,t=0;if(!(n[7672]|0)){Mc(9376);Be(30,9376,g|0)|0;t=7672;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9376)|0)){e=9376;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Mc(9376)}return 9376}function gc(e){e=e|0;return 0}function bc(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=_c()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];vc(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{yc(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function vc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function yc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=wc(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Ec(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];vc(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Tc(e,l);jc(l);f=c;return}}function wc(e){e=e|0;return 357913941}function Ec(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Tc(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function jc(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function Mc(e){e=e|0;xc(e);return}function Sc(e){e=e|0;kc(e+24|0);return}function kc(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function xc(e){e=e|0;var t=0;t=$s()|0;il(e,2,5,t,Cc()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Cc(){return 1196}function Rc(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0;i=f;f=f+16|0;n=i+8|0;r=i;a=Ac(e)|0;e=o[a+4>>2]|0;o[r>>2]=o[a>>2];o[r+4>>2]=e;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];t=Lc(t,n)|0;f=i;return t|0}function Ac(e){e=e|0;return(o[(_c()|0)+24>>2]|0)+(e*12|0)|0}function Lc(e,t){e=e|0;t=t|0;var i=0;i=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)i=o[(o[e>>2]|0)+i>>2]|0;return hc(_C[i&31](e)|0)|0}function Oc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Pc(e,i,r,1);f=n;return}function Pc(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=Ic()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=Bc(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,Dc(a,n)|0,n);f=r;return}function Ic(){var e=0,t=0;if(!(n[7680]|0)){zc(9412);Be(31,9412,g|0)|0;t=7680;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9412)|0)){e=9412;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));zc(9412)}return 9412}function Bc(e){e=e|0;return 0}function Dc(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=Ic()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];Nc(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Uc(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function Nc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Uc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=Fc(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Hc(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];Nc(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Wc(e,l);Gc(l);f=c;return}}function Fc(e){e=e|0;return 357913941}function Hc(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Wc(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Gc(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function zc(e){e=e|0;qc(e);return}function Vc(e){e=e|0;Yc(e+24|0);return}function Yc(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function qc(e){e=e|0;var t=0;t=$s()|0;il(e,2,6,t,Xc()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Xc(){return 1200}function Kc(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0;i=f;f=f+16|0;n=i+8|0;r=i;a=Jc(e)|0;e=o[a+4>>2]|0;o[r>>2]=o[a>>2];o[r+4>>2]=e;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];t=Zc(t,n)|0;f=i;return t|0}function Jc(e){e=e|0;return(o[(Ic()|0)+24>>2]|0)+(e*12|0)|0}function Zc(e,t){e=e|0;t=t|0;var i=0;i=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)i=o[(o[e>>2]|0)+i>>2]|0;return Qc(_C[i&31](e)|0)|0}function Qc(e){e=e|0;return e|0}function $c(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];ed(e,i,r,0);f=n;return}function ed(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=td()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=id(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,nd(a,n)|0,n);f=r;return}function td(){var e=0,t=0;if(!(n[7688]|0)){cd(9448);Be(32,9448,g|0)|0;t=7688;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9448)|0)){e=9448;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));cd(9448)}return 9448}function id(e){e=e|0;return 0}function nd(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=td()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];rd(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{od(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function rd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function od(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=ad(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;sd(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];rd(a,n,i);o[u>>2]=(o[u>>2]|0)+12;ld(e,l);ud(l);f=c;return}}function ad(e){e=e|0;return 357913941}function sd(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function ld(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function ud(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function cd(e){e=e|0;pd(e);return}function dd(e){e=e|0;hd(e+24|0);return}function hd(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function pd(e){e=e|0;var t=0;t=$s()|0;il(e,2,6,t,fd()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function fd(){return 1204}function md(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=_d(e)|0;e=o[s+4>>2]|0;o[a>>2]=o[s>>2];o[a+4>>2]=e;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];gd(t,r,i);f=n;return}function _d(e){e=e|0;return(o[(td()|0)+24>>2]|0)+(e*12|0)|0}function gd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0;a=f;f=f+16|0;r=a;n=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)n=o[(o[e>>2]|0)+n>>2]|0;bd(r,i);r=vd(r,i)|0;mC[n&31](e,r);f=a;return}function bd(e,t){e=e|0;t=t|0;return}function vd(e,t){e=e|0;t=t|0;return yd(t)|0}function yd(e){e=e|0;return e|0}function wd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Ed(e,i,r,0);f=n;return}function Ed(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=Td()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=jd(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,Md(a,n)|0,n);f=r;return}function Td(){var e=0,t=0;if(!(n[7696]|0)){Ld(9484);Be(33,9484,g|0)|0;t=7696;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9484)|0)){e=9484;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Ld(9484)}return 9484}function jd(e){e=e|0;return 0}function Md(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=Td()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];Sd(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{kd(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function Sd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function kd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=xd(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Cd(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];Sd(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Rd(e,l);Ad(l);f=c;return}}function xd(e){e=e|0;return 357913941}function Cd(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Rd(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Ad(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function Ld(e){e=e|0;Id(e);return}function Od(e){e=e|0;Pd(e+24|0);return}function Pd(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function Id(e){e=e|0;var t=0;t=$s()|0;il(e,2,1,t,Bd()|0,2);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Bd(){return 1212}function Dd(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0;r=f;f=f+16|0;a=r+8|0;s=r;l=Nd(e)|0;e=o[l+4>>2]|0;o[s>>2]=o[l>>2];o[s+4>>2]=e;o[a>>2]=o[s>>2];o[a+4>>2]=o[s+4>>2];Ud(t,a,i,n);f=r;return}function Nd(e){e=e|0;return(o[(Td()|0)+24>>2]|0)+(e*12|0)|0}function Ud(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0;l=f;f=f+16|0;a=l+1|0;s=l;r=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)r=o[(o[e>>2]|0)+r>>2]|0;bd(a,i);a=vd(a,i)|0;cc(s,n);s=dc(s,n)|0;AC[r&15](e,a,s);f=l;return}function Fd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Hd(e,i,r,1);f=n;return}function Hd(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=Wd()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=Gd(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,zd(a,n)|0,n);f=r;return}function Wd(){var e=0,t=0;if(!(n[7704]|0)){Zd(9520);Be(34,9520,g|0)|0;t=7704;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9520)|0)){e=9520;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Zd(9520)}return 9520}function Gd(e){e=e|0;return 0}function zd(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=Wd()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];Vd(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Yd(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function Vd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Yd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=qd(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Xd(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];Vd(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Kd(e,l);Jd(l);f=c;return}}function qd(e){e=e|0;return 357913941}function Xd(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Kd(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Jd(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function Zd(e){e=e|0;eh(e);return}function Qd(e){e=e|0;$d(e+24|0);return}function $d(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function eh(e){e=e|0;var t=0;t=$s()|0;il(e,2,1,t,th()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function th(){return 1224}function ih(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0,a=0,s=0,l=0;r=f;f=f+16|0;a=r+8|0;s=r;l=nh(e)|0;e=o[l+4>>2]|0;o[s>>2]=o[l>>2];o[s+4>>2]=e;o[a>>2]=o[s>>2];o[a+4>>2]=o[s+4>>2];n=+rh(t,a,i);f=r;return+n}function nh(e){e=e|0;return(o[(Wd()|0)+24>>2]|0)+(e*12|0)|0}function rh(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0.0;a=f;f=f+16|0;r=a;n=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)n=o[(o[e>>2]|0)+n>>2]|0;Zl(r,i);r=Ql(r,i)|0;s=+Pa(+SC[n&7](e,r));f=a;return+s}function oh(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];ah(e,i,r,1);f=n;return}function ah(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=sh()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=lh(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,uh(a,n)|0,n);f=r;return}function sh(){var e=0,t=0;if(!(n[7712]|0)){_h(9556);Be(35,9556,g|0)|0;t=7712;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9556)|0)){e=9556;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));_h(9556)}return 9556}function lh(e){e=e|0;return 0}function uh(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=sh()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];ch(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{dh(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function ch(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function dh(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=hh(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;ph(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];ch(a,n,i);o[u>>2]=(o[u>>2]|0)+12;fh(e,l);mh(l);f=c;return}}function hh(e){e=e|0;return 357913941}function ph(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function fh(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function mh(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function _h(e){e=e|0;vh(e);return}function gh(e){e=e|0;bh(e+24|0);return}function bh(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function vh(e){e=e|0;var t=0;t=$s()|0;il(e,2,5,t,yh()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function yh(){return 1232}function wh(e,t){e=e|0;t=t|0;var i=0.0,n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=Eh(e)|0;e=o[s+4>>2]|0;o[a>>2]=o[s>>2];o[a+4>>2]=e;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];i=+Th(t,r);f=n;return+i}function Eh(e){e=e|0;return(o[(sh()|0)+24>>2]|0)+(e*12|0)|0}function Th(e,t){e=e|0;t=t|0;var i=0;i=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)i=o[(o[e>>2]|0)+i>>2]|0;return+ +Pa(+wC[i&15](e))}function jh(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Mh(e,i,r,1);f=n;return}function Mh(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=Sh()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=kh(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,xh(a,n)|0,n);f=r;return}function Sh(){var e=0,t=0;if(!(n[7720]|0)){Ih(9592);Be(36,9592,g|0)|0;t=7720;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9592)|0)){e=9592;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Ih(9592)}return 9592}function kh(e){e=e|0;return 0}function xh(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=Sh()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];Ch(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Rh(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function Ch(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Rh(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=Ah(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Lh(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];Ch(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Oh(e,l);Ph(l);f=c;return}}function Ah(e){e=e|0;return 357913941}function Lh(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Oh(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Ph(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function Ih(e){e=e|0;Nh(e);return}function Bh(e){e=e|0;Dh(e+24|0);return}function Dh(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function Nh(e){e=e|0;var t=0;t=$s()|0;il(e,2,7,t,Uh()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Uh(){return 1276}function Fh(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0;i=f;f=f+16|0;n=i+8|0;r=i;a=Hh(e)|0;e=o[a+4>>2]|0;o[r>>2]=o[a>>2];o[r+4>>2]=e;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];t=Wh(t,n)|0;f=i;return t|0}function Hh(e){e=e|0;return(o[(Sh()|0)+24>>2]|0)+(e*12|0)|0}function Wh(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;r=f;f=f+16|0;n=r;i=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)i=o[(o[e>>2]|0)+i>>2]|0;mC[i&31](n,e);n=Gh(n)|0;f=r;return n|0}function Gh(e){e=e|0;var t=0,i=0,n=0,r=0;r=f;f=f+32|0;t=r+12|0;i=r;n=sl(zh()|0)|0;if(!n)e=Yh(e)|0;else{ll(t,n);ul(i,t);Vh(e,i);e=dl(t)|0}f=r;return e|0}function zh(){var e=0;if(!(n[7736]|0)){np(9640);Be(25,9640,g|0)|0;e=7736;o[e>>2]=1;o[e+4>>2]=0}return 9640}function Vh(e,t){e=e|0;t=t|0;Zh(t,e,e+8|0)|0;return}function Yh(e){e=e|0;var t=0,i=0,n=0,r=0,a=0,s=0,l=0;i=f;f=f+16|0;r=i+4|0;s=i;n=FT(8)|0;t=n;l=qk(16)|0;o[l>>2]=o[e>>2];o[l+4>>2]=o[e+4>>2];o[l+8>>2]=o[e+8>>2];o[l+12>>2]=o[e+12>>2];a=t+4|0;o[a>>2]=l;e=qk(8)|0;a=o[a>>2]|0;o[s>>2]=0;o[r>>2]=o[s>>2];qh(e,a,r);o[n>>2]=e;f=i;return t|0}function qh(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;i=qk(16)|0;o[i+4>>2]=0;o[i+8>>2]=0;o[i>>2]=1244;o[i+12>>2]=t;o[e+4>>2]=i;return}function Xh(e){e=e|0;Hk(e);Kk(e);return}function Kh(e){e=e|0;e=o[e+12>>2]|0;if(e|0)Kk(e);return}function Jh(e){e=e|0;Kk(e);return}function Zh(e,t,i){e=e|0;t=t|0;i=i|0;t=Qh(o[e>>2]|0,t,i)|0;i=e+4|0;o[(o[i>>2]|0)+8>>2]=t;return o[(o[i>>2]|0)+8>>2]|0}function Qh(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=f;f=f+16|0;r=n;TS(r);e=Ea(e)|0;i=$h(e,o[t>>2]|0,+c[i>>3])|0;MS(r);f=n;return i|0}function $h(e,t,i){e=e|0;t=t|0;i=+i;var n=0;n=Ma(ep()|0)|0;t=ka(t)|0;return xe(0,n|0,e|0,t|0,+ +Sa(i))|0}function ep(){var e=0;if(!(n[7728]|0)){tp(9628);e=7728;o[e>>2]=1;o[e+4>>2]=0}return 9628}function tp(e){e=e|0;Da(e,ip()|0,2);return}function ip(){return 1264}function np(e){e=e|0;Cl(e);return}function rp(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];op(e,i,r,1);f=n;return}function op(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=ap()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=sp(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,lp(a,n)|0,n);f=r;return}function ap(){var e=0,t=0;if(!(n[7744]|0)){mp(9684);Be(37,9684,g|0)|0;t=7744;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9684)|0)){e=9684;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));mp(9684)}return 9684}function sp(e){e=e|0;return 0}function lp(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=ap()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];up(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{cp(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function up(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function cp(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=dp(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;hp(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];up(a,n,i);o[u>>2]=(o[u>>2]|0)+12;pp(e,l);fp(l);f=c;return}}function dp(e){e=e|0;return 357913941}function hp(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function pp(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function fp(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function mp(e){e=e|0;bp(e);return}function _p(e){e=e|0;gp(e+24|0);return}function gp(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function bp(e){e=e|0;var t=0;t=$s()|0;il(e,2,5,t,vp()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function vp(){return 1280}function yp(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=wp(e)|0;e=o[s+4>>2]|0;o[a>>2]=o[s>>2];o[a+4>>2]=e;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];i=Ep(t,r,i)|0;f=n;return i|0}function wp(e){e=e|0;return(o[(ap()|0)+24>>2]|0)+(e*12|0)|0}function Ep(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;s=f;f=f+32|0;r=s;a=s+16|0;n=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)n=o[(o[e>>2]|0)+n>>2]|0;Zl(a,i);a=Ql(a,i)|0;AC[n&15](r,e,a);a=Gh(r)|0;f=s;return a|0}function Tp(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];jp(e,i,r,1);f=n;return}function jp(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=Mp()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=Sp(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,kp(a,n)|0,n);f=r;return}function Mp(){var e=0,t=0;if(!(n[7752]|0)){Pp(9720);Be(38,9720,g|0)|0;t=7752;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9720)|0)){e=9720;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Pp(9720)}return 9720}function Sp(e){e=e|0;return 0}function kp(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=Mp()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];xp(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Cp(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function xp(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Cp(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=Rp(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Ap(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];xp(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Lp(e,l);Op(l);f=c;return}}function Rp(e){e=e|0;return 357913941}function Ap(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Lp(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Op(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function Pp(e){e=e|0;Dp(e);return}function Ip(e){e=e|0;Bp(e+24|0);return}function Bp(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function Dp(e){e=e|0;var t=0;t=$s()|0;il(e,2,8,t,Np()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Np(){return 1288}function Up(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0;i=f;f=f+16|0;n=i+8|0;r=i;a=Fp(e)|0;e=o[a+4>>2]|0;o[r>>2]=o[a>>2];o[r+4>>2]=e;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];t=Hp(t,n)|0;f=i;return t|0}function Fp(e){e=e|0;return(o[(Mp()|0)+24>>2]|0)+(e*12|0)|0}function Hp(e,t){e=e|0;t=t|0;var i=0;i=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)i=o[(o[e>>2]|0)+i>>2]|0;return Oa(_C[i&31](e)|0)|0}function Wp(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Gp(e,i,r,0);f=n;return}function Gp(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=zp()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=Vp(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,Yp(a,n)|0,n);f=r;return}function zp(){var e=0,t=0;if(!(n[7760]|0)){$p(9756);Be(39,9756,g|0)|0;t=7760;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9756)|0)){e=9756;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));$p(9756)}return 9756}function Vp(e){e=e|0;return 0}function Yp(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=zp()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];qp(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Xp(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function qp(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Xp(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=Kp(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Jp(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];qp(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Zp(e,l);Qp(l);f=c;return}}function Kp(e){e=e|0;return 357913941}function Jp(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Zp(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Qp(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function $p(e){e=e|0;nf(e);return}function ef(e){e=e|0;tf(e+24|0);return}function tf(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function nf(e){e=e|0;var t=0;t=$s()|0;il(e,2,8,t,rf()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function rf(){return 1292}function of(e,t,i){e=e|0;t=t|0;i=+i;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=af(e)|0;e=o[s+4>>2]|0;o[a>>2]=o[s>>2];o[a+4>>2]=e;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];sf(t,r,i);f=n;return}function af(e){e=e|0;return(o[(zp()|0)+24>>2]|0)+(e*12|0)|0}function sf(e,t,i){e=e|0;t=t|0;i=+i;var n=0,r=0,a=0;a=f;f=f+16|0;r=a;n=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)n=o[(o[e>>2]|0)+n>>2]|0;Kl(r,i);i=+Jl(r,i);hC[n&31](e,i);f=a;return}function lf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];uf(e,i,r,0);f=n;return}function uf(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=cf()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=df(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,hf(a,n)|0,n);f=r;return}function cf(){var e=0,t=0;if(!(n[7768]|0)){vf(9792);Be(40,9792,g|0)|0;t=7768;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9792)|0)){e=9792;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));vf(9792)}return 9792}function df(e){e=e|0;return 0}function hf(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=cf()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];pf(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{ff(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function pf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function ff(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=mf(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;_f(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];pf(a,n,i);o[u>>2]=(o[u>>2]|0)+12;gf(e,l);bf(l);f=c;return}}function mf(e){e=e|0;return 357913941}function _f(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function gf(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function bf(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function vf(e){e=e|0;Ef(e);return}function yf(e){e=e|0;wf(e+24|0);return}function wf(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function Ef(e){e=e|0;var t=0;t=$s()|0;il(e,2,1,t,Tf()|0,2);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Tf(){return 1300}function jf(e,t,i,n){e=e|0;t=t|0;i=i|0;n=+n;var r=0,a=0,s=0,l=0;r=f;f=f+16|0;a=r+8|0;s=r;l=Mf(e)|0;e=o[l+4>>2]|0;o[s>>2]=o[l>>2];o[s+4>>2]=e;o[a>>2]=o[s>>2];o[a+4>>2]=o[s+4>>2];Sf(t,a,i,n);f=r;return}function Mf(e){e=e|0;return(o[(cf()|0)+24>>2]|0)+(e*12|0)|0}function Sf(e,t,i,n){e=e|0;t=t|0;i=i|0;n=+n;var r=0,a=0,s=0,l=0;l=f;f=f+16|0;a=l+1|0;s=l;r=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)r=o[(o[e>>2]|0)+r>>2]|0;Zl(a,i);a=Ql(a,i)|0;Kl(s,n);n=+Jl(s,n);OC[r&15](e,a,n);f=l;return}function kf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];xf(e,i,r,0);f=n;return}function xf(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=Cf()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=Rf(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,Af(a,n)|0,n);f=r;return}function Cf(){var e=0,t=0;if(!(n[7776]|0)){Nf(9828);Be(41,9828,g|0)|0;t=7776;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9828)|0)){e=9828;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Nf(9828)}return 9828}function Rf(e){e=e|0;return 0}function Af(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=Cf()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];Lf(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Of(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function Lf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Of(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=Pf(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;If(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];Lf(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Bf(e,l);Df(l);f=c;return}}function Pf(e){e=e|0;return 357913941}function If(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Bf(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Df(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function Nf(e){e=e|0;Hf(e);return}function Uf(e){e=e|0;Ff(e+24|0);return}function Ff(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function Hf(e){e=e|0;var t=0;t=$s()|0;il(e,2,7,t,Wf()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Wf(){return 1312}function Gf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=zf(e)|0;e=o[s+4>>2]|0;o[a>>2]=o[s>>2];o[a+4>>2]=e;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Vf(t,r,i);f=n;return}function zf(e){e=e|0;return(o[(Cf()|0)+24>>2]|0)+(e*12|0)|0}function Vf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0;a=f;f=f+16|0;r=a;n=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)n=o[(o[e>>2]|0)+n>>2]|0;Zl(r,i);r=Ql(r,i)|0;mC[n&31](e,r);f=a;return}function Yf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];qf(e,i,r,0);f=n;return}function qf(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=Xf()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=Kf(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,Jf(a,n)|0,n);f=r;return}function Xf(){var e=0,t=0;if(!(n[7784]|0)){nm(9864);Be(42,9864,g|0)|0;t=7784;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9864)|0)){e=9864;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));nm(9864)}return 9864}function Kf(e){e=e|0;return 0}function Jf(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=Xf()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];Zf(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Qf(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function Zf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Qf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=$f(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;em(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];Zf(a,n,i);o[u>>2]=(o[u>>2]|0)+12;tm(e,l);im(l);f=c;return}}function $f(e){e=e|0;return 357913941}function em(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function tm(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function im(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function nm(e){e=e|0;am(e);return}function rm(e){e=e|0;om(e+24|0);return}function om(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function am(e){e=e|0;var t=0;t=$s()|0;il(e,2,8,t,sm()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function sm(){return 1320}function lm(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=um(e)|0;e=o[s+4>>2]|0;o[a>>2]=o[s>>2];o[a+4>>2]=e;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];cm(t,r,i);f=n;return}function um(e){e=e|0;return(o[(Xf()|0)+24>>2]|0)+(e*12|0)|0}function cm(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0;a=f;f=f+16|0;r=a;n=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)n=o[(o[e>>2]|0)+n>>2]|0;dm(r,i);r=hm(r,i)|0;mC[n&31](e,r);f=a;return}function dm(e,t){e=e|0;t=t|0;return}function hm(e,t){e=e|0;t=t|0;return pm(t)|0}function pm(e){e=e|0;return e|0}function fm(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];mm(e,i,r,0);f=n;return}function mm(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=_m()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=gm(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,bm(a,n)|0,n);f=r;return}function _m(){var e=0,t=0;if(!(n[7792]|0)){Mm(9900);Be(43,9900,g|0)|0;t=7792;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9900)|0)){e=9900;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Mm(9900)}return 9900}function gm(e){e=e|0;return 0}function bm(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=_m()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];vm(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{ym(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function vm(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function ym(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=wm(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Em(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];vm(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Tm(e,l);jm(l);f=c;return}}function wm(e){e=e|0;return 357913941}function Em(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Tm(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function jm(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function Mm(e){e=e|0;xm(e);return}function Sm(e){e=e|0;km(e+24|0);return}function km(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function xm(e){e=e|0;var t=0;t=$s()|0;il(e,2,22,t,Cm()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Cm(){return 1344}function Rm(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0;i=f;f=f+16|0;n=i+8|0;r=i;a=Am(e)|0;e=o[a+4>>2]|0;o[r>>2]=o[a>>2];o[r+4>>2]=e;o[n>>2]=o[r>>2];o[n+4>>2]=o[r+4>>2];Lm(t,n);f=i;return}function Am(e){e=e|0;return(o[(_m()|0)+24>>2]|0)+(e*12|0)|0}function Lm(e,t){e=e|0;t=t|0;var i=0;i=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)i=o[(o[e>>2]|0)+i>>2]|0;fC[i&127](e);return}function Om(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=o[e>>2]|0;r=Pm()|0;e=Im(i)|0;Ds(a,t,r,e,Bm(i,n)|0,n);return}function Pm(){var e=0,t=0;if(!(n[7800]|0)){Gm(9936);Be(44,9936,g|0)|0;t=7800;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9936)|0)){e=9936;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Gm(9936)}return 9936}function Im(e){e=e|0;return e|0}function Bm(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;l=f;f=f+16|0;r=l;a=l+4|0;o[r>>2]=e;u=Pm()|0;s=u+24|0;t=Hs(t,4)|0;o[a>>2]=t;i=u+28|0;n=o[i>>2]|0;if(n>>>0<(o[u+32>>2]|0)>>>0){Dm(n,e,t);t=(o[i>>2]|0)+8|0;o[i>>2]=t}else{Nm(s,r,a);t=o[i>>2]|0}f=l;return(t-(o[s>>2]|0)>>3)+-1|0}function Dm(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;return}function Nm(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;r=l;a=e+4|0;s=((o[a>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=Um(e)|0;if(n>>>0<s>>>0)Fk(e);else{u=o[e>>2]|0;d=(o[e+8>>2]|0)-u|0;c=d>>2;Fm(r,d>>3>>>0<n>>>1>>>0?c>>>0<s>>>0?s:c:n,(o[a>>2]|0)-u>>3,e+8|0);s=r+8|0;Dm(o[s>>2]|0,o[t>>2]|0,o[i>>2]|0);o[s>>2]=(o[s>>2]|0)+8;Hm(e,r);Wm(r);f=l;return}}function Um(e){e=e|0;return 536870911}function Fm(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>536870911)Xe();else{r=qk(t<<3)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function Hm(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>3)<<3)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Wm(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-8-t|0)>>>3)<<3);e=o[e>>2]|0;if(e|0)Kk(e);return}function Gm(e){e=e|0;Ym(e);return}function zm(e){e=e|0;Vm(e+24|0);return}function Vm(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function Ym(e){e=e|0;var t=0;t=$s()|0;il(e,1,23,t,fd()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function qm(e,t){e=e|0;t=t|0;Km(o[(Xm(e)|0)>>2]|0,t);return}function Xm(e){e=e|0;return(o[(Pm()|0)+24>>2]|0)+(e<<3)|0}function Km(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;bd(n,t);t=vd(n,t)|0;fC[e&127](t);f=i;return}function Jm(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=o[e>>2]|0;r=Zm()|0;e=Qm(i)|0;Ds(a,t,r,e,$m(i,n)|0,n);return}function Zm(){var e=0,t=0;if(!(n[7808]|0)){a_(9972);Be(45,9972,g|0)|0;t=7808;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(9972)|0)){e=9972;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));a_(9972)}return 9972}function Qm(e){e=e|0;return e|0}function $m(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;l=f;f=f+16|0;r=l;a=l+4|0;o[r>>2]=e;u=Zm()|0;s=u+24|0;t=Hs(t,4)|0;o[a>>2]=t;i=u+28|0;n=o[i>>2]|0;if(n>>>0<(o[u+32>>2]|0)>>>0){e_(n,e,t);t=(o[i>>2]|0)+8|0;o[i>>2]=t}else{t_(s,r,a);t=o[i>>2]|0}f=l;return(t-(o[s>>2]|0)>>3)+-1|0}function e_(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;return}function t_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;r=l;a=e+4|0;s=((o[a>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=i_(e)|0;if(n>>>0<s>>>0)Fk(e);else{u=o[e>>2]|0;d=(o[e+8>>2]|0)-u|0;c=d>>2;n_(r,d>>3>>>0<n>>>1>>>0?c>>>0<s>>>0?s:c:n,(o[a>>2]|0)-u>>3,e+8|0);s=r+8|0;e_(o[s>>2]|0,o[t>>2]|0,o[i>>2]|0);o[s>>2]=(o[s>>2]|0)+8;r_(e,r);o_(r);f=l;return}}function i_(e){e=e|0;return 536870911}function n_(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>536870911)Xe();else{r=qk(t<<3)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function r_(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>3)<<3)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function o_(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-8-t|0)>>>3)<<3);e=o[e>>2]|0;if(e|0)Kk(e);return}function a_(e){e=e|0;u_(e);return}function s_(e){e=e|0;l_(e+24|0);return}function l_(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function u_(e){e=e|0;var t=0;t=$s()|0;il(e,1,9,t,c_()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function c_(){return 1348}function d_(e,t){e=e|0;t=t|0;return p_(o[(h_(e)|0)>>2]|0,t)|0}function h_(e){e=e|0;return(o[(Zm()|0)+24>>2]|0)+(e<<3)|0}function p_(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;f_(n,t);t=m_(n,t)|0;t=hc(_C[e&31](t)|0)|0;f=i;return t|0}function f_(e,t){e=e|0;t=t|0;return}function m_(e,t){e=e|0;t=t|0;return __(t)|0}function __(e){e=e|0;return e|0}function g_(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=o[e>>2]|0;r=b_()|0;e=v_(i)|0;Ds(a,t,r,e,y_(i,n)|0,n);return}function b_(){var e=0,t=0;if(!(n[7816]|0)){k_(10008);Be(46,10008,g|0)|0;t=7816;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(10008)|0)){e=10008;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));k_(10008)}return 10008}function v_(e){e=e|0;return e|0}function y_(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;l=f;f=f+16|0;r=l;a=l+4|0;o[r>>2]=e;u=b_()|0;s=u+24|0;t=Hs(t,4)|0;o[a>>2]=t;i=u+28|0;n=o[i>>2]|0;if(n>>>0<(o[u+32>>2]|0)>>>0){w_(n,e,t);t=(o[i>>2]|0)+8|0;o[i>>2]=t}else{E_(s,r,a);t=o[i>>2]|0}f=l;return(t-(o[s>>2]|0)>>3)+-1|0}function w_(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;return}function E_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;r=l;a=e+4|0;s=((o[a>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=T_(e)|0;if(n>>>0<s>>>0)Fk(e);else{u=o[e>>2]|0;d=(o[e+8>>2]|0)-u|0;c=d>>2;j_(r,d>>3>>>0<n>>>1>>>0?c>>>0<s>>>0?s:c:n,(o[a>>2]|0)-u>>3,e+8|0);s=r+8|0;w_(o[s>>2]|0,o[t>>2]|0,o[i>>2]|0);o[s>>2]=(o[s>>2]|0)+8;M_(e,r);S_(r);f=l;return}}function T_(e){e=e|0;return 536870911}function j_(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>536870911)Xe();else{r=qk(t<<3)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function M_(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>3)<<3)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function S_(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-8-t|0)>>>3)<<3);e=o[e>>2]|0;if(e|0)Kk(e);return}function k_(e){e=e|0;R_(e);return}function x_(e){e=e|0;C_(e+24|0);return}function C_(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function R_(e){e=e|0;var t=0;t=$s()|0;il(e,1,15,t,Cc()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function A_(e){e=e|0;return O_(o[(L_(e)|0)>>2]|0)|0}function L_(e){e=e|0;return(o[(b_()|0)+24>>2]|0)+(e<<3)|0}function O_(e){e=e|0;return hc(kC[e&7]()|0)|0}function P_(){var e=0;if(!(n[7832]|0)){z_(10052);Be(25,10052,g|0)|0;e=7832;o[e>>2]=1;o[e+4>>2]=0}return 10052}function I_(e,t){e=e|0;t=t|0;o[e>>2]=B_()|0;o[e+4>>2]=D_()|0;o[e+12>>2]=t;o[e+8>>2]=N_()|0;o[e+32>>2]=2;return}function B_(){return 11709}function D_(){return 1188}function N_(){return W_()|0}function U_(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;if((F_(n,896)|0)==512){if(i|0){H_(i);Kk(i)}}else if(t|0){Zr(t);Kk(t)}return}function F_(e,t){e=e|0;t=t|0;return t&e|0}function H_(e){e=e|0;e=o[e+4>>2]|0;if(e|0)Vk(e);return}function W_(){var e=0;if(!(n[7824]|0)){o[2511]=G_()|0;o[2512]=0;e=7824;o[e>>2]=1;o[e+4>>2]=0}return 10044}function G_(){return 0}function z_(e){e=e|0;Cl(e);return}function V_(e){e=e|0;var t=0,i=0,n=0,r=0,a=0;t=f;f=f+32|0;i=t+24|0;a=t+16|0;r=t+8|0;n=t;Y_(e,4827);q_(e,4834,3)|0;X_(e,3682,47)|0;o[a>>2]=9;o[a+4>>2]=0;o[i>>2]=o[a>>2];o[i+4>>2]=o[a+4>>2];K_(e,4841,i)|0;o[r>>2]=1;o[r+4>>2]=0;o[i>>2]=o[r>>2];o[i+4>>2]=o[r+4>>2];J_(e,4871,i)|0;o[n>>2]=10;o[n+4>>2]=0;o[i>>2]=o[n>>2];o[i+4>>2]=o[n+4>>2];Z_(e,4891,i)|0;f=t;return}function Y_(e,t){e=e|0;t=t|0;var i=0;i=zb()|0;o[e>>2]=i;Vb(i,t);cw(o[e>>2]|0);return}function q_(e,t,i){e=e|0;t=t|0;i=i|0;Mb(e,Ls(t)|0,i,0);return e|0}function X_(e,t,i){e=e|0;t=t|0;i=i|0;sb(e,Ls(t)|0,i,0);return e|0}function K_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Ug(e,t,r);f=n;return e|0}function J_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];gg(e,t,r);f=n;return e|0}function Z_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=o[i+4>>2]|0;o[a>>2]=o[i>>2];o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Q_(e,t,r);f=n;return e|0}function Q_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];$_(e,i,r,1);f=n;return}function $_(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=eg()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=tg(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,ig(a,n)|0,n);f=r;return}function eg(){var e=0,t=0;if(!(n[7840]|0)){ug(10100);Be(48,10100,g|0)|0;t=7840;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(10100)|0)){e=10100;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));ug(10100)}return 10100}function tg(e){e=e|0;return 0}function ig(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=eg()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];ng(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{rg(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function ng(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function rg(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=og(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;ag(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];ng(a,n,i);o[u>>2]=(o[u>>2]|0)+12;sg(e,l);lg(l);f=c;return}}function og(e){e=e|0;return 357913941}function ag(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function sg(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function lg(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function ug(e){e=e|0;hg(e);return}function cg(e){e=e|0;dg(e+24|0);return}function dg(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function hg(e){e=e|0;var t=0;t=$s()|0;il(e,2,6,t,pg()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function pg(){return 1364}function fg(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=mg(e)|0;e=o[s+4>>2]|0;o[a>>2]=o[s>>2];o[a+4>>2]=e;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];i=_g(t,r,i)|0;f=n;return i|0}function mg(e){e=e|0;return(o[(eg()|0)+24>>2]|0)+(e*12|0)|0}function _g(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0;a=f;f=f+16|0;r=a;n=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)n=o[(o[e>>2]|0)+n>>2]|0;Zl(r,i);r=Ql(r,i)|0;r=yu(TC[n&15](e,r)|0)|0;f=a;return r|0}function gg(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];bg(e,i,r,0);f=n;return}function bg(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=vg()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=yg(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,wg(a,n)|0,n);f=r;return}function vg(){var e=0,t=0;if(!(n[7848]|0)){xg(10136);Be(49,10136,g|0)|0;t=7848;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(10136)|0)){e=10136;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));xg(10136)}return 10136}function yg(e){e=e|0;return 0}function wg(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=vg()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];Eg(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Tg(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function Eg(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Tg(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=jg(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;Mg(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];Eg(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Sg(e,l);kg(l);f=c;return}}function jg(e){e=e|0;return 357913941}function Mg(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Sg(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function kg(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function xg(e){e=e|0;Ag(e);return}function Cg(e){e=e|0;Rg(e+24|0);return}function Rg(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function Ag(e){e=e|0;var t=0;t=$s()|0;il(e,2,9,t,Lg()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Lg(){return 1372}function Og(e,t,i){e=e|0;t=t|0;i=+i;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;r=n+8|0;a=n;s=Pg(e)|0;e=o[s+4>>2]|0;o[a>>2]=o[s>>2];o[a+4>>2]=e;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Ig(t,r,i);f=n;return}function Pg(e){e=e|0;return(o[(vg()|0)+24>>2]|0)+(e*12|0)|0}function Ig(e,t,i){e=e|0;t=t|0;i=+i;var n=0,r=0,a=0,s=dt;a=f;f=f+16|0;r=a;n=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)n=o[(o[e>>2]|0)+n>>2]|0;Bg(r,i);s=X(Dg(r,i));dC[n&1](e,s);f=a;return}function Bg(e,t){e=e|0;t=+t;return}function Dg(e,t){e=e|0;t=+t;return X(Ng(t))}function Ng(e){e=+e;return X(e)}function Ug(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;r=n+8|0;a=n;l=o[i>>2]|0;s=o[i+4>>2]|0;i=Ls(t)|0;o[a>>2]=l;o[a+4>>2]=s;o[r>>2]=o[a>>2];o[r+4>>2]=o[a+4>>2];Fg(e,i,r,0);f=n;return}function Fg(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0;r=f;f=f+32|0;a=r+16|0;d=r+8|0;l=r;c=o[i>>2]|0;u=o[i+4>>2]|0;s=o[e>>2]|0;e=Hg()|0;o[d>>2]=c;o[d+4>>2]=u;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];i=Wg(a)|0;o[l>>2]=c;o[l+4>>2]=u;o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];Ds(s,t,e,i,Gg(a,n)|0,n);f=r;return}function Hg(){var e=0,t=0;if(!(n[7856]|0)){Jg(10172);Be(50,10172,g|0)|0;t=7856;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(10172)|0)){e=10172;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Jg(10172)}return 10172}function Wg(e){e=e|0;return 0}function Gg(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0;d=f;f=f+32|0;r=d+24|0;s=d+16|0;l=d;u=d+8|0;a=o[e>>2]|0;n=o[e+4>>2]|0;o[l>>2]=a;o[l+4>>2]=n;h=Hg()|0;c=h+24|0;e=Hs(t,4)|0;o[u>>2]=e;t=h+28|0;i=o[t>>2]|0;if(i>>>0<(o[h+32>>2]|0)>>>0){o[s>>2]=a;o[s+4>>2]=n;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];zg(i,r,e);e=(o[t>>2]|0)+12|0;o[t>>2]=e}else{Vg(c,l,u);e=o[t>>2]|0}f=d;return((e-(o[c>>2]|0)|0)/12|0)+-1|0}function zg(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=n;o[e+8>>2]=i;return}function Vg(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0;c=f;f=f+48|0;n=c+32|0;s=c+24|0;l=c;u=e+4|0;r=(((o[u>>2]|0)-(o[e>>2]|0)|0)/12|0)+1|0;a=Yg(e)|0;if(a>>>0<r>>>0)Fk(e);else{d=o[e>>2]|0;p=((o[e+8>>2]|0)-d|0)/12|0;h=p<<1;qg(l,p>>>0<a>>>1>>>0?h>>>0<r>>>0?r:h:a,((o[u>>2]|0)-d|0)/12|0,e+8|0);u=l+8|0;a=o[u>>2]|0;r=o[t+4>>2]|0;i=o[i>>2]|0;o[s>>2]=o[t>>2];o[s+4>>2]=r;o[n>>2]=o[s>>2];o[n+4>>2]=o[s+4>>2];zg(a,n,i);o[u>>2]=(o[u>>2]|0)+12;Xg(e,l);Kg(l);f=c;return}}function Yg(e){e=e|0;return 357913941}function qg(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>357913941)Xe();else{r=qk(t*12|0)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i*12|0)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t*12|0);return}function Xg(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(((r|0)/-12|0)*12|0)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Kg(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~(((n+-12-t|0)>>>0)/12|0)*12|0);e=o[e>>2]|0;if(e|0)Kk(e);return}function Jg(e){e=e|0;$g(e);return}function Zg(e){e=e|0;Qg(e+24|0);return}function Qg(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~(((t+-12-n|0)>>>0)/12|0)*12|0);Kk(i)}return}function $g(e){e=e|0;var t=0;t=$s()|0;il(e,2,3,t,eb()|0,2);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function eb(){return 1380}function tb(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0;r=f;f=f+16|0;a=r+8|0;s=r;l=ib(e)|0;e=o[l+4>>2]|0;o[s>>2]=o[l>>2];o[s+4>>2]=e;o[a>>2]=o[s>>2];o[a+4>>2]=o[s+4>>2];nb(t,a,i,n);f=r;return}function ib(e){e=e|0;return(o[(Hg()|0)+24>>2]|0)+(e*12|0)|0}function nb(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0;l=f;f=f+16|0;a=l+1|0;s=l;r=o[t>>2]|0;t=o[t+4>>2]|0;e=e+(t>>1)|0;if(t&1)r=o[(o[e>>2]|0)+r>>2]|0;Zl(a,i);a=Ql(a,i)|0;rb(s,n);s=ob(s,n)|0;AC[r&15](e,a,s);f=l;return}function rb(e,t){e=e|0;t=t|0;return}function ob(e,t){e=e|0;t=t|0;return ab(t)|0}function ab(e){e=e|0;return(e|0)!=0|0}function sb(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=o[e>>2]|0;r=lb()|0;e=ub(i)|0;Ds(a,t,r,e,cb(i,n)|0,n);return}function lb(){var e=0,t=0;if(!(n[7864]|0)){gb(10208);Be(51,10208,g|0)|0;t=7864;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(10208)|0)){e=10208;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));gb(10208)}return 10208}function ub(e){e=e|0;return e|0}function cb(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;l=f;f=f+16|0;r=l;a=l+4|0;o[r>>2]=e;u=lb()|0;s=u+24|0;t=Hs(t,4)|0;o[a>>2]=t;i=u+28|0;n=o[i>>2]|0;if(n>>>0<(o[u+32>>2]|0)>>>0){db(n,e,t);t=(o[i>>2]|0)+8|0;o[i>>2]=t}else{hb(s,r,a);t=o[i>>2]|0}f=l;return(t-(o[s>>2]|0)>>3)+-1|0}function db(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;return}function hb(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;r=l;a=e+4|0;s=((o[a>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=pb(e)|0;if(n>>>0<s>>>0)Fk(e);else{u=o[e>>2]|0;d=(o[e+8>>2]|0)-u|0;c=d>>2;fb(r,d>>3>>>0<n>>>1>>>0?c>>>0<s>>>0?s:c:n,(o[a>>2]|0)-u>>3,e+8|0);s=r+8|0;db(o[s>>2]|0,o[t>>2]|0,o[i>>2]|0);o[s>>2]=(o[s>>2]|0)+8;mb(e,r);_b(r);f=l;return}}function pb(e){e=e|0;return 536870911}function fb(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>536870911)Xe();else{r=qk(t<<3)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function mb(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>3)<<3)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function _b(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-8-t|0)>>>3)<<3);e=o[e>>2]|0;if(e|0)Kk(e);return}function gb(e){e=e|0;yb(e);return}function bb(e){e=e|0;vb(e+24|0);return}function vb(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function yb(e){e=e|0;var t=0;t=$s()|0;il(e,1,24,t,wb()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function wb(){return 1392}function Eb(e,t){e=e|0;t=t|0;jb(o[(Tb(e)|0)>>2]|0,t);return}function Tb(e){e=e|0;return(o[(lb()|0)+24>>2]|0)+(e<<3)|0}function jb(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;f_(n,t);t=m_(n,t)|0;fC[e&127](t);f=i;return}function Mb(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=o[e>>2]|0;r=Sb()|0;e=kb(i)|0;Ds(a,t,r,e,xb(i,n)|0,n);return}function Sb(){var e=0,t=0;if(!(n[7872]|0)){Ib(10244);Be(52,10244,g|0)|0;t=7872;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(10244)|0)){e=10244;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Ib(10244)}return 10244}function kb(e){e=e|0;return e|0}function xb(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;l=f;f=f+16|0;r=l;a=l+4|0;o[r>>2]=e;u=Sb()|0;s=u+24|0;t=Hs(t,4)|0;o[a>>2]=t;i=u+28|0;n=o[i>>2]|0;if(n>>>0<(o[u+32>>2]|0)>>>0){Cb(n,e,t);t=(o[i>>2]|0)+8|0;o[i>>2]=t}else{Rb(s,r,a);t=o[i>>2]|0}f=l;return(t-(o[s>>2]|0)>>3)+-1|0}function Cb(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;return}function Rb(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;r=l;a=e+4|0;s=((o[a>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=Ab(e)|0;if(n>>>0<s>>>0)Fk(e);else{u=o[e>>2]|0;d=(o[e+8>>2]|0)-u|0;c=d>>2;Lb(r,d>>3>>>0<n>>>1>>>0?c>>>0<s>>>0?s:c:n,(o[a>>2]|0)-u>>3,e+8|0);s=r+8|0;Cb(o[s>>2]|0,o[t>>2]|0,o[i>>2]|0);o[s>>2]=(o[s>>2]|0)+8;Ob(e,r);Pb(r);f=l;return}}function Ab(e){e=e|0;return 536870911}function Lb(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>536870911)Xe();else{r=qk(t<<3)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function Ob(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>3)<<3)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Pb(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-8-t|0)>>>3)<<3);e=o[e>>2]|0;if(e|0)Kk(e);return}function Ib(e){e=e|0;Nb(e);return}function Bb(e){e=e|0;Db(e+24|0);return}function Db(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function Nb(e){e=e|0;var t=0;t=$s()|0;il(e,1,16,t,Ub()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Ub(){return 1400}function Fb(e){e=e|0;return Wb(o[(Hb(e)|0)>>2]|0)|0}function Hb(e){e=e|0;return(o[(Sb()|0)+24>>2]|0)+(e<<3)|0}function Wb(e){e=e|0;return Gb(kC[e&7]()|0)|0}function Gb(e){e=e|0;return e|0}function zb(){var e=0;if(!(n[7880]|0)){Zb(10280);Be(25,10280,g|0)|0;e=7880;o[e>>2]=1;o[e+4>>2]=0}return 10280}function Vb(e,t){e=e|0;t=t|0;o[e>>2]=Yb()|0;o[e+4>>2]=qb()|0;o[e+12>>2]=t;o[e+8>>2]=Xb()|0;o[e+32>>2]=4;return}function Yb(){return 11711}function qb(){return 1356}function Xb(){return W_()|0}function Kb(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;if((F_(n,896)|0)==512){if(i|0){Jb(i);Kk(i)}}else if(t|0){Gr(t);Kk(t)}return}function Jb(e){e=e|0;e=o[e+4>>2]|0;if(e|0)Vk(e);return}function Zb(e){e=e|0;Cl(e);return}function Qb(e){e=e|0;$b(e,4920);ev(e)|0;tv(e)|0;return}function $b(e,t){e=e|0;t=t|0;var i=0;i=zh()|0;o[e>>2]=i;kv(i,t);cw(o[e>>2]|0);return}function ev(e){e=e|0;var t=0;t=o[e>>2]|0;nv(t,mv()|0);return e|0}function tv(e){e=e|0;var t=0;t=o[e>>2]|0;nv(t,iv()|0);return e|0}function iv(){var e=0;if(!(n[7888]|0)){rv(10328);Be(53,10328,g|0)|0;e=7888;o[e>>2]=1;o[e+4>>2]=0}if(!(Js(10328)|0))rv(10328);return 10328}function nv(e,t){e=e|0;t=t|0;Ds(e,0,t,0,0,0);return}function rv(e){e=e|0;sv(e);uv(e,10);return}function ov(e){e=e|0;av(e+24|0);return}function av(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function sv(e){e=e|0;var t=0;t=$s()|0;il(e,5,1,t,hv()|0,2);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function lv(e,t,i){e=e|0;t=t|0;i=+i;cv(e,t,i);return}function uv(e,t){e=e|0;t=t|0;o[e+20>>2]=t;return}function cv(e,t,i){e=e|0;t=t|0;i=+i;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+16|0;a=n+8|0;l=n+13|0;r=n;s=n+12|0;Zl(l,t);o[a>>2]=Ql(l,t)|0;Kl(s,i);c[r>>3]=+Jl(s,i);dv(e,a,r);f=n;return}function dv(e,t,i){e=e|0;t=t|0;i=i|0;zo(e+8|0,o[t>>2]|0,+c[i>>3]);n[e+24>>0]=1;return}function hv(){return 1404}function pv(e,t){e=e|0;t=+t;return fv(e,t)|0}function fv(e,t){e=e|0;t=+t;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;n=f;f=f+16|0;a=n+4|0;s=n+8|0;l=n;r=FT(8)|0;i=r;u=qk(16)|0;Zl(a,e);e=Ql(a,e)|0;Kl(s,t);zo(u,e,+Jl(s,t));s=i+4|0;o[s>>2]=u;e=qk(8)|0;s=o[s>>2]|0;o[l>>2]=0;o[a>>2]=o[l>>2];qh(e,s,a);o[r>>2]=e;f=n;return i|0}function mv(){var e=0;if(!(n[7896]|0)){_v(10364);Be(54,10364,g|0)|0;e=7896;o[e>>2]=1;o[e+4>>2]=0}if(!(Js(10364)|0))_v(10364);return 10364}function _v(e){e=e|0;vv(e);uv(e,55);return}function gv(e){e=e|0;bv(e+24|0);return}function bv(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function vv(e){e=e|0;var t=0;t=$s()|0;il(e,5,4,t,jv()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function yv(e){e=e|0;wv(e);return}function wv(e){e=e|0;Ev(e);return}function Ev(e){e=e|0;Tv(e+8|0);n[e+24>>0]=1;return}function Tv(e){e=e|0;o[e>>2]=0;c[e+8>>3]=0.0;return}function jv(){return 1424}function Mv(){return Sv()|0}function Sv(){var e=0,t=0,i=0,n=0,r=0,a=0,s=0;t=f;f=f+16|0;r=t+4|0;s=t;i=FT(8)|0;e=i;n=qk(16)|0;Tv(n);a=e+4|0;o[a>>2]=n;n=qk(8)|0;a=o[a>>2]|0;o[s>>2]=0;o[r>>2]=o[s>>2];qh(n,a,r);o[i>>2]=n;f=t;return e|0}function kv(e,t){e=e|0;t=t|0;o[e>>2]=xv()|0;o[e+4>>2]=Cv()|0;o[e+12>>2]=t;o[e+8>>2]=Rv()|0;o[e+32>>2]=5;return}function xv(){return 11710}function Cv(){return 1416}function Rv(){return Ov()|0}function Av(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;if((F_(n,896)|0)==512){if(i|0){Lv(i);Kk(i)}}else if(t|0)Kk(t);return}function Lv(e){e=e|0;e=o[e+4>>2]|0;if(e|0)Vk(e);return}function Ov(){var e=0;if(!(n[7904]|0)){o[2600]=Pv()|0;o[2601]=0;e=7904;o[e>>2]=1;o[e+4>>2]=0}return 10400}function Pv(){return o[357]|0}function Iv(e){e=e|0;Bv(e,4926);Dv(e)|0;return}function Bv(e,t){e=e|0;t=t|0;var i=0;i=al()|0;o[e>>2]=i;Kv(i,t);cw(o[e>>2]|0);return}function Dv(e){e=e|0;var t=0;t=o[e>>2]|0;nv(t,Nv()|0);return e|0}function Nv(){var e=0;if(!(n[7912]|0)){Uv(10412);Be(56,10412,g|0)|0;e=7912;o[e>>2]=1;o[e+4>>2]=0}if(!(Js(10412)|0))Uv(10412);return 10412}function Uv(e){e=e|0;Wv(e);uv(e,57);return}function Fv(e){e=e|0;Hv(e+24|0);return}function Hv(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function Wv(e){e=e|0;var t=0;t=$s()|0;il(e,5,5,t,Yv()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Gv(e){e=e|0;zv(e);return}function zv(e){e=e|0;Vv(e);return}function Vv(e){e=e|0;var t=0,i=0;t=e+8|0;i=t+48|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(i|0));n[e+56>>0]=1;return}function Yv(){return 1432}function qv(){return Xv()|0}function Xv(){var e=0,t=0,i=0,n=0,r=0,a=0,s=0,l=0;s=f;f=f+16|0;e=s+4|0;t=s;i=FT(8)|0;n=i;r=qk(48)|0;a=r;l=a+48|0;do{o[a>>2]=0;a=a+4|0}while((a|0)<(l|0));a=n+4|0;o[a>>2]=r;l=qk(8)|0;a=o[a>>2]|0;o[t>>2]=0;o[e>>2]=o[t>>2];pl(l,a,e);o[i>>2]=l;f=s;return n|0}function Kv(e,t){e=e|0;t=t|0;o[e>>2]=Jv()|0;o[e+4>>2]=Zv()|0;o[e+12>>2]=t;o[e+8>>2]=Qv()|0;o[e+32>>2]=6;return}function Jv(){return 11704}function Zv(){return 1436}function Qv(){return Ov()|0}function $v(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;if((F_(n,896)|0)==512){if(i|0){ey(i);Kk(i)}}else if(t|0)Kk(t);return}function ey(e){e=e|0;e=o[e+4>>2]|0;if(e|0)Vk(e);return}function ty(e){e=e|0;iy(e,4933);ny(e)|0;ry(e)|0;return}function iy(e,t){e=e|0;t=t|0;var i=0;i=Oy()|0;o[e>>2]=i;Py(i,t);cw(o[e>>2]|0);return}function ny(e){e=e|0;var t=0;t=o[e>>2]|0;nv(t,wy()|0);return e|0}function ry(e){e=e|0;var t=0;t=o[e>>2]|0;nv(t,oy()|0);return e|0}function oy(){var e=0;if(!(n[7920]|0)){ay(10452);Be(58,10452,g|0)|0;e=7920;o[e>>2]=1;o[e+4>>2]=0}if(!(Js(10452)|0))ay(10452);return 10452}function ay(e){e=e|0;uy(e);uv(e,1);return}function sy(e){e=e|0;ly(e+24|0);return}function ly(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function uy(e){e=e|0;var t=0;t=$s()|0;il(e,5,1,t,fy()|0,2);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function cy(e,t,i){e=e|0;t=+t;i=+i;dy(e,t,i);return}function dy(e,t,i){e=e|0;t=+t;i=+i;var n=0,r=0,o=0,a=0,s=0;n=f;f=f+32|0;o=n+8|0;s=n+17|0;r=n;a=n+16|0;Kl(s,t);c[o>>3]=+Jl(s,t);Kl(a,i);c[r>>3]=+Jl(a,i);hy(e,o,r);f=n;return}function hy(e,t,i){e=e|0;t=t|0;i=i|0;py(e+8|0,+c[t>>3],+c[i>>3]);n[e+24>>0]=1;return}function py(e,t,i){e=e|0;t=+t;i=+i;c[e>>3]=t;c[e+8>>3]=i;return}function fy(){return 1472}function my(e,t){e=+e;t=+t;return _y(e,t)|0}function _y(e,t){e=+e;t=+t;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;n=f;f=f+16|0;s=n+4|0;l=n+8|0;u=n;r=FT(8)|0;i=r;a=qk(16)|0;Kl(s,e);e=+Jl(s,e);Kl(l,t);py(a,e,+Jl(l,t));l=i+4|0;o[l>>2]=a;a=qk(8)|0;l=o[l>>2]|0;o[u>>2]=0;o[s>>2]=o[u>>2];gy(a,l,s);o[r>>2]=a;f=n;return i|0}function gy(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;i=qk(16)|0;o[i+4>>2]=0;o[i+8>>2]=0;o[i>>2]=1452;o[i+12>>2]=t;o[e+4>>2]=i;return}function by(e){e=e|0;Hk(e);Kk(e);return}function vy(e){e=e|0;e=o[e+12>>2]|0;if(e|0)Kk(e);return}function yy(e){e=e|0;Kk(e);return}function wy(){var e=0;if(!(n[7928]|0)){Ey(10488);Be(59,10488,g|0)|0;e=7928;o[e>>2]=1;o[e+4>>2]=0}if(!(Js(10488)|0))Ey(10488);return 10488}function Ey(e){e=e|0;My(e);uv(e,60);return}function Ty(e){e=e|0;jy(e+24|0);return}function jy(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function My(e){e=e|0;var t=0;t=$s()|0;il(e,5,6,t,Ry()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Sy(e){e=e|0;ky(e);return}function ky(e){e=e|0;xy(e);return}function xy(e){e=e|0;Cy(e+8|0);n[e+24>>0]=1;return}function Cy(e){e=e|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;return}function Ry(){return 1492}function Ay(){return Ly()|0}function Ly(){var e=0,t=0,i=0,n=0,r=0,a=0,s=0;t=f;f=f+16|0;r=t+4|0;s=t;i=FT(8)|0;e=i;n=qk(16)|0;Cy(n);a=e+4|0;o[a>>2]=n;n=qk(8)|0;a=o[a>>2]|0;o[s>>2]=0;o[r>>2]=o[s>>2];gy(n,a,r);o[i>>2]=n;f=t;return e|0}function Oy(){var e=0;if(!(n[7936]|0)){Fy(10524);Be(25,10524,g|0)|0;e=7936;o[e>>2]=1;o[e+4>>2]=0}return 10524}function Py(e,t){e=e|0;t=t|0;o[e>>2]=Iy()|0;o[e+4>>2]=By()|0;o[e+12>>2]=t;o[e+8>>2]=Dy()|0;o[e+32>>2]=7;return}function Iy(){return 11700}function By(){return 1484}function Dy(){return Ov()|0}function Ny(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;if((F_(n,896)|0)==512){if(i|0){Uy(i);Kk(i)}}else if(t|0)Kk(t);return}function Uy(e){e=e|0;e=o[e+4>>2]|0;if(e|0)Vk(e);return}function Fy(e){e=e|0;Cl(e);return}function Hy(e,t,i){e=e|0;t=t|0;i=i|0;e=Ls(t)|0;t=Wy(i)|0;i=Gy(i,0)|0;xw(e,t,i,zy()|0,0);return}function Wy(e){e=e|0;return e|0}function Gy(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;l=f;f=f+16|0;r=l;a=l+4|0;o[r>>2]=e;u=zy()|0;s=u+24|0;t=Hs(t,4)|0;o[a>>2]=t;i=u+28|0;n=o[i>>2]|0;if(n>>>0<(o[u+32>>2]|0)>>>0){Qy(n,e,t);t=(o[i>>2]|0)+8|0;o[i>>2]=t}else{$y(s,r,a);t=o[i>>2]|0}f=l;return(t-(o[s>>2]|0)>>3)+-1|0}function zy(){var e=0,t=0;if(!(n[7944]|0)){Vy(10568);Be(61,10568,g|0)|0;t=7944;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(10568)|0)){e=10568;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Vy(10568)}return 10568}function Vy(e){e=e|0;Xy(e);return}function Yy(e){e=e|0;qy(e+24|0);return}function qy(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function Xy(e){e=e|0;var t=0;t=$s()|0;il(e,1,17,t,Xc()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Ky(e){e=e|0;return Zy(o[(Jy(e)|0)>>2]|0)|0}function Jy(e){e=e|0;return(o[(zy()|0)+24>>2]|0)+(e<<3)|0}function Zy(e){e=e|0;return Qc(kC[e&7]()|0)|0}function Qy(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;return}function $y(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;r=l;a=e+4|0;s=((o[a>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=ew(e)|0;if(n>>>0<s>>>0)Fk(e);else{u=o[e>>2]|0;d=(o[e+8>>2]|0)-u|0;c=d>>2;tw(r,d>>3>>>0<n>>>1>>>0?c>>>0<s>>>0?s:c:n,(o[a>>2]|0)-u>>3,e+8|0);s=r+8|0;Qy(o[s>>2]|0,o[t>>2]|0,o[i>>2]|0);o[s>>2]=(o[s>>2]|0)+8;iw(e,r);nw(r);f=l;return}}function ew(e){e=e|0;return 536870911}function tw(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>536870911)Xe();else{r=qk(t<<3)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function iw(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>3)<<3)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function nw(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-8-t|0)>>>3)<<3);e=o[e>>2]|0;if(e|0)Kk(e);return}function rw(){ow();return}function ow(){aw(10604);return}function aw(e){e=e|0;sw(e,4955);return}function sw(e,t){e=e|0;t=t|0;var i=0;i=lw()|0;o[e>>2]=i;uw(i,t);cw(o[e>>2]|0);return}function lw(){var e=0;if(!(n[7952]|0)){yw(10612);Be(25,10612,g|0)|0;e=7952;o[e>>2]=1;o[e+4>>2]=0}return 10612}function uw(e,t){e=e|0;t=t|0;o[e>>2]=mw()|0;o[e+4>>2]=_w()|0;o[e+12>>2]=t;o[e+8>>2]=gw()|0;o[e+32>>2]=8;return}function cw(e){e=e|0;var t=0,i=0;t=f;f=f+16|0;i=t;dw()|0;o[i>>2]=e;hw(10608,i);f=t;return}function dw(){if(!(n[11714]|0)){o[2652]=0;Be(62,10608,g|0)|0;n[11714]=1}return 10608}function hw(e,t){e=e|0;t=t|0;var i=0;i=qk(8)|0;o[i+4>>2]=o[t>>2];o[i>>2]=o[e>>2];o[e>>2]=i;return}function pw(e){e=e|0;fw(e);return}function fw(e){e=e|0;var t=0,i=0;t=o[e>>2]|0;if(t|0)do{i=t;t=o[t>>2]|0;Kk(i)}while((t|0)!=0);o[e>>2]=0;return}function mw(){return 11715}function _w(){return 1496}function gw(){return W_()|0}function bw(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;if((F_(n,896)|0)==512){if(i|0){vw(i);Kk(i)}}else if(t|0)Kk(t);return}function vw(e){e=e|0;e=o[e+4>>2]|0;if(e|0)Vk(e);return}function yw(e){e=e|0;Cl(e);return}function ww(e,t){e=e|0;t=t|0;var i=0,n=0;dw()|0;i=o[2652]|0;e:do{if(i|0){while(1){n=o[i+4>>2]|0;if(n|0?(nk(Ew(n)|0,e)|0)==0:0)break;i=o[i>>2]|0;if(!i)break e}Tw(n,t)}}while(0);return}function Ew(e){e=e|0;return o[e+12>>2]|0}function Tw(e,t){e=e|0;t=t|0;var i=0;e=e+36|0;i=o[e>>2]|0;if(i|0){Qr(i);Kk(i)}i=qk(4)|0;ba(i,t);o[e>>2]=i;return}function jw(){if(!(n[11716]|0)){o[2664]=0;Be(63,10656,g|0)|0;n[11716]=1}return 10656}function Mw(){var e=0;if(!(n[11717]|0)){Sw();o[2665]=1504;n[11717]=1;e=1504}else e=o[2665]|0;return e|0}function Sw(){if(!(n[11740]|0)){n[11718]=Hs(Hs(8,0)|0,0)|0;n[11719]=Hs(Hs(0,0)|0,0)|0;n[11720]=Hs(Hs(0,16)|0,0)|0;n[11721]=Hs(Hs(8,0)|0,0)|0;n[11722]=Hs(Hs(0,0)|0,0)|0;n[11723]=Hs(Hs(8,0)|0,0)|0;n[11724]=Hs(Hs(0,0)|0,0)|0;n[11725]=Hs(Hs(8,0)|0,0)|0;n[11726]=Hs(Hs(0,0)|0,0)|0;n[11727]=Hs(Hs(8,0)|0,0)|0;n[11728]=Hs(Hs(0,0)|0,0)|0;n[11729]=Hs(Hs(0,0)|0,32)|0;n[11730]=Hs(Hs(0,0)|0,32)|0;n[11740]=1}return}function kw(){return 1572}function xw(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var a=0,s=0,l=0,u=0,c=0,d=0;a=f;f=f+32|0;d=a+16|0;c=a+12|0;u=a+8|0;l=a+4|0;s=a;o[d>>2]=e;o[c>>2]=t;o[u>>2]=i;o[l>>2]=n;o[s>>2]=r;jw()|0;Cw(10656,d,c,u,l,s);f=a;return}function Cw(e,t,i,n,r,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;a=a|0;var s=0;s=qk(24)|0;Fs(s+4|0,o[t>>2]|0,o[i>>2]|0,o[n>>2]|0,o[r>>2]|0,o[a>>2]|0);o[s>>2]=o[e>>2];o[e>>2]=s;return}function Rw(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0,m=0,_=0,g=0,b=0,v=0,y=0;y=f;f=f+32|0;_=y+20|0;g=y+8|0;b=y+4|0;v=y;t=o[t>>2]|0;if(t|0){m=_+4|0;u=_+8|0;c=g+4|0;d=g+8|0;h=g+8|0;p=_+8|0;do{s=t+4|0;l=Aw(s)|0;if(l|0){r=Lw(l)|0;o[_>>2]=0;o[m>>2]=0;o[u>>2]=0;n=(Ow(l)|0)+1|0;Pw(_,n);if(n|0)while(1){n=n+-1|0;gS(g,o[r>>2]|0);a=o[m>>2]|0;if(a>>>0<(o[p>>2]|0)>>>0){o[a>>2]=o[g>>2];o[m>>2]=(o[m>>2]|0)+4}else Iw(_,g);if(!n)break;else r=r+4|0}n=Bw(l)|0;o[g>>2]=0;o[c>>2]=0;o[d>>2]=0;e:do{if(o[n>>2]|0){r=0;a=0;while(1){if((r|0)==(a|0))Dw(g,n);else{o[r>>2]=o[n>>2];o[c>>2]=(o[c>>2]|0)+4}n=n+4|0;if(!(o[n>>2]|0))break e;r=o[c>>2]|0;a=o[h>>2]|0}}}while(0);o[b>>2]=Nw(s)|0;o[v>>2]=Js(l)|0;Uw(i,e,b,v,_,g);Fw(g);Hw(_)}t=o[t>>2]|0}while((t|0)!=0)}f=y;return}function Aw(e){e=e|0;return o[e+12>>2]|0}function Lw(e){e=e|0;return o[e+12>>2]|0}function Ow(e){e=e|0;return o[e+16>>2]|0}function Pw(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;r=f;f=f+32|0;i=r;n=o[e>>2]|0;if((o[e+8>>2]|0)-n>>2>>>0<t>>>0){yE(i,t,(o[e+4>>2]|0)-n>>2,e+8|0);wE(e,i);EE(i)}f=r;return}function Iw(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0;s=f;f=f+32|0;i=s;n=e+4|0;r=((o[n>>2]|0)-(o[e>>2]|0)>>2)+1|0;a=_E(e)|0;if(a>>>0<r>>>0)Fk(e);else{l=o[e>>2]|0;c=(o[e+8>>2]|0)-l|0;u=c>>1;yE(i,c>>2>>>0<a>>>1>>>0?u>>>0<r>>>0?r:u:a,(o[n>>2]|0)-l>>2,e+8|0);a=i+8|0;o[o[a>>2]>>2]=o[t>>2];o[a>>2]=(o[a>>2]|0)+4;wE(e,i);EE(i);f=s;return}}function Bw(e){e=e|0;return o[e+8>>2]|0}function Dw(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0;s=f;f=f+32|0;i=s;n=e+4|0;r=((o[n>>2]|0)-(o[e>>2]|0)>>2)+1|0;a=pE(e)|0;if(a>>>0<r>>>0)Fk(e);else{l=o[e>>2]|0;c=(o[e+8>>2]|0)-l|0;u=c>>1;gE(i,c>>2>>>0<a>>>1>>>0?u>>>0<r>>>0?r:u:a,(o[n>>2]|0)-l>>2,e+8|0);a=i+8|0;o[o[a>>2]>>2]=o[t>>2];o[a>>2]=(o[a>>2]|0)+4;bE(e,i);vE(i);f=s;return}}function Nw(e){e=e|0;return o[e>>2]|0}function Uw(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;Ww(e,t,i,n,r,o);return}function Fw(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-4-n|0)>>>2)<<2);Kk(i)}return}function Hw(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-4-n|0)>>>2)<<2);Kk(i)}return}function Ww(e,t,i,n,r,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;a=a|0;var s=0,l=0,u=0,c=0,d=0,h=0;s=f;f=f+48|0;d=s+40|0;l=s+32|0;h=s+24|0;u=s+12|0;c=s;TS(l);e=Ea(e)|0;o[h>>2]=o[t>>2];i=o[i>>2]|0;n=o[n>>2]|0;Gw(u,r);zw(c,a);o[d>>2]=o[h>>2];Vw(e,d,i,n,u,c);Fw(c);Hw(u);MS(l);f=s;return}function Gw(e,t){e=e|0;t=t|0;var i=0,n=0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;i=t+4|0;n=(o[i>>2]|0)-(o[t>>2]|0)>>2;if(n|0){fE(e,n);mE(e,o[t>>2]|0,o[i>>2]|0,n)}return}function zw(e,t){e=e|0;t=t|0;var i=0,n=0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;i=t+4|0;n=(o[i>>2]|0)-(o[t>>2]|0)>>2;if(n|0){dE(e,n);hE(e,o[t>>2]|0,o[i>>2]|0,n)}return}function Vw(e,t,i,n,r,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;a=a|0;var s=0,l=0,u=0,c=0,d=0,h=0;s=f;f=f+32|0;d=s+28|0;h=s+24|0;l=s+12|0;u=s;c=Ma(Yw()|0)|0;o[h>>2]=o[t>>2];o[d>>2]=o[h>>2];t=qw(d)|0;i=Xw(i)|0;n=Kw(n)|0;o[l>>2]=o[r>>2];d=r+4|0;o[l+4>>2]=o[d>>2];h=r+8|0;o[l+8>>2]=o[h>>2];o[h>>2]=0;o[d>>2]=0;o[r>>2]=0;r=Jw(l)|0;o[u>>2]=o[a>>2];d=a+4|0;o[u+4>>2]=o[d>>2];h=a+8|0;o[u+8>>2]=o[h>>2];o[h>>2]=0;o[d>>2]=0;o[a>>2]=0;Re(0,c|0,e|0,t|0,i|0,n|0,r|0,Zw(u)|0)|0;Fw(u);Hw(l);f=s;return}function Yw(){var e=0;if(!(n[7968]|0)){uE(10708);e=7968;o[e>>2]=1;o[e+4>>2]=0}return 10708}function qw(e){e=e|0;return tE(e)|0}function Xw(e){e=e|0;return $w(e)|0}function Kw(e){e=e|0;return Qc(e)|0}function Jw(e){e=e|0;return eE(e)|0}function Zw(e){e=e|0;return Qw(e)|0}function Qw(e){e=e|0;var t=0,i=0,n=0;n=(o[e+4>>2]|0)-(o[e>>2]|0)|0;i=n>>2;n=FT(n+4|0)|0;o[n>>2]=i;if(i|0){t=0;do{o[n+4+(t<<2)>>2]=$w(o[(o[e>>2]|0)+(t<<2)>>2]|0)|0;t=t+1|0}while((t|0)!=(i|0))}return n|0}function $w(e){e=e|0;return e|0}function eE(e){e=e|0;var t=0,i=0,n=0;n=(o[e+4>>2]|0)-(o[e>>2]|0)|0;i=n>>2;n=FT(n+4|0)|0;o[n>>2]=i;if(i|0){t=0;do{o[n+4+(t<<2)>>2]=tE((o[e>>2]|0)+(t<<2)|0)|0;t=t+1|0}while((t|0)!=(i|0))}return n|0}function tE(e){e=e|0;var t=0,i=0,n=0,r=0;r=f;f=f+32|0;t=r+12|0;i=r;n=sl(iE()|0)|0;if(!n)e=nE(e)|0;else{ll(t,n);ul(i,t);yS(e,i);e=dl(t)|0}f=r;return e|0}function iE(){var e=0;if(!(n[7960]|0)){lE(10664);Be(25,10664,g|0)|0;e=7960;o[e>>2]=1;o[e+4>>2]=0}return 10664}function nE(e){e=e|0;var t=0,i=0,n=0,r=0,a=0,s=0,l=0;i=f;f=f+16|0;r=i+4|0;s=i;n=FT(8)|0;t=n;l=qk(4)|0;o[l>>2]=o[e>>2];a=t+4|0;o[a>>2]=l;e=qk(8)|0;a=o[a>>2]|0;o[s>>2]=0;o[r>>2]=o[s>>2];rE(e,a,r);o[n>>2]=e;f=i;return t|0}function rE(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;i=qk(16)|0;o[i+4>>2]=0;o[i+8>>2]=0;o[i>>2]=1656;o[i+12>>2]=t;o[e+4>>2]=i;return}function oE(e){e=e|0;Hk(e);Kk(e);return}function aE(e){e=e|0;e=o[e+12>>2]|0;if(e|0)Kk(e);return}function sE(e){e=e|0;Kk(e);return}function lE(e){e=e|0;Cl(e);return}function uE(e){e=e|0;Da(e,cE()|0,5);return}function cE(){return 1676}function dE(e,t){e=e|0;t=t|0;var i=0;if((pE(e)|0)>>>0<t>>>0)Fk(e);if(t>>>0>1073741823)Xe();else{i=qk(t<<2)|0;o[e+4>>2]=i;o[e>>2]=i;o[e+8>>2]=i+(t<<2);return}}function hE(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;n=e+4|0;e=i-t|0;if((e|0)>0){rx(o[n>>2]|0,t|0,e|0)|0;o[n>>2]=(o[n>>2]|0)+(e>>>2<<2)}return}function pE(e){e=e|0;return 1073741823}function fE(e,t){e=e|0;t=t|0;var i=0;if((_E(e)|0)>>>0<t>>>0)Fk(e);if(t>>>0>1073741823)Xe();else{i=qk(t<<2)|0;o[e+4>>2]=i;o[e>>2]=i;o[e+8>>2]=i+(t<<2);return}}function mE(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;n=e+4|0;e=i-t|0;if((e|0)>0){rx(o[n>>2]|0,t|0,e|0)|0;o[n>>2]=(o[n>>2]|0)+(e>>>2<<2)}return}function _E(e){e=e|0;return 1073741823}function gE(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>1073741823)Xe();else{r=qk(t<<2)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<2)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<2);return}function bE(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>2)<<2)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function vE(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-4-t|0)>>>2)<<2);e=o[e>>2]|0;if(e|0)Kk(e);return}function yE(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>1073741823)Xe();else{r=qk(t<<2)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<2)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<2);return}function wE(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>2)<<2)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function EE(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-4-t|0)>>>2)<<2);e=o[e>>2]|0;if(e|0)Kk(e);return}function TE(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0,m=0,_=0,g=0;g=f;f=f+32|0;d=g+20|0;h=g+12|0;c=g+16|0;p=g+4|0;m=g;_=g+8|0;l=Mw()|0;a=o[l>>2]|0;s=o[a>>2]|0;if(s|0){u=o[l+8>>2]|0;l=o[l+4>>2]|0;while(1){gS(d,s);jE(e,d,l,u);a=a+4|0;s=o[a>>2]|0;if(!s)break;else{u=u+1|0;l=l+1|0}}}a=kw()|0;s=o[a>>2]|0;if(s|0)do{gS(d,s);o[h>>2]=o[a+4>>2];ME(t,d,h);a=a+8|0;s=o[a>>2]|0}while((s|0)!=0);a=o[(dw()|0)>>2]|0;if(a|0)do{t=o[a+4>>2]|0;gS(d,o[(SE(t)|0)>>2]|0);o[h>>2]=Ew(t)|0;kE(i,d,h);a=o[a>>2]|0}while((a|0)!=0);gS(c,0);a=jw()|0;o[d>>2]=o[c>>2];Rw(d,a,r);a=o[(dw()|0)>>2]|0;if(a|0){e=d+4|0;t=d+8|0;i=d+8|0;do{u=o[a+4>>2]|0;gS(h,o[(SE(u)|0)>>2]|0);CE(p,xE(u)|0);s=o[p>>2]|0;if(s|0){o[d>>2]=0;o[e>>2]=0;o[t>>2]=0;do{gS(m,o[(SE(o[s+4>>2]|0)|0)>>2]|0);l=o[e>>2]|0;if(l>>>0<(o[i>>2]|0)>>>0){o[l>>2]=o[m>>2];o[e>>2]=(o[e>>2]|0)+4}else Iw(d,m);s=o[s>>2]|0}while((s|0)!=0);RE(n,h,d);Hw(d)}o[_>>2]=o[h>>2];c=AE(u)|0;o[d>>2]=o[_>>2];Rw(d,c,r);Sl(p);a=o[a>>2]|0}while((a|0)!=0)}f=g;return}function jE(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;VE(e,t,i,n);return}function ME(e,t,i){e=e|0;t=t|0;i=i|0;zE(e,t,i);return}function SE(e){e=e|0;return e|0}function kE(e,t,i){e=e|0;t=t|0;i=i|0;UE(e,t,i);return}function xE(e){e=e|0;return e+16|0}function CE(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;a=f;f=f+16|0;r=a+8|0;i=a;o[e>>2]=0;n=o[t>>2]|0;o[r>>2]=n;o[i>>2]=e;i=DE(i)|0;if(n|0){n=qk(12)|0;s=(NE(r)|0)+4|0;e=o[s+4>>2]|0;t=n+4|0;o[t>>2]=o[s>>2];o[t+4>>2]=e;t=o[o[r>>2]>>2]|0;o[r>>2]=t;if(!t)e=n;else{t=n;while(1){e=qk(12)|0;u=(NE(r)|0)+4|0;l=o[u+4>>2]|0;s=e+4|0;o[s>>2]=o[u>>2];o[s+4>>2]=l;o[t>>2]=e;s=o[o[r>>2]>>2]|0;o[r>>2]=s;if(!s)break;else t=e}}o[e>>2]=o[i>>2];o[i>>2]=n}f=a;return}function RE(e,t,i){e=e|0;t=t|0;i=i|0;LE(e,t,i);return}function AE(e){e=e|0;return e+24|0}function LE(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+32|0;s=n+24|0;r=n+16|0;l=n+12|0;a=n;TS(r);e=Ea(e)|0;o[l>>2]=o[t>>2];Gw(a,i);o[s>>2]=o[l>>2];OE(e,s,a);Hw(a);MS(r);f=n;return}function OE(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0;n=f;f=f+32|0;s=n+16|0;l=n+12|0;r=n;a=Ma(PE()|0)|0;o[l>>2]=o[t>>2];o[s>>2]=o[l>>2];t=qw(s)|0;o[r>>2]=o[i>>2];s=i+4|0;o[r+4>>2]=o[s>>2];l=i+8|0;o[r+8>>2]=o[l>>2];o[l>>2]=0;o[s>>2]=0;o[i>>2]=0;Se(0,a|0,e|0,t|0,Jw(r)|0)|0;Hw(r);f=n;return}function PE(){var e=0;if(!(n[7976]|0)){IE(10720);e=7976;o[e>>2]=1;o[e+4>>2]=0}return 10720}function IE(e){e=e|0;Da(e,BE()|0,2);return}function BE(){return 1732}function DE(e){e=e|0;return o[e>>2]|0}function NE(e){e=e|0;return o[e>>2]|0}function UE(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+32|0;a=n+16|0;r=n+8|0;s=n;TS(r);e=Ea(e)|0;o[s>>2]=o[t>>2];i=o[i>>2]|0;o[a>>2]=o[s>>2];FE(e,a,i);MS(r);f=n;return}function FE(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+16|0;a=n+4|0;s=n;r=Ma(HE()|0)|0;o[s>>2]=o[t>>2];o[a>>2]=o[s>>2];t=qw(a)|0;Se(0,r|0,e|0,t|0,Xw(i)|0)|0;f=n;return}function HE(){var e=0;if(!(n[7984]|0)){WE(10732);e=7984;o[e>>2]=1;o[e+4>>2]=0}return 10732}function WE(e){e=e|0;Da(e,GE()|0,2);return}function GE(){return 1744}function zE(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0;n=f;f=f+32|0;a=n+16|0;r=n+8|0;s=n;TS(r);e=Ea(e)|0;o[s>>2]=o[t>>2];i=o[i>>2]|0;o[a>>2]=o[s>>2];FE(e,a,i);MS(r);f=n;return}function VE(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,s=0,l=0,u=0;a=f;f=f+32|0;l=a+16|0;s=a+8|0;u=a;TS(s);e=Ea(e)|0;o[u>>2]=o[t>>2];i=n[i>>0]|0;r=n[r>>0]|0;o[l>>2]=o[u>>2];YE(e,l,i,r);MS(s);f=a;return}function YE(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0;r=f;f=f+16|0;s=r+4|0;l=r;a=Ma(qE()|0)|0;o[l>>2]=o[t>>2];o[s>>2]=o[l>>2];t=qw(s)|0;i=XE(i)|0;it(0,a|0,e|0,t|0,i|0,XE(n)|0)|0;f=r;return}function qE(){var e=0;if(!(n[7992]|0)){JE(10744);e=7992;o[e>>2]=1;o[e+4>>2]=0}return 10744}function XE(e){e=e|0;return KE(e)|0}function KE(e){e=e|0;return e&255|0}function JE(e){e=e|0;Da(e,ZE()|0,3);return}function ZE(){return 1756}function QE(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0,m=0;m=f;f=f+32|0;u=m+8|0;c=m+4|0;d=m+20|0;h=m;zu(e,0);r=vS(t)|0;o[u>>2]=0;p=u+4|0;o[p>>2]=0;o[u+8>>2]=0;switch(r<<24>>24){case 0:{n[d>>0]=0;$E(c,i,d);eT(e,c)|0;$r(c);break}case 8:{p=bS(t)|0;n[d>>0]=8;gS(h,o[p+4>>2]|0);tT(c,i,d,h,p+8|0);eT(e,c)|0;$r(c);break}case 9:{s=bS(t)|0;t=o[s+4>>2]|0;if(t|0){l=u+8|0;a=s+12|0;while(1){t=t+-1|0;gS(c,o[a>>2]|0);r=o[p>>2]|0;if(r>>>0<(o[l>>2]|0)>>>0){o[r>>2]=o[c>>2];o[p>>2]=(o[p>>2]|0)+4}else Iw(u,c);if(!t)break;else a=a+4|0}}n[d>>0]=9;gS(h,o[s+8>>2]|0);iT(c,i,d,h,u);eT(e,c)|0;$r(c);break}default:{p=bS(t)|0;n[d>>0]=r;gS(h,o[p+4>>2]|0);nT(c,i,d,h);eT(e,c)|0;$r(c)}}Hw(u);f=m;return}function $E(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,o=0;r=f;f=f+16|0;o=r;TS(o);t=Ea(t)|0;gT(e,t,n[i>>0]|0);MS(o);f=r;return}function eT(e,t){e=e|0;t=t|0;var i=0;i=o[e>>2]|0;if(i|0)nt(i|0);o[e>>2]=o[t>>2];o[t>>2]=0;return e|0}function tT(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;var s=0,l=0,u=0,c=0;s=f;f=f+32|0;u=s+16|0;l=s+8|0;c=s;TS(l);t=Ea(t)|0;i=n[i>>0]|0;o[c>>2]=o[r>>2];a=o[a>>2]|0;o[u>>2]=o[c>>2];pT(e,t,i,u,a);MS(l);f=s;return}function iT(e,t,i,r,a){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;var s=0,l=0,u=0,c=0,d=0;s=f;f=f+32|0;c=s+24|0;l=s+16|0;d=s+12|0;u=s;TS(l);t=Ea(t)|0;i=n[i>>0]|0;o[d>>2]=o[r>>2];Gw(u,a);o[c>>2]=o[d>>2];uT(e,t,i,c,u);Hw(u);MS(l);f=s;return}function nT(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,s=0,l=0,u=0;a=f;f=f+32|0;l=a+16|0;s=a+8|0;u=a;TS(s);t=Ea(t)|0;i=n[i>>0]|0;o[u>>2]=o[r>>2];o[l>>2]=o[u>>2];rT(e,t,i,l);MS(s);f=a;return}function rT(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,s=0,l=0;r=f;f=f+16|0;a=r+4|0;l=r;s=Ma(oT()|0)|0;i=XE(i)|0;o[l>>2]=o[n>>2];o[a>>2]=o[l>>2];aT(e,Se(0,s|0,t|0,i|0,qw(a)|0)|0);f=r;return}function oT(){var e=0;if(!(n[8e3]|0)){sT(10756);e=8e3;o[e>>2]=1;o[e+4>>2]=0}return 10756}function aT(e,t){e=e|0;t=t|0;zu(e,t);return}function sT(e){e=e|0;Da(e,lT()|0,2);return}function lT(){return 1772}function uT(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var a=0,s=0,l=0,u=0,c=0;a=f;f=f+32|0;u=a+16|0;c=a+12|0;s=a;l=Ma(cT()|0)|0;i=XE(i)|0;o[c>>2]=o[n>>2];o[u>>2]=o[c>>2];n=qw(u)|0;o[s>>2]=o[r>>2];u=r+4|0;o[s+4>>2]=o[u>>2];c=r+8|0;o[s+8>>2]=o[c>>2];o[c>>2]=0;o[u>>2]=0;o[r>>2]=0;aT(e,it(0,l|0,t|0,i|0,n|0,Jw(s)|0)|0);Hw(s);f=a;return}function cT(){var e=0;if(!(n[8008]|0)){dT(10768);e=8008;o[e>>2]=1;o[e+4>>2]=0}return 10768}function dT(e){e=e|0;Da(e,hT()|0,3);return}function hT(){return 1784}function pT(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var a=0,s=0,l=0,u=0;a=f;f=f+16|0;l=a+4|0;u=a;s=Ma(fT()|0)|0;i=XE(i)|0;o[u>>2]=o[n>>2];o[l>>2]=o[u>>2];n=qw(l)|0;aT(e,it(0,s|0,t|0,i|0,n|0,Kw(r)|0)|0);f=a;return}function fT(){var e=0;if(!(n[8016]|0)){mT(10780);e=8016;o[e>>2]=1;o[e+4>>2]=0}return 10780}function mT(e){e=e|0;Da(e,_T()|0,3);return}function _T(){return 1800}function gT(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=Ma(bT()|0)|0;aT(e,rt(0,n|0,t|0,XE(i)|0)|0);return}function bT(){var e=0;if(!(n[8024]|0)){vT(10792);e=8024;o[e>>2]=1;o[e+4>>2]=0}return 10792}function vT(e){e=e|0;Da(e,yT()|0,1);return}function yT(){return 1816}function wT(){ET();TT();jT();return}function ET(){o[2702]=Xk(65536)|0;return}function TT(){qT(10856);return}function jT(){MT(10816);return}function MT(e){e=e|0;ST(e,5044);kT(e)|0;return}function ST(e,t){e=e|0;t=t|0;var i=0;i=iE()|0;o[e>>2]=i;HT(i,t);cw(o[e>>2]|0);return}function kT(e){e=e|0;var t=0;t=o[e>>2]|0;nv(t,xT()|0);return e|0}function xT(){var e=0;if(!(n[8032]|0)){CT(10820);Be(64,10820,g|0)|0;e=8032;o[e>>2]=1;o[e+4>>2]=0}if(!(Js(10820)|0))CT(10820);return 10820}function CT(e){e=e|0;LT(e);uv(e,25);return}function RT(e){e=e|0;AT(e+24|0);return}function AT(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function LT(e){e=e|0;var t=0;t=$s()|0;il(e,5,18,t,DT()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function OT(e,t){e=e|0;t=t|0;PT(e,t);return}function PT(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;i=f;f=f+16|0;n=i;r=i+4|0;cc(r,t);o[n>>2]=dc(r,t)|0;IT(e,n);f=i;return}function IT(e,t){e=e|0;t=t|0;BT(e+4|0,o[t>>2]|0);n[e+8>>0]=1;return}function BT(e,t){e=e|0;t=t|0;o[e>>2]=t;return}function DT(){return 1824}function NT(e){e=e|0;return UT(e)|0}function UT(e){e=e|0;var t=0,i=0,n=0,r=0,a=0,s=0,l=0;i=f;f=f+16|0;r=i+4|0;s=i;n=FT(8)|0;t=n;l=qk(4)|0;cc(r,e);BT(l,dc(r,e)|0);a=t+4|0;o[a>>2]=l;e=qk(8)|0;a=o[a>>2]|0;o[s>>2]=0;o[r>>2]=o[s>>2];rE(e,a,r);o[n>>2]=e;f=i;return t|0}function FT(e){e=e|0;var t=0,i=0;e=e+7&-8;if(e>>>0<=32768?(t=o[2701]|0,e>>>0<=(65536-t|0)>>>0):0){i=(o[2702]|0)+t|0;o[2701]=t+e;e=i}else{e=Xk(e+8|0)|0;o[e>>2]=o[2703];o[2703]=e;e=e+8|0}return e|0}function HT(e,t){e=e|0;t=t|0;o[e>>2]=WT()|0;o[e+4>>2]=GT()|0;o[e+12>>2]=t;o[e+8>>2]=zT()|0;o[e+32>>2]=9;return}function WT(){return 11744}function GT(){return 1832}function zT(){return Ov()|0}function VT(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;if((F_(n,896)|0)==512){if(i|0){YT(i);Kk(i)}}else if(t|0)Kk(t);return}function YT(e){e=e|0;e=o[e+4>>2]|0;if(e|0)Vk(e);return}function qT(e){e=e|0;XT(e,5052);KT(e)|0;JT(e,5058,26)|0;ZT(e,5069,1)|0;QT(e,5077,10)|0;$T(e,5087,19)|0;tj(e,5094,27)|0;return}function XT(e,t){e=e|0;t=t|0;var i=0;i=uS()|0;o[e>>2]=i;cS(i,t);cw(o[e>>2]|0);return}function KT(e){e=e|0;var t=0;t=o[e>>2]|0;nv(t,XM()|0);return e|0}function JT(e,t,i){e=e|0;t=t|0;i=i|0;kM(e,Ls(t)|0,i,0);return e|0}function ZT(e,t,i){e=e|0;t=t|0;i=i|0;uM(e,Ls(t)|0,i,0);return e|0}function QT(e,t,i){e=e|0;t=t|0;i=i|0;Nj(e,Ls(t)|0,i,0);return e|0}function $T(e,t,i){e=e|0;t=t|0;i=i|0;yj(e,Ls(t)|0,i,0);return e|0}function ej(e,t){e=e|0;t=t|0;var i=0,n=0;e:while(1){i=o[2703]|0;while(1){if((i|0)==(t|0))break e;n=o[i>>2]|0;o[2703]=n;if(!i)i=n;else break}Kk(i)}o[2701]=e;return}function tj(e,t,i){e=e|0;t=t|0;i=i|0;ij(e,Ls(t)|0,i,0);return e|0}function ij(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=o[e>>2]|0;r=nj()|0;e=rj(i)|0;Ds(a,t,r,e,oj(i,n)|0,n);return}function nj(){var e=0,t=0;if(!(n[8040]|0)){hj(10860);Be(65,10860,g|0)|0;t=8040;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(10860)|0)){e=10860;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));hj(10860)}return 10860}function rj(e){e=e|0;return e|0}function oj(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;l=f;f=f+16|0;r=l;a=l+4|0;o[r>>2]=e;u=nj()|0;s=u+24|0;t=Hs(t,4)|0;o[a>>2]=t;i=u+28|0;n=o[i>>2]|0;if(n>>>0<(o[u+32>>2]|0)>>>0){aj(n,e,t);t=(o[i>>2]|0)+8|0;o[i>>2]=t}else{sj(s,r,a);t=o[i>>2]|0}f=l;return(t-(o[s>>2]|0)>>3)+-1|0}function aj(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;return}function sj(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;r=l;a=e+4|0;s=((o[a>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=lj(e)|0;if(n>>>0<s>>>0)Fk(e);else{u=o[e>>2]|0;d=(o[e+8>>2]|0)-u|0;c=d>>2;uj(r,d>>3>>>0<n>>>1>>>0?c>>>0<s>>>0?s:c:n,(o[a>>2]|0)-u>>3,e+8|0);s=r+8|0;aj(o[s>>2]|0,o[t>>2]|0,o[i>>2]|0);o[s>>2]=(o[s>>2]|0)+8;cj(e,r);dj(r);f=l;return}}function lj(e){e=e|0;return 536870911}function uj(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>536870911)Xe();else{r=qk(t<<3)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function cj(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>3)<<3)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function dj(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-8-t|0)>>>3)<<3);e=o[e>>2]|0;if(e|0)Kk(e);return}function hj(e){e=e|0;mj(e);return}function pj(e){e=e|0;fj(e+24|0);return}function fj(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function mj(e){e=e|0;var t=0;t=$s()|0;il(e,1,11,t,_j()|0,2);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function _j(){return 1840}function gj(e,t,i){e=e|0;t=t|0;i=i|0;vj(o[(bj(e)|0)>>2]|0,t,i);return}function bj(e){e=e|0;return(o[(nj()|0)+24>>2]|0)+(e<<3)|0}function vj(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,o=0;n=f;f=f+16|0;o=n+1|0;r=n;cc(o,t);t=dc(o,t)|0;cc(r,i);i=dc(r,i)|0;mC[e&31](t,i);f=n;return}function yj(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=o[e>>2]|0;r=wj()|0;e=Ej(i)|0;Ds(a,t,r,e,Tj(i,n)|0,n);return}function wj(){var e=0,t=0;if(!(n[8048]|0)){Rj(10896);Be(66,10896,g|0)|0;t=8048;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(10896)|0)){e=10896;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Rj(10896)}return 10896}function Ej(e){e=e|0;return e|0}function Tj(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;l=f;f=f+16|0;r=l;a=l+4|0;o[r>>2]=e;u=wj()|0;s=u+24|0;t=Hs(t,4)|0;o[a>>2]=t;i=u+28|0;n=o[i>>2]|0;if(n>>>0<(o[u+32>>2]|0)>>>0){jj(n,e,t);t=(o[i>>2]|0)+8|0;o[i>>2]=t}else{Mj(s,r,a);t=o[i>>2]|0}f=l;return(t-(o[s>>2]|0)>>3)+-1|0}function jj(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;return}function Mj(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;r=l;a=e+4|0;s=((o[a>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=Sj(e)|0;if(n>>>0<s>>>0)Fk(e);else{u=o[e>>2]|0;d=(o[e+8>>2]|0)-u|0;c=d>>2;kj(r,d>>3>>>0<n>>>1>>>0?c>>>0<s>>>0?s:c:n,(o[a>>2]|0)-u>>3,e+8|0);s=r+8|0;jj(o[s>>2]|0,o[t>>2]|0,o[i>>2]|0);o[s>>2]=(o[s>>2]|0)+8;xj(e,r);Cj(r);f=l;return}}function Sj(e){e=e|0;return 536870911}function kj(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>536870911)Xe();else{r=qk(t<<3)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function xj(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>3)<<3)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function Cj(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-8-t|0)>>>3)<<3);e=o[e>>2]|0;if(e|0)Kk(e);return}function Rj(e){e=e|0;Oj(e);return}function Aj(e){e=e|0;Lj(e+24|0);return}function Lj(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function Oj(e){e=e|0;var t=0;t=$s()|0;il(e,1,11,t,Pj()|0,1);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Pj(){return 1852}function Ij(e,t){e=e|0;t=t|0;return Dj(o[(Bj(e)|0)>>2]|0,t)|0}function Bj(e){e=e|0;return(o[(wj()|0)+24>>2]|0)+(e<<3)|0}function Dj(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;cc(n,t);t=dc(n,t)|0;t=Qc(_C[e&31](t)|0)|0;f=i;return t|0}function Nj(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=o[e>>2]|0;r=Uj()|0;e=Fj(i)|0;Ds(a,t,r,e,Hj(i,n)|0,n);return}function Uj(){var e=0,t=0;if(!(n[8056]|0)){Xj(10932);Be(67,10932,g|0)|0;t=8056;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(10932)|0)){e=10932;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));Xj(10932)}return 10932}function Fj(e){e=e|0;return e|0}function Hj(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;l=f;f=f+16|0;r=l;a=l+4|0;o[r>>2]=e;u=Uj()|0;s=u+24|0;t=Hs(t,4)|0;o[a>>2]=t;i=u+28|0;n=o[i>>2]|0;if(n>>>0<(o[u+32>>2]|0)>>>0){Wj(n,e,t);t=(o[i>>2]|0)+8|0;o[i>>2]=t}else{Gj(s,r,a);t=o[i>>2]|0}f=l;return(t-(o[s>>2]|0)>>3)+-1|0}function Wj(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;return}function Gj(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;r=l;a=e+4|0;s=((o[a>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=zj(e)|0;if(n>>>0<s>>>0)Fk(e);else{u=o[e>>2]|0;d=(o[e+8>>2]|0)-u|0;c=d>>2;Vj(r,d>>3>>>0<n>>>1>>>0?c>>>0<s>>>0?s:c:n,(o[a>>2]|0)-u>>3,e+8|0);s=r+8|0;Wj(o[s>>2]|0,o[t>>2]|0,o[i>>2]|0);o[s>>2]=(o[s>>2]|0)+8;Yj(e,r);qj(r);f=l;return}}function zj(e){e=e|0;return 536870911}function Vj(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>536870911)Xe();else{r=qk(t<<3)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function Yj(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>3)<<3)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function qj(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-8-t|0)>>>3)<<3);e=o[e>>2]|0;if(e|0)Kk(e);return}function Xj(e){e=e|0;Zj(e);return}function Kj(e){e=e|0;Jj(e+24|0);return}function Jj(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function Zj(e){e=e|0;var t=0;t=$s()|0;il(e,1,7,t,Qj()|0,2);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function Qj(){return 1860}function $j(e,t,i){e=e|0;t=t|0;i=i|0;return tM(o[(eM(e)|0)>>2]|0,t,i)|0}function eM(e){e=e|0;return(o[(Uj()|0)+24>>2]|0)+(e<<3)|0}function tM(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0;n=f;f=f+32|0;s=n+12|0;a=n+8|0;l=n;u=n+16|0;r=n+4|0;iM(u,t);nM(l,u,t);Fu(r,i);i=Hu(r,i)|0;o[s>>2]=o[l>>2];AC[e&15](a,s,i);i=rM(a)|0;$r(a);Wu(r);f=n;return i|0}function iM(e,t){e=e|0;t=t|0;return}function nM(e,t,i){e=e|0;t=t|0;i=i|0;oM(e,i);return}function rM(e){e=e|0;return Ea(e)|0}function oM(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;r=f;f=f+16|0;i=r;n=t;if(!(n&1))o[e>>2]=o[t>>2];else{aM(i,0);Ne(n|0,i|0)|0;sM(e,i);lM(i)}f=r;return}function aM(e,t){e=e|0;t=t|0;La(e,t);o[e+4>>2]=0;n[e+8>>0]=0;return}function sM(e,t){e=e|0;t=t|0;o[e>>2]=o[t+4>>2];return}function lM(e){e=e|0;n[e+8>>0]=0;return}function uM(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=o[e>>2]|0;r=cM()|0;e=dM(i)|0;Ds(a,t,r,e,hM(i,n)|0,n);return}function cM(){var e=0,t=0;if(!(n[8064]|0)){vM(10968);Be(68,10968,g|0)|0;t=8064;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(10968)|0)){e=10968;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));vM(10968)}return 10968}function dM(e){e=e|0;return e|0}function hM(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;l=f;f=f+16|0;r=l;a=l+4|0;o[r>>2]=e;u=cM()|0;s=u+24|0;t=Hs(t,4)|0;o[a>>2]=t;i=u+28|0;n=o[i>>2]|0;if(n>>>0<(o[u+32>>2]|0)>>>0){pM(n,e,t);t=(o[i>>2]|0)+8|0;o[i>>2]=t}else{fM(s,r,a);t=o[i>>2]|0}f=l;return(t-(o[s>>2]|0)>>3)+-1|0}function pM(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;return}function fM(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;r=l;a=e+4|0;s=((o[a>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=mM(e)|0;if(n>>>0<s>>>0)Fk(e);else{u=o[e>>2]|0;d=(o[e+8>>2]|0)-u|0;c=d>>2;_M(r,d>>3>>>0<n>>>1>>>0?c>>>0<s>>>0?s:c:n,(o[a>>2]|0)-u>>3,e+8|0);s=r+8|0;pM(o[s>>2]|0,o[t>>2]|0,o[i>>2]|0);o[s>>2]=(o[s>>2]|0)+8;gM(e,r);bM(r);f=l;return}}function mM(e){e=e|0;return 536870911}function _M(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>536870911)Xe();else{r=qk(t<<3)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function gM(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>3)<<3)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function bM(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-8-t|0)>>>3)<<3);e=o[e>>2]|0;if(e|0)Kk(e);return}function vM(e){e=e|0;EM(e);return}function yM(e){e=e|0;wM(e+24|0);return}function wM(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function EM(e){e=e|0;var t=0;t=$s()|0;il(e,1,1,t,TM()|0,5);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function TM(){return 1872}function jM(e,t,i,n,r,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;a=a|0;SM(o[(MM(e)|0)>>2]|0,t,i,n,r,a);return}function MM(e){e=e|0;return(o[(cM()|0)+24>>2]|0)+(e<<3)|0}function SM(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;var a=0,s=0,l=0,u=0,c=0,d=0;a=f;f=f+32|0;s=a+16|0;l=a+12|0;u=a+8|0;c=a+4|0;d=a;Fu(s,t);t=Hu(s,t)|0;Fu(l,i);i=Hu(l,i)|0;Fu(u,n);n=Hu(u,n)|0;Fu(c,r);r=Hu(c,r)|0;Fu(d,o);o=Hu(d,o)|0;cC[e&1](t,i,n,r,o);Wu(d);Wu(c);Wu(u);Wu(l);Wu(s);f=a;return}function kM(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=o[e>>2]|0;r=xM()|0;e=CM(i)|0;Ds(a,t,r,e,RM(i,n)|0,n);return}function xM(){var e=0,t=0;if(!(n[8072]|0)){DM(11004);Be(69,11004,g|0)|0;t=8072;o[t>>2]=1;o[t+4>>2]=0}if(!(Js(11004)|0)){e=11004;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));DM(11004)}return 11004}function CM(e){e=e|0;return e|0}function RM(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0,l=0,u=0;l=f;f=f+16|0;r=l;a=l+4|0;o[r>>2]=e;u=xM()|0;s=u+24|0;t=Hs(t,4)|0;o[a>>2]=t;i=u+28|0;n=o[i>>2]|0;if(n>>>0<(o[u+32>>2]|0)>>>0){AM(n,e,t);t=(o[i>>2]|0)+8|0;o[i>>2]=t}else{LM(s,r,a);t=o[i>>2]|0}f=l;return(t-(o[s>>2]|0)>>3)+-1|0}function AM(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;o[e+4>>2]=i;return}function LM(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0;l=f;f=f+32|0;r=l;a=e+4|0;s=((o[a>>2]|0)-(o[e>>2]|0)>>3)+1|0;n=OM(e)|0;if(n>>>0<s>>>0)Fk(e);else{u=o[e>>2]|0;d=(o[e+8>>2]|0)-u|0;c=d>>2;PM(r,d>>3>>>0<n>>>1>>>0?c>>>0<s>>>0?s:c:n,(o[a>>2]|0)-u>>3,e+8|0);s=r+8|0;AM(o[s>>2]|0,o[t>>2]|0,o[i>>2]|0);o[s>>2]=(o[s>>2]|0)+8;IM(e,r);BM(r);f=l;return}}function OM(e){e=e|0;return 536870911}function PM(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;o[e+12>>2]=0;o[e+16>>2]=n;do{if(t){if(t>>>0>536870911)Xe();else{r=qk(t<<3)|0;break}}else r=0}while(0);o[e>>2]=r;n=r+(i<<3)|0;o[e+8>>2]=n;o[e+4>>2]=n;o[e+12>>2]=r+(t<<3);return}function IM(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,s=0;n=o[e>>2]|0;s=e+4|0;a=t+4|0;r=(o[s>>2]|0)-n|0;i=(o[a>>2]|0)+(0-(r>>3)<<3)|0;o[a>>2]=i;if((r|0)>0){rx(i|0,n|0,r|0)|0;n=a;i=o[a>>2]|0}else n=a;a=o[e>>2]|0;o[e>>2]=i;o[n>>2]=a;a=t+8|0;r=o[s>>2]|0;o[s>>2]=o[a>>2];o[a>>2]=r;a=e+8|0;s=t+12|0;e=o[a>>2]|0;o[a>>2]=o[s>>2];o[s>>2]=e;o[t>>2]=o[n>>2];return}function BM(e){e=e|0;var t=0,i=0,n=0;t=o[e+4>>2]|0;i=e+8|0;n=o[i>>2]|0;if((n|0)!=(t|0))o[i>>2]=n+(~((n+-8-t|0)>>>3)<<3);e=o[e>>2]|0;if(e|0)Kk(e);return}function DM(e){e=e|0;FM(e);return}function NM(e){e=e|0;UM(e+24|0);return}function UM(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function FM(e){e=e|0;var t=0;t=$s()|0;il(e,1,12,t,HM()|0,2);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function HM(){return 1896}function WM(e,t,i){e=e|0;t=t|0;i=i|0;zM(o[(GM(e)|0)>>2]|0,t,i);return}function GM(e){e=e|0;return(o[(xM()|0)+24>>2]|0)+(e<<3)|0}function zM(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,o=0;n=f;f=f+16|0;o=n+4|0;r=n;VM(o,t);t=YM(o,t)|0;Fu(r,i);i=Hu(r,i)|0;mC[e&31](t,i);Wu(r);f=n;return}function VM(e,t){e=e|0;t=t|0;return}function YM(e,t){e=e|0;t=t|0;return qM(t)|0}function qM(e){e=e|0;return e|0}function XM(){var e=0;if(!(n[8080]|0)){KM(11040);Be(70,11040,g|0)|0;e=8080;o[e>>2]=1;o[e+4>>2]=0}if(!(Js(11040)|0))KM(11040);return 11040}function KM(e){e=e|0;QM(e);uv(e,71);return}function JM(e){e=e|0;ZM(e+24|0);return}function ZM(e){e=e|0;var t=0,i=0,n=0;i=o[e>>2]|0;n=i;if(i|0){e=e+4|0;t=o[e>>2]|0;if((t|0)!=(i|0))o[e>>2]=t+(~((t+-8-n|0)>>>3)<<3);Kk(i)}return}function QM(e){e=e|0;var t=0;t=$s()|0;il(e,5,7,t,iS()|0,0);o[e+24>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;return}function $M(e){e=e|0;eS(e);return}function eS(e){e=e|0;tS(e);return}function tS(e){e=e|0;n[e+8>>0]=1;return}function iS(){return 1936}function nS(){return rS()|0}function rS(){var e=0,t=0,i=0,n=0,r=0,a=0,s=0;t=f;f=f+16|0;r=t+4|0;s=t;i=FT(8)|0;e=i;a=e+4|0;o[a>>2]=qk(1)|0;n=qk(8)|0;a=o[a>>2]|0;o[s>>2]=0;o[r>>2]=o[s>>2];oS(n,a,r);o[i>>2]=n;f=t;return e|0}function oS(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=t;i=qk(16)|0;o[i+4>>2]=0;o[i+8>>2]=0;o[i>>2]=1916;o[i+12>>2]=t;o[e+4>>2]=i;return}function aS(e){e=e|0;Hk(e);Kk(e);return}function sS(e){e=e|0;e=o[e+12>>2]|0;if(e|0)Kk(e);return}function lS(e){e=e|0;Kk(e);return}function uS(){var e=0;if(!(n[8088]|0)){_S(11076);Be(25,11076,g|0)|0;e=8088;o[e>>2]=1;o[e+4>>2]=0}return 11076}function cS(e,t){e=e|0;t=t|0;o[e>>2]=dS()|0;o[e+4>>2]=hS()|0;o[e+12>>2]=t;o[e+8>>2]=pS()|0;o[e+32>>2]=10;return}function dS(){return 11745}function hS(){return 1940}function pS(){return W_()|0}function fS(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;if((F_(n,896)|0)==512){if(i|0){mS(i);Kk(i)}}else if(t|0)Kk(t);return}function mS(e){e=e|0;e=o[e+4>>2]|0;if(e|0)Vk(e);return}function _S(e){e=e|0;Cl(e);return}function gS(e,t){e=e|0;t=t|0;o[e>>2]=t;return}function bS(e){e=e|0;return o[e>>2]|0}function vS(e){e=e|0;return n[o[e>>2]>>0]|0}function yS(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;o[n>>2]=o[e>>2];wS(t,n)|0;f=i;return}function wS(e,t){e=e|0;t=t|0;var i=0;i=ES(o[e>>2]|0,t)|0;t=e+4|0;o[(o[t>>2]|0)+8>>2]=i;return o[(o[t>>2]|0)+8>>2]|0}function ES(e,t){e=e|0;t=t|0;var i=0,n=0;i=f;f=f+16|0;n=i;TS(n);e=Ea(e)|0;t=jS(e,o[t>>2]|0)|0;MS(n);f=i;return t|0}function TS(e){e=e|0;o[e>>2]=o[2701];o[e+4>>2]=o[2703];return}function jS(e,t){e=e|0;t=t|0;var i=0;i=Ma(SS()|0)|0;return rt(0,i|0,e|0,Kw(t)|0)|0}function MS(e){e=e|0;ej(o[e>>2]|0,o[e+4>>2]|0);return}function SS(){var e=0;if(!(n[8096]|0)){kS(11120);e=8096;o[e>>2]=1;o[e+4>>2]=0}return 11120}function kS(e){e=e|0;Da(e,xS()|0,1);return}function xS(){return 1948}function CS(){RS();return}function RS(){var e=0,t=0,i=0,r=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0,m=0,_=0,g=0,b=0,v=0;b=f;f=f+16|0;p=b+4|0;m=b;Oe(65536,10804,o[2702]|0,10812);i=Mw()|0;t=o[i>>2]|0;e=o[t>>2]|0;if(e|0){r=o[i+8>>2]|0;i=o[i+4>>2]|0;while(1){He(e|0,a[i>>0]|0|0,n[r>>0]|0);t=t+4|0;e=o[t>>2]|0;if(!e)break;else{r=r+1|0;i=i+1|0}}}e=kw()|0;t=o[e>>2]|0;if(t|0)do{We(t|0,o[e+4>>2]|0);e=e+8|0;t=o[e>>2]|0}while((t|0)!=0);We(AS()|0,5167);h=dw()|0;e=o[h>>2]|0;e:do{if(e|0){do{LS(o[e+4>>2]|0);e=o[e>>2]|0}while((e|0)!=0);e=o[h>>2]|0;if(e|0){d=h;do{while(1){s=e;e=o[e>>2]|0;s=o[s+4>>2]|0;if(!(OS(s)|0))break;o[m>>2]=d;o[p>>2]=o[m>>2];PS(h,p)|0;if(!e)break e}IS(s);d=o[d>>2]|0;t=BS(s)|0;l=Je()|0;u=f;f=f+((1*(t<<2)|0)+15&-16)|0;c=f;f=f+((1*(t<<2)|0)+15&-16)|0;t=o[(xE(s)|0)>>2]|0;if(t|0){i=u;r=c;while(1){o[i>>2]=o[(SE(o[t+4>>2]|0)|0)>>2];o[r>>2]=o[t+8>>2];t=o[t>>2]|0;if(!t)break;else{i=i+4|0;r=r+4|0}}}v=SE(s)|0;t=DS(s)|0;i=BS(s)|0;r=NS(s)|0;Ye(v|0,t|0,u|0,c|0,i|0,r|0,Ew(s)|0);Ie(l|0)}while((e|0)!=0)}}}while(0);e=o[(jw()|0)>>2]|0;if(e|0)do{v=e+4|0;h=Aw(v)|0;s=Bw(h)|0;l=Lw(h)|0;u=(Ow(h)|0)+1|0;c=US(h)|0;d=FS(v)|0;h=Js(h)|0;p=Nw(v)|0;m=HS(v)|0;ze(0,s|0,l|0,u|0,c|0,d|0,h|0,p|0,m|0,WS(v)|0);e=o[e>>2]|0}while((e|0)!=0);e=o[(dw()|0)>>2]|0;e:do{if(e|0){t:while(1){t=o[e+4>>2]|0;if(t|0?(_=o[(SE(t)|0)>>2]|0,g=o[(AE(t)|0)>>2]|0,g|0):0){i=g;do{t=i+4|0;r=Aw(t)|0;i:do{if(r|0)switch(Js(r)|0){case 0:break t;case 4:case 3:case 2:{c=Bw(r)|0;d=Lw(r)|0;h=(Ow(r)|0)+1|0;p=US(r)|0;m=Js(r)|0;v=Nw(t)|0;ze(_|0,c|0,d|0,h|0,p|0,0,m|0,v|0,HS(t)|0,WS(t)|0);break i}case 1:{u=Bw(r)|0;c=Lw(r)|0;d=(Ow(r)|0)+1|0;h=US(r)|0;p=FS(t)|0;m=Js(r)|0;v=Nw(t)|0;ze(_|0,u|0,c|0,d|0,h|0,p|0,m|0,v|0,HS(t)|0,WS(t)|0);break i}case 5:{h=Bw(r)|0;p=Lw(r)|0;m=(Ow(r)|0)+1|0;v=US(r)|0;ze(_|0,h|0,p|0,m|0,v|0,GS(r)|0,Js(r)|0,0,0,0);break i}default:break i}}while(0);i=o[i>>2]|0}while((i|0)!=0)}e=o[e>>2]|0;if(!e)break e}Xe()}}while(0);qe();f=b;return}function AS(){return 11703}function LS(e){e=e|0;n[e+40>>0]=0;return}function OS(e){e=e|0;return(n[e+40>>0]|0)!=0|0}function PS(e,t){e=e|0;t=t|0;t=zS(t)|0;e=o[t>>2]|0;o[t>>2]=o[e>>2];Kk(e);return o[t>>2]|0}function IS(e){e=e|0;n[e+40>>0]=1;return}function BS(e){e=e|0;return o[e+20>>2]|0}function DS(e){e=e|0;return o[e+8>>2]|0}function NS(e){e=e|0;return o[e+32>>2]|0}function US(e){e=e|0;return o[e+4>>2]|0}function FS(e){e=e|0;return o[e+4>>2]|0}function HS(e){e=e|0;return o[e+8>>2]|0}function WS(e){e=e|0;return o[e+16>>2]|0}function GS(e){e=e|0;return o[e+20>>2]|0}function zS(e){e=e|0;return o[e>>2]|0}function VS(e){e=e|0;var t=0,i=0,n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0,m=0,_=0,g=0,b=0,v=0,y=0,w=0,E=0,T=0;T=f;f=f+16|0;p=T;do{if(e>>>0<245){c=e>>>0<11?16:e+11&-8;e=c>>>3;h=o[2783]|0;i=h>>>e;if(i&3|0){t=(i&1^1)+e|0;e=11172+(t<<1<<2)|0;i=e+8|0;n=o[i>>2]|0;r=n+8|0;a=o[r>>2]|0;if((e|0)==(a|0))o[2783]=h&~(1<<t);else{o[a+12>>2]=e;o[i>>2]=a}E=t<<3;o[n+4>>2]=E|3;E=n+E+4|0;o[E>>2]=o[E>>2]|1;E=r;f=T;return E|0}d=o[2785]|0;if(c>>>0>d>>>0){if(i|0){t=2<<e;t=i<<e&(t|0-t);t=(t&0-t)+-1|0;s=t>>>12&16;t=t>>>s;i=t>>>5&8;t=t>>>i;r=t>>>2&4;t=t>>>r;e=t>>>1&2;t=t>>>e;n=t>>>1&1;n=(i|s|r|e|n)+(t>>>n)|0;t=11172+(n<<1<<2)|0;e=t+8|0;r=o[e>>2]|0;s=r+8|0;i=o[s>>2]|0;if((t|0)==(i|0)){e=h&~(1<<n);o[2783]=e}else{o[i+12>>2]=t;o[e>>2]=i;e=h}a=(n<<3)-c|0;o[r+4>>2]=c|3;n=r+c|0;o[n+4>>2]=a|1;o[n+a>>2]=a;if(d|0){r=o[2788]|0;t=d>>>3;i=11172+(t<<1<<2)|0;t=1<<t;if(!(e&t)){o[2783]=e|t;t=i;e=i+8|0}else{e=i+8|0;t=o[e>>2]|0}o[e>>2]=r;o[t+12>>2]=r;o[r+8>>2]=t;o[r+12>>2]=i}o[2785]=a;o[2788]=n;E=s;f=T;return E|0}l=o[2784]|0;if(l){i=(l&0-l)+-1|0;s=i>>>12&16;i=i>>>s;a=i>>>5&8;i=i>>>a;u=i>>>2&4;i=i>>>u;n=i>>>1&2;i=i>>>n;e=i>>>1&1;e=o[11436+((a|s|u|n|e)+(i>>>e)<<2)>>2]|0;i=(o[e+4>>2]&-8)-c|0;n=o[e+16+(((o[e+16>>2]|0)==0&1)<<2)>>2]|0;if(!n){u=e;a=i}else{do{s=(o[n+4>>2]&-8)-c|0;u=s>>>0<i>>>0;i=u?s:i;e=u?n:e;n=o[n+16+(((o[n+16>>2]|0)==0&1)<<2)>>2]|0}while((n|0)!=0);u=e;a=i}s=u+c|0;if(u>>>0<s>>>0){r=o[u+24>>2]|0;t=o[u+12>>2]|0;do{if((t|0)==(u|0)){e=u+20|0;t=o[e>>2]|0;if(!t){e=u+16|0;t=o[e>>2]|0;if(!t){i=0;break}}while(1){i=t+20|0;n=o[i>>2]|0;if(n|0){t=n;e=i;continue}i=t+16|0;n=o[i>>2]|0;if(!n)break;else{t=n;e=i}}o[e>>2]=0;i=t}else{i=o[u+8>>2]|0;o[i+12>>2]=t;o[t+8>>2]=i;i=t}}while(0);do{if(r|0){t=o[u+28>>2]|0;e=11436+(t<<2)|0;if((u|0)==(o[e>>2]|0)){o[e>>2]=i;if(!i){o[2784]=l&~(1<<t);break}}else{o[r+16+(((o[r+16>>2]|0)!=(u|0)&1)<<2)>>2]=i;if(!i)break}o[i+24>>2]=r;t=o[u+16>>2]|0;if(t|0){o[i+16>>2]=t;o[t+24>>2]=i}t=o[u+20>>2]|0;if(t|0){o[i+20>>2]=t;o[t+24>>2]=i}}}while(0);if(a>>>0<16){E=a+c|0;o[u+4>>2]=E|3;E=u+E+4|0;o[E>>2]=o[E>>2]|1}else{o[u+4>>2]=c|3;o[s+4>>2]=a|1;o[s+a>>2]=a;if(d|0){n=o[2788]|0;t=d>>>3;i=11172+(t<<1<<2)|0;t=1<<t;if(!(h&t)){o[2783]=h|t;t=i;e=i+8|0}else{e=i+8|0;t=o[e>>2]|0}o[e>>2]=n;o[t+12>>2]=n;o[n+8>>2]=t;o[n+12>>2]=i}o[2785]=a;o[2788]=s}E=u+8|0;f=T;return E|0}else h=c}else h=c}else h=c}else if(e>>>0<=4294967231){e=e+11|0;c=e&-8;u=o[2784]|0;if(u){n=0-c|0;e=e>>>8;if(e){if(c>>>0>16777215)l=31;else{h=(e+1048320|0)>>>16&8;w=e<<h;d=(w+520192|0)>>>16&4;w=w<<d;l=(w+245760|0)>>>16&2;l=14-(d|h|l)+(w<<l>>>15)|0;l=c>>>(l+7|0)&1|l<<1}}else l=0;i=o[11436+(l<<2)>>2]|0;e:do{if(!i){i=0;e=0;w=57}else{e=0;s=c<<((l|0)==31?0:25-(l>>>1)|0);a=0;while(1){r=(o[i+4>>2]&-8)-c|0;if(r>>>0<n>>>0)if(!r){e=i;n=0;r=i;w=61;break e}else{e=i;n=r}r=o[i+20>>2]|0;i=o[i+16+(s>>>31<<2)>>2]|0;a=(r|0)==0|(r|0)==(i|0)?a:r;r=(i|0)==0;if(r){i=a;w=57;break}else s=s<<((r^1)&1)}}}while(0);if((w|0)==57){if((i|0)==0&(e|0)==0){e=2<<l;e=u&(e|0-e);if(!e){h=c;break}h=(e&0-e)+-1|0;s=h>>>12&16;h=h>>>s;a=h>>>5&8;h=h>>>a;l=h>>>2&4;h=h>>>l;d=h>>>1&2;h=h>>>d;i=h>>>1&1;e=0;i=o[11436+((a|s|l|d|i)+(h>>>i)<<2)>>2]|0}if(!i){l=e;s=n}else{r=i;w=61}}if((w|0)==61)while(1){w=0;i=(o[r+4>>2]&-8)-c|0;h=i>>>0<n>>>0;i=h?i:n;e=h?r:e;r=o[r+16+(((o[r+16>>2]|0)==0&1)<<2)>>2]|0;if(!r){l=e;s=i;break}else{n=i;w=61}}if((l|0)!=0?s>>>0<((o[2785]|0)-c|0)>>>0:0){a=l+c|0;if(l>>>0>=a>>>0){E=0;f=T;return E|0}r=o[l+24>>2]|0;t=o[l+12>>2]|0;do{if((t|0)==(l|0)){e=l+20|0;t=o[e>>2]|0;if(!t){e=l+16|0;t=o[e>>2]|0;if(!t){t=0;break}}while(1){i=t+20|0;n=o[i>>2]|0;if(n|0){t=n;e=i;continue}i=t+16|0;n=o[i>>2]|0;if(!n)break;else{t=n;e=i}}o[e>>2]=0}else{E=o[l+8>>2]|0;o[E+12>>2]=t;o[t+8>>2]=E}}while(0);do{if(r){e=o[l+28>>2]|0;i=11436+(e<<2)|0;if((l|0)==(o[i>>2]|0)){o[i>>2]=t;if(!t){n=u&~(1<<e);o[2784]=n;break}}else{o[r+16+(((o[r+16>>2]|0)!=(l|0)&1)<<2)>>2]=t;if(!t){n=u;break}}o[t+24>>2]=r;e=o[l+16>>2]|0;if(e|0){o[t+16>>2]=e;o[e+24>>2]=t}e=o[l+20>>2]|0;if(e){o[t+20>>2]=e;o[e+24>>2]=t;n=u}else n=u}else n=u}while(0);do{if(s>>>0>=16){o[l+4>>2]=c|3;o[a+4>>2]=s|1;o[a+s>>2]=s;t=s>>>3;if(s>>>0<256){i=11172+(t<<1<<2)|0;e=o[2783]|0;t=1<<t;if(!(e&t)){o[2783]=e|t;t=i;e=i+8|0}else{e=i+8|0;t=o[e>>2]|0}o[e>>2]=a;o[t+12>>2]=a;o[a+8>>2]=t;o[a+12>>2]=i;break}t=s>>>8;if(t){if(s>>>0>16777215)t=31;else{w=(t+1048320|0)>>>16&8;E=t<<w;y=(E+520192|0)>>>16&4;E=E<<y;t=(E+245760|0)>>>16&2;t=14-(y|w|t)+(E<<t>>>15)|0;t=s>>>(t+7|0)&1|t<<1}}else t=0;i=11436+(t<<2)|0;o[a+28>>2]=t;e=a+16|0;o[e+4>>2]=0;o[e>>2]=0;e=1<<t;if(!(n&e)){o[2784]=n|e;o[i>>2]=a;o[a+24>>2]=i;o[a+12>>2]=a;o[a+8>>2]=a;break}e=s<<((t|0)==31?0:25-(t>>>1)|0);i=o[i>>2]|0;while(1){if((o[i+4>>2]&-8|0)==(s|0)){w=97;break}n=i+16+(e>>>31<<2)|0;t=o[n>>2]|0;if(!t){w=96;break}else{e=e<<1;i=t}}if((w|0)==96){o[n>>2]=a;o[a+24>>2]=i;o[a+12>>2]=a;o[a+8>>2]=a;break}else if((w|0)==97){w=i+8|0;E=o[w>>2]|0;o[E+12>>2]=a;o[w>>2]=a;o[a+8>>2]=E;o[a+12>>2]=i;o[a+24>>2]=0;break}}else{E=s+c|0;o[l+4>>2]=E|3;E=l+E+4|0;o[E>>2]=o[E>>2]|1}}while(0);E=l+8|0;f=T;return E|0}else h=c}else h=c}else h=-1}while(0);i=o[2785]|0;if(i>>>0>=h>>>0){t=i-h|0;e=o[2788]|0;if(t>>>0>15){E=e+h|0;o[2788]=E;o[2785]=t;o[E+4>>2]=t|1;o[E+t>>2]=t;o[e+4>>2]=h|3}else{o[2785]=0;o[2788]=0;o[e+4>>2]=i|3;E=e+i+4|0;o[E>>2]=o[E>>2]|1}E=e+8|0;f=T;return E|0}s=o[2786]|0;if(s>>>0>h>>>0){y=s-h|0;o[2786]=y;E=o[2789]|0;w=E+h|0;o[2789]=w;o[w+4>>2]=y|1;o[E+4>>2]=h|3;E=E+8|0;f=T;return E|0}if(!(o[2901]|0)){o[2903]=4096;o[2902]=4096;o[2904]=-1;o[2905]=-1;o[2906]=0;o[2894]=0;e=p&-16^1431655768;o[p>>2]=e;o[2901]=e;e=4096}else e=o[2903]|0;l=h+48|0;u=h+47|0;a=e+u|0;r=0-e|0;c=a&r;if(c>>>0<=h>>>0){E=0;f=T;return E|0}e=o[2893]|0;if(e|0?(d=o[2891]|0,p=d+c|0,p>>>0<=d>>>0|p>>>0>e>>>0):0){E=0;f=T;return E|0}e:do{if(!(o[2894]&4)){i=o[2789]|0;t:do{if(i){n=11580;while(1){e=o[n>>2]|0;if(e>>>0<=i>>>0?(g=n+4|0,(e+(o[g>>2]|0)|0)>>>0>i>>>0):0)break;e=o[n+8>>2]|0;if(!e){w=118;break t}else n=e}t=a-s&r;if(t>>>0<2147483647){e=lx(t|0)|0;if((e|0)==((o[n>>2]|0)+(o[g>>2]|0)|0)){if((e|0)!=(-1|0)){s=t;a=e;w=135;break e}}else{n=e;w=126}}else t=0}else w=118}while(0);do{if((w|0)==118){i=lx(0)|0;if((i|0)!=(-1|0)?(t=i,m=o[2902]|0,_=m+-1|0,t=((_&t|0)==0?0:(_+t&0-m)-t|0)+c|0,m=o[2891]|0,_=t+m|0,t>>>0>h>>>0&t>>>0<2147483647):0){g=o[2893]|0;if(g|0?_>>>0<=m>>>0|_>>>0>g>>>0:0){t=0;break}e=lx(t|0)|0;if((e|0)==(i|0)){s=t;a=i;w=135;break e}else{n=e;w=126}}else t=0}}while(0);do{if((w|0)==126){i=0-t|0;if(!(l>>>0>t>>>0&(t>>>0<2147483647&(n|0)!=(-1|0))))if((n|0)==(-1|0)){t=0;break}else{s=t;a=n;w=135;break e}e=o[2903]|0;e=u-t+e&0-e;if(e>>>0>=2147483647){s=t;a=n;w=135;break e}if((lx(e|0)|0)==(-1|0)){lx(i|0)|0;t=0;break}else{s=e+t|0;a=n;w=135;break e}}}while(0);o[2894]=o[2894]|4;w=133}else{t=0;w=133}}while(0);if(((w|0)==133?c>>>0<2147483647:0)?(y=lx(c|0)|0,g=lx(0)|0,b=g-y|0,v=b>>>0>(h+40|0)>>>0,!((y|0)==(-1|0)|v^1|y>>>0<g>>>0&((y|0)!=(-1|0)&(g|0)!=(-1|0))^1)):0){s=v?b:t;a=y;w=135}if((w|0)==135){t=(o[2891]|0)+s|0;o[2891]=t;if(t>>>0>(o[2892]|0)>>>0)o[2892]=t;u=o[2789]|0;do{if(u){t=11580;while(1){e=o[t>>2]|0;i=t+4|0;n=o[i>>2]|0;if((a|0)==(e+n|0)){w=145;break}r=o[t+8>>2]|0;if(!r)break;else t=r}if(((w|0)==145?(o[t+12>>2]&8|0)==0:0)?u>>>0<a>>>0&u>>>0>=e>>>0:0){o[i>>2]=n+s;E=u+8|0;E=(E&7|0)==0?0:0-E&7;w=u+E|0;E=(o[2786]|0)+(s-E)|0;o[2789]=w;o[2786]=E;o[w+4>>2]=E|1;o[w+E+4>>2]=40;o[2790]=o[2905];break}if(a>>>0<(o[2787]|0)>>>0)o[2787]=a;i=a+s|0;t=11580;while(1){if((o[t>>2]|0)==(i|0)){w=153;break}e=o[t+8>>2]|0;if(!e)break;else t=e}if((w|0)==153?(o[t+12>>2]&8|0)==0:0){o[t>>2]=a;d=t+4|0;o[d>>2]=(o[d>>2]|0)+s;d=a+8|0;d=a+((d&7|0)==0?0:0-d&7)|0;t=i+8|0;t=i+((t&7|0)==0?0:0-t&7)|0;c=d+h|0;l=t-d-h|0;o[d+4>>2]=h|3;do{if((t|0)!=(u|0)){if((t|0)==(o[2788]|0)){E=(o[2785]|0)+l|0;o[2785]=E;o[2788]=c;o[c+4>>2]=E|1;o[c+E>>2]=E;break}e=o[t+4>>2]|0;if((e&3|0)==1){s=e&-8;n=e>>>3;e:do{if(e>>>0<256){e=o[t+8>>2]|0;i=o[t+12>>2]|0;if((i|0)==(e|0)){o[2783]=o[2783]&~(1<<n);break}else{o[e+12>>2]=i;o[i+8>>2]=e;break}}else{a=o[t+24>>2]|0;e=o[t+12>>2]|0;do{if((e|0)==(t|0)){n=t+16|0;i=n+4|0;e=o[i>>2]|0;if(!e){e=o[n>>2]|0;if(!e){e=0;break}else i=n}while(1){n=e+20|0;r=o[n>>2]|0;if(r|0){e=r;i=n;continue}n=e+16|0;r=o[n>>2]|0;if(!r)break;else{e=r;i=n}}o[i>>2]=0}else{E=o[t+8>>2]|0;o[E+12>>2]=e;o[e+8>>2]=E}}while(0);if(!a)break;i=o[t+28>>2]|0;n=11436+(i<<2)|0;do{if((t|0)!=(o[n>>2]|0)){o[a+16+(((o[a+16>>2]|0)!=(t|0)&1)<<2)>>2]=e;if(!e)break e}else{o[n>>2]=e;if(e|0)break;o[2784]=o[2784]&~(1<<i);break e}}while(0);o[e+24>>2]=a;i=t+16|0;n=o[i>>2]|0;if(n|0){o[e+16>>2]=n;o[n+24>>2]=e}i=o[i+4>>2]|0;if(!i)break;o[e+20>>2]=i;o[i+24>>2]=e}}while(0);t=t+s|0;r=s+l|0}else r=l;t=t+4|0;o[t>>2]=o[t>>2]&-2;o[c+4>>2]=r|1;o[c+r>>2]=r;t=r>>>3;if(r>>>0<256){i=11172+(t<<1<<2)|0;e=o[2783]|0;t=1<<t;if(!(e&t)){o[2783]=e|t;t=i;e=i+8|0}else{e=i+8|0;t=o[e>>2]|0}o[e>>2]=c;o[t+12>>2]=c;o[c+8>>2]=t;o[c+12>>2]=i;break}t=r>>>8;do{if(!t)t=0;else{if(r>>>0>16777215){t=31;break}w=(t+1048320|0)>>>16&8;E=t<<w;y=(E+520192|0)>>>16&4;E=E<<y;t=(E+245760|0)>>>16&2;t=14-(y|w|t)+(E<<t>>>15)|0;t=r>>>(t+7|0)&1|t<<1}}while(0);n=11436+(t<<2)|0;o[c+28>>2]=t;e=c+16|0;o[e+4>>2]=0;o[e>>2]=0;e=o[2784]|0;i=1<<t;if(!(e&i)){o[2784]=e|i;o[n>>2]=c;o[c+24>>2]=n;o[c+12>>2]=c;o[c+8>>2]=c;break}e=r<<((t|0)==31?0:25-(t>>>1)|0);i=o[n>>2]|0;while(1){if((o[i+4>>2]&-8|0)==(r|0)){w=194;break}n=i+16+(e>>>31<<2)|0;t=o[n>>2]|0;if(!t){w=193;break}else{e=e<<1;i=t}}if((w|0)==193){o[n>>2]=c;o[c+24>>2]=i;o[c+12>>2]=c;o[c+8>>2]=c;break}else if((w|0)==194){w=i+8|0;E=o[w>>2]|0;o[E+12>>2]=c;o[w>>2]=c;o[c+8>>2]=E;o[c+12>>2]=i;o[c+24>>2]=0;break}}else{E=(o[2786]|0)+l|0;o[2786]=E;o[2789]=c;o[c+4>>2]=E|1}}while(0);E=d+8|0;f=T;return E|0}t=11580;while(1){e=o[t>>2]|0;if(e>>>0<=u>>>0?(E=e+(o[t+4>>2]|0)|0,E>>>0>u>>>0):0)break;t=o[t+8>>2]|0}r=E+-47|0;e=r+8|0;e=r+((e&7|0)==0?0:0-e&7)|0;r=u+16|0;e=e>>>0<r>>>0?u:e;t=e+8|0;i=a+8|0;i=(i&7|0)==0?0:0-i&7;w=a+i|0;i=s+-40-i|0;o[2789]=w;o[2786]=i;o[w+4>>2]=i|1;o[w+i+4>>2]=40;o[2790]=o[2905];i=e+4|0;o[i>>2]=27;o[t>>2]=o[2895];o[t+4>>2]=o[2896];o[t+8>>2]=o[2897];o[t+12>>2]=o[2898];o[2895]=a;o[2896]=s;o[2898]=0;o[2897]=t;t=e+24|0;do{w=t;t=t+4|0;o[t>>2]=7}while((w+8|0)>>>0<E>>>0);if((e|0)!=(u|0)){a=e-u|0;o[i>>2]=o[i>>2]&-2;o[u+4>>2]=a|1;o[e>>2]=a;t=a>>>3;if(a>>>0<256){i=11172+(t<<1<<2)|0;e=o[2783]|0;t=1<<t;if(!(e&t)){o[2783]=e|t;t=i;e=i+8|0}else{e=i+8|0;t=o[e>>2]|0}o[e>>2]=u;o[t+12>>2]=u;o[u+8>>2]=t;o[u+12>>2]=i;break}t=a>>>8;if(t){if(a>>>0>16777215)i=31;else{w=(t+1048320|0)>>>16&8;E=t<<w;y=(E+520192|0)>>>16&4;E=E<<y;i=(E+245760|0)>>>16&2;i=14-(y|w|i)+(E<<i>>>15)|0;i=a>>>(i+7|0)&1|i<<1}}else i=0;n=11436+(i<<2)|0;o[u+28>>2]=i;o[u+20>>2]=0;o[r>>2]=0;t=o[2784]|0;e=1<<i;if(!(t&e)){o[2784]=t|e;o[n>>2]=u;o[u+24>>2]=n;o[u+12>>2]=u;o[u+8>>2]=u;break}e=a<<((i|0)==31?0:25-(i>>>1)|0);i=o[n>>2]|0;while(1){if((o[i+4>>2]&-8|0)==(a|0)){w=216;break}n=i+16+(e>>>31<<2)|0;t=o[n>>2]|0;if(!t){w=215;break}else{e=e<<1;i=t}}if((w|0)==215){o[n>>2]=u;o[u+24>>2]=i;o[u+12>>2]=u;o[u+8>>2]=u;break}else if((w|0)==216){w=i+8|0;E=o[w>>2]|0;o[E+12>>2]=u;o[w>>2]=u;o[u+8>>2]=E;o[u+12>>2]=i;o[u+24>>2]=0;break}}}else{E=o[2787]|0;if((E|0)==0|a>>>0<E>>>0)o[2787]=a;o[2895]=a;o[2896]=s;o[2898]=0;o[2792]=o[2901];o[2791]=-1;t=0;do{E=11172+(t<<1<<2)|0;o[E+12>>2]=E;o[E+8>>2]=E;t=t+1|0}while((t|0)!=32);E=a+8|0;E=(E&7|0)==0?0:0-E&7;w=a+E|0;E=s+-40-E|0;o[2789]=w;o[2786]=E;o[w+4>>2]=E|1;o[w+E+4>>2]=40;o[2790]=o[2905]}}while(0);t=o[2786]|0;if(t>>>0>h>>>0){y=t-h|0;o[2786]=y;E=o[2789]|0;w=E+h|0;o[2789]=w;o[w+4>>2]=y|1;o[E+4>>2]=h|3;E=E+8|0;f=T;return E|0}}o[(QS()|0)>>2]=12;E=0;f=T;return E|0}function YS(e){e=e|0;var t=0,i=0,n=0,r=0,a=0,s=0,l=0,u=0;if(!e)return;i=e+-8|0;r=o[2787]|0;e=o[e+-4>>2]|0;t=e&-8;u=i+t|0;do{if(!(e&1)){n=o[i>>2]|0;if(!(e&3))return;s=i+(0-n)|0;a=n+t|0;if(s>>>0<r>>>0)return;if((s|0)==(o[2788]|0)){e=u+4|0;t=o[e>>2]|0;if((t&3|0)!=3){l=s;t=a;break}o[2785]=a;o[e>>2]=t&-2;o[s+4>>2]=a|1;o[s+a>>2]=a;return}i=n>>>3;if(n>>>0<256){e=o[s+8>>2]|0;t=o[s+12>>2]|0;if((t|0)==(e|0)){o[2783]=o[2783]&~(1<<i);l=s;t=a;break}else{o[e+12>>2]=t;o[t+8>>2]=e;l=s;t=a;break}}r=o[s+24>>2]|0;e=o[s+12>>2]|0;do{if((e|0)==(s|0)){i=s+16|0;t=i+4|0;e=o[t>>2]|0;if(!e){e=o[i>>2]|0;if(!e){e=0;break}else t=i}while(1){i=e+20|0;n=o[i>>2]|0;if(n|0){e=n;t=i;continue}i=e+16|0;n=o[i>>2]|0;if(!n)break;else{e=n;t=i}}o[t>>2]=0}else{l=o[s+8>>2]|0;o[l+12>>2]=e;o[e+8>>2]=l}}while(0);if(r){t=o[s+28>>2]|0;i=11436+(t<<2)|0;if((s|0)==(o[i>>2]|0)){o[i>>2]=e;if(!e){o[2784]=o[2784]&~(1<<t);l=s;t=a;break}}else{o[r+16+(((o[r+16>>2]|0)!=(s|0)&1)<<2)>>2]=e;if(!e){l=s;t=a;break}}o[e+24>>2]=r;t=s+16|0;i=o[t>>2]|0;if(i|0){o[e+16>>2]=i;o[i+24>>2]=e}t=o[t+4>>2]|0;if(t){o[e+20>>2]=t;o[t+24>>2]=e;l=s;t=a}else{l=s;t=a}}else{l=s;t=a}}else{l=i;s=i}}while(0);if(s>>>0>=u>>>0)return;e=u+4|0;n=o[e>>2]|0;if(!(n&1))return;if(!(n&2)){e=o[2788]|0;if((u|0)==(o[2789]|0)){u=(o[2786]|0)+t|0;o[2786]=u;o[2789]=l;o[l+4>>2]=u|1;if((l|0)!=(e|0))return;o[2788]=0;o[2785]=0;return}if((u|0)==(e|0)){u=(o[2785]|0)+t|0;o[2785]=u;o[2788]=s;o[l+4>>2]=u|1;o[s+u>>2]=u;return}r=(n&-8)+t|0;i=n>>>3;do{if(n>>>0<256){t=o[u+8>>2]|0;e=o[u+12>>2]|0;if((e|0)==(t|0)){o[2783]=o[2783]&~(1<<i);break}else{o[t+12>>2]=e;o[e+8>>2]=t;break}}else{a=o[u+24>>2]|0;e=o[u+12>>2]|0;do{if((e|0)==(u|0)){i=u+16|0;t=i+4|0;e=o[t>>2]|0;if(!e){e=o[i>>2]|0;if(!e){i=0;break}else t=i}while(1){i=e+20|0;n=o[i>>2]|0;if(n|0){e=n;t=i;continue}i=e+16|0;n=o[i>>2]|0;if(!n)break;else{e=n;t=i}}o[t>>2]=0;i=e}else{i=o[u+8>>2]|0;o[i+12>>2]=e;o[e+8>>2]=i;i=e}}while(0);if(a|0){e=o[u+28>>2]|0;t=11436+(e<<2)|0;if((u|0)==(o[t>>2]|0)){o[t>>2]=i;if(!i){o[2784]=o[2784]&~(1<<e);break}}else{o[a+16+(((o[a+16>>2]|0)!=(u|0)&1)<<2)>>2]=i;if(!i)break}o[i+24>>2]=a;e=u+16|0;t=o[e>>2]|0;if(t|0){o[i+16>>2]=t;o[t+24>>2]=i}e=o[e+4>>2]|0;if(e|0){o[i+20>>2]=e;o[e+24>>2]=i}}}}while(0);o[l+4>>2]=r|1;o[s+r>>2]=r;if((l|0)==(o[2788]|0)){o[2785]=r;return}}else{o[e>>2]=n&-2;o[l+4>>2]=t|1;o[s+t>>2]=t;r=t}e=r>>>3;if(r>>>0<256){i=11172+(e<<1<<2)|0;t=o[2783]|0;e=1<<e;if(!(t&e)){o[2783]=t|e;e=i;t=i+8|0}else{t=i+8|0;e=o[t>>2]|0}o[t>>2]=l;o[e+12>>2]=l;o[l+8>>2]=e;o[l+12>>2]=i;return}e=r>>>8;if(e){if(r>>>0>16777215)e=31;else{s=(e+1048320|0)>>>16&8;u=e<<s;a=(u+520192|0)>>>16&4;u=u<<a;e=(u+245760|0)>>>16&2;e=14-(a|s|e)+(u<<e>>>15)|0;e=r>>>(e+7|0)&1|e<<1}}else e=0;n=11436+(e<<2)|0;o[l+28>>2]=e;o[l+20>>2]=0;o[l+16>>2]=0;t=o[2784]|0;i=1<<e;do{if(t&i){t=r<<((e|0)==31?0:25-(e>>>1)|0);i=o[n>>2]|0;while(1){if((o[i+4>>2]&-8|0)==(r|0)){e=73;break}n=i+16+(t>>>31<<2)|0;e=o[n>>2]|0;if(!e){e=72;break}else{t=t<<1;i=e}}if((e|0)==72){o[n>>2]=l;o[l+24>>2]=i;o[l+12>>2]=l;o[l+8>>2]=l;break}else if((e|0)==73){s=i+8|0;u=o[s>>2]|0;o[u+12>>2]=l;o[s>>2]=l;o[l+8>>2]=u;o[l+12>>2]=i;o[l+24>>2]=0;break}}else{o[2784]=t|i;o[n>>2]=l;o[l+24>>2]=n;o[l+12>>2]=l;o[l+8>>2]=l}}while(0);u=(o[2791]|0)+-1|0;o[2791]=u;if(!u)e=11588;else return;while(1){e=o[e>>2]|0;if(!e)break;else e=e+8|0}o[2791]=-1;return}function qS(){return 11628}function XS(e){e=e|0;var t=0,i=0;t=f;f=f+16|0;i=t;o[i>>2]=tk(o[e+60>>2]|0)|0;e=ZS(at(6,i|0)|0)|0;f=t;return e|0}function KS(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0,m=0;h=f;f=f+48|0;c=h+16|0;a=h;r=h+32|0;l=e+28|0;n=o[l>>2]|0;o[r>>2]=n;u=e+20|0;n=(o[u>>2]|0)-n|0;o[r+4>>2]=n;o[r+8>>2]=t;o[r+12>>2]=i;n=n+i|0;s=e+60|0;o[a>>2]=o[s>>2];o[a+4>>2]=r;o[a+8>>2]=2;a=ZS(ut(146,a|0)|0)|0;e:do{if((n|0)!=(a|0)){t=2;while(1){if((a|0)<0)break;n=n-a|0;m=o[r+4>>2]|0;p=a>>>0>m>>>0;r=p?r+8|0:r;t=(p<<31>>31)+t|0;m=a-(p?m:0)|0;o[r>>2]=(o[r>>2]|0)+m;p=r+4|0;o[p>>2]=(o[p>>2]|0)-m;o[c>>2]=o[s>>2];o[c+4>>2]=r;o[c+8>>2]=t;a=ZS(ut(146,c|0)|0)|0;if((n|0)==(a|0)){d=3;break e}}o[e+16>>2]=0;o[l>>2]=0;o[u>>2]=0;o[e>>2]=o[e>>2]|32;if((t|0)==2)i=0;else i=i-(o[r+4>>2]|0)|0}else d=3}while(0);if((d|0)==3){m=o[e+44>>2]|0;o[e+16>>2]=m+(o[e+48>>2]|0);o[l>>2]=m;o[u>>2]=m}f=h;return i|0}function JS(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0;r=f;f=f+32|0;a=r;n=r+20|0;o[a>>2]=o[e+60>>2];o[a+4>>2]=0;o[a+8>>2]=t;o[a+12>>2]=n;o[a+16>>2]=i;if((ZS(lt(140,a|0)|0)|0)<0){o[n>>2]=-1;e=-1}else e=o[n>>2]|0;f=r;return e|0}function ZS(e){e=e|0;if(e>>>0>4294963200){o[(QS()|0)>>2]=0-e;e=-1}return e|0}function QS(){return($S()|0)+64|0}function $S(){return ek()|0}function ek(){return 2084}function tk(e){e=e|0;return e|0}function ik(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0;a=f;f=f+32|0;r=a;o[e+36>>2]=1;if((o[e>>2]&64|0)==0?(o[r>>2]=o[e+60>>2],o[r+4>>2]=21523,o[r+8>>2]=a+16,Ze(54,r|0)|0):0)n[e+75>>0]=-1;r=KS(e,t,i)|0;f=a;return r|0}function nk(e,t){e=e|0;t=t|0;var i=0,r=0;i=n[e>>0]|0;r=n[t>>0]|0;if(i<<24>>24==0?1:i<<24>>24!=r<<24>>24)e=r;else{do{e=e+1|0;t=t+1|0;i=n[e>>0]|0;r=n[t>>0]|0}while(!(i<<24>>24==0?1:i<<24>>24!=r<<24>>24));e=r}return(i&255)-(e&255)|0}function rk(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,o=0;e:do{if(!i)e=0;else{while(1){r=n[e>>0]|0;o=n[t>>0]|0;if(r<<24>>24!=o<<24>>24)break;i=i+-1|0;if(!i){e=0;break e}else{e=e+1|0;t=t+1|0}}e=(r&255)-(o&255)|0}}while(0);return e|0}function ok(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0,m=0,_=0,g=0,b=0;b=f;f=f+224|0;h=b+120|0;p=b+80|0;_=b;g=b+136|0;r=p;a=r+40|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(a|0));o[h>>2]=o[i>>2];if((ak(0,t,h,_,p)|0)<0)i=-1;else{if((o[e+76>>2]|0)>-1)m=sk(e)|0;else m=0;i=o[e>>2]|0;d=i&32;if((n[e+74>>0]|0)<1)o[e>>2]=i&-33;r=e+48|0;if(!(o[r>>2]|0)){a=e+44|0;s=o[a>>2]|0;o[a>>2]=g;l=e+28|0;o[l>>2]=g;u=e+20|0;o[u>>2]=g;o[r>>2]=80;c=e+16|0;o[c>>2]=g+80;i=ak(e,t,h,_,p)|0;if(s){vC[o[e+36>>2]&7](e,0,0)|0;i=(o[u>>2]|0)==0?-1:i;o[a>>2]=s;o[r>>2]=0;o[c>>2]=0;o[l>>2]=0;o[u>>2]=0}}else i=ak(e,t,h,_,p)|0;r=o[e>>2]|0;o[e>>2]=r|d;if(m|0)lk(e);i=(r&32|0)==0?i:-1}f=b;return i|0}function ak(e,t,i,a,s){e=e|0;t=t|0;i=i|0;a=a|0;s=s|0;var l=0,u=0,d=0,h=0,p=0,m=0,_=0,g=0,b=0,v=0,y=0,w=0,E=0,T=0,j=0,M=0,S=0,k=0,x=0,R=0,A=0,L=0,O=0;O=f;f=f+64|0;x=O+16|0;R=O;S=O+24|0;A=O+8|0;L=O+20|0;o[x>>2]=t;T=(e|0)!=0;j=S+40|0;M=j;S=S+39|0;k=A+4|0;u=0;l=0;m=0;e:while(1){do{if((l|0)>-1)if((u|0)>(2147483647-l|0)){o[(QS()|0)>>2]=75;l=-1;break}else{l=u+l|0;break}}while(0);u=n[t>>0]|0;if(!(u<<24>>24)){E=87;break}else d=t;t:while(1){switch(u<<24>>24){case 37:{u=d;E=9;break t}case 0:{u=d;break t}default:{}}w=d+1|0;o[x>>2]=w;u=n[w>>0]|0;d=w}t:do{if((E|0)==9)while(1){E=0;if((n[d+1>>0]|0)!=37)break t;u=u+1|0;d=d+2|0;o[x>>2]=d;if((n[d>>0]|0)==37)E=9;else break}}while(0);u=u-t|0;if(T)uk(e,t,u);if(u|0){t=d;continue}h=d+1|0;u=(n[h>>0]|0)+-48|0;if(u>>>0<10){w=(n[d+2>>0]|0)==36;y=w?u:-1;m=w?1:m;h=w?d+3|0:h}else y=-1;o[x>>2]=h;u=n[h>>0]|0;d=(u<<24>>24)+-32|0;t:do{if(d>>>0<32){p=0;_=u;while(1){u=1<<d;if(!(u&75913)){u=_;break t}p=u|p;h=h+1|0;o[x>>2]=h;u=n[h>>0]|0;d=(u<<24>>24)+-32|0;if(d>>>0>=32)break;else _=u}}else p=0}while(0);if(u<<24>>24==42){d=h+1|0;u=(n[d>>0]|0)+-48|0;if(u>>>0<10?(n[h+2>>0]|0)==36:0){o[s+(u<<2)>>2]=10;u=o[a+((n[d>>0]|0)+-48<<3)>>2]|0;m=1;h=h+3|0}else{if(m|0){l=-1;break}if(T){m=(o[i>>2]|0)+(4-1)&~(4-1);u=o[m>>2]|0;o[i>>2]=m+4;m=0;h=d}else{u=0;m=0;h=d}}o[x>>2]=h;w=(u|0)<0;u=w?0-u|0:u;p=w?p|8192:p}else{u=ck(x)|0;if((u|0)<0){l=-1;break}h=o[x>>2]|0}do{if((n[h>>0]|0)==46){if((n[h+1>>0]|0)!=42){o[x>>2]=h+1;d=ck(x)|0;h=o[x>>2]|0;break}_=h+2|0;d=(n[_>>0]|0)+-48|0;if(d>>>0<10?(n[h+3>>0]|0)==36:0){o[s+(d<<2)>>2]=10;d=o[a+((n[_>>0]|0)+-48<<3)>>2]|0;h=h+4|0;o[x>>2]=h;break}if(m|0){l=-1;break e}if(T){w=(o[i>>2]|0)+(4-1)&~(4-1);d=o[w>>2]|0;o[i>>2]=w+4}else d=0;o[x>>2]=_;h=_}else d=-1}while(0);v=0;while(1){if(((n[h>>0]|0)+-65|0)>>>0>57){l=-1;break e}w=h+1|0;o[x>>2]=w;_=n[(n[h>>0]|0)+-65+(5178+(v*58|0))>>0]|0;g=_&255;if((g+-1|0)>>>0<8){v=g;h=w}else break}if(!(_<<24>>24)){l=-1;break}b=(y|0)>-1;do{if(_<<24>>24==19){if(b){l=-1;break e}else E=49}else{if(b){o[s+(y<<2)>>2]=g;b=a+(y<<3)|0;y=o[b+4>>2]|0;E=R;o[E>>2]=o[b>>2];o[E+4>>2]=y;E=49;break}if(!T){l=0;break e}dk(R,g,i)}}while(0);if((E|0)==49?(E=0,!T):0){u=0;t=w;continue}h=n[h>>0]|0;h=(v|0)!=0&(h&15|0)==3?h&-33:h;b=p&-65537;y=(p&8192|0)==0?p:b;t:do{switch(h|0){case 110:switch((v&255)<<24>>24){case 0:{o[o[R>>2]>>2]=l;u=0;t=w;continue e}case 1:{o[o[R>>2]>>2]=l;u=0;t=w;continue e}case 2:{u=o[R>>2]|0;o[u>>2]=l;o[u+4>>2]=((l|0)<0)<<31>>31;u=0;t=w;continue e}case 3:{r[o[R>>2]>>1]=l;u=0;t=w;continue e}case 4:{n[o[R>>2]>>0]=l;u=0;t=w;continue e}case 6:{o[o[R>>2]>>2]=l;u=0;t=w;continue e}case 7:{u=o[R>>2]|0;o[u>>2]=l;o[u+4>>2]=((l|0)<0)<<31>>31;u=0;t=w;continue e}default:{u=0;t=w;continue e}}case 112:{h=120;d=d>>>0>8?d:8;t=y|8;E=61;break}case 88:case 120:{t=y;E=61;break}case 111:{h=R;t=o[h>>2]|0;h=o[h+4>>2]|0;g=pk(t,h,j)|0;b=M-g|0;p=0;_=5642;d=(y&8|0)==0|(d|0)>(b|0)?d:b+1|0;b=y;E=67;break}case 105:case 100:{h=R;t=o[h>>2]|0;h=o[h+4>>2]|0;if((h|0)<0){t=$k(0,0,t|0,h|0)|0;h=C;p=R;o[p>>2]=t;o[p+4>>2]=h;p=1;_=5642;E=66;break t}else{p=(y&2049|0)!=0&1;_=(y&2048|0)==0?(y&1|0)==0?5642:5644:5643;E=66;break t}}case 117:{h=R;p=0;_=5642;t=o[h>>2]|0;h=o[h+4>>2]|0;E=66;break}case 99:{n[S>>0]=o[R>>2];t=S;p=0;_=5642;g=j;h=1;d=b;break}case 109:{h=mk(o[(QS()|0)>>2]|0)|0;E=71;break}case 115:{h=o[R>>2]|0;h=h|0?h:5652;E=71;break}case 67:{o[A>>2]=o[R>>2];o[k>>2]=0;o[R>>2]=A;g=-1;h=A;E=75;break}case 83:{t=o[R>>2]|0;if(!d){gk(e,32,u,0,y);t=0;E=84}else{g=d;h=t;E=75}break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{u=vk(e,+c[R>>3],u,d,y,h)|0;t=w;continue e}default:{p=0;_=5642;g=j;h=d;d=y}}}while(0);t:do{if((E|0)==61){y=R;v=o[y>>2]|0;y=o[y+4>>2]|0;g=hk(v,y,j,h&32)|0;_=(t&8|0)==0|(v|0)==0&(y|0)==0;p=_?0:2;_=_?5642:5642+(h>>4)|0;b=t;t=v;h=y;E=67}else if((E|0)==66){g=fk(t,h,j)|0;b=y;E=67}else if((E|0)==71){E=0;y=_k(h,0,d)|0;v=(y|0)==0;t=h;p=0;_=5642;g=v?h+d|0:y;h=v?d:y-h|0;d=b}else if((E|0)==75){E=0;_=h;t=0;d=0;while(1){p=o[_>>2]|0;if(!p)break;d=bk(L,p)|0;if((d|0)<0|d>>>0>(g-t|0)>>>0)break;t=d+t|0;if(g>>>0>t>>>0)_=_+4|0;else break}if((d|0)<0){l=-1;break e}gk(e,32,u,t,y);if(!t){t=0;E=84}else{p=0;while(1){d=o[h>>2]|0;if(!d){E=84;break t}d=bk(L,d)|0;p=d+p|0;if((p|0)>(t|0)){E=84;break t}uk(e,L,d);if(p>>>0>=t>>>0){E=84;break}else h=h+4|0}}}}while(0);if((E|0)==67){E=0;h=(t|0)!=0|(h|0)!=0;y=(d|0)!=0|h;h=((h^1)&1)+(M-g)|0;t=y?g:j;g=j;h=y?(d|0)>(h|0)?d:h:d;d=(d|0)>-1?b&-65537:b}else if((E|0)==84){E=0;gk(e,32,u,t,y^8192);u=(u|0)>(t|0)?u:t;t=w;continue}v=g-t|0;b=(h|0)<(v|0)?v:h;y=b+p|0;u=(u|0)<(y|0)?y:u;gk(e,32,u,y,d);uk(e,_,p);gk(e,48,u,y,d^65536);gk(e,48,b,v,0);uk(e,t,v);gk(e,32,u,y,d^8192);t=w}e:do{if((E|0)==87)if(!e)if(!m)l=0;else{l=1;while(1){t=o[s+(l<<2)>>2]|0;if(!t)break;dk(a+(l<<3)|0,t,i);l=l+1|0;if((l|0)>=10){l=1;break e}}while(1){if(o[s+(l<<2)>>2]|0){l=-1;break e}l=l+1|0;if((l|0)>=10){l=1;break}}}}while(0);f=O;return l|0}function sk(e){e=e|0;return 0}function lk(e){e=e|0;return}function uk(e,t,i){e=e|0;t=t|0;i=i|0;if(!(o[e>>2]&32))Ak(t,i,e)|0;return}function ck(e){e=e|0;var t=0,i=0,r=0;i=o[e>>2]|0;r=(n[i>>0]|0)+-48|0;if(r>>>0<10){t=0;do{t=r+(t*10|0)|0;i=i+1|0;o[e>>2]=i;r=(n[i>>0]|0)+-48|0}while(r>>>0<10)}else t=0;return t|0}function dk(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,a=0.0;e:do{if(t>>>0<=20)do{switch(t|0){case 9:{n=(o[i>>2]|0)+(4-1)&~(4-1);t=o[n>>2]|0;o[i>>2]=n+4;o[e>>2]=t;break e}case 10:{n=(o[i>>2]|0)+(4-1)&~(4-1);t=o[n>>2]|0;o[i>>2]=n+4;n=e;o[n>>2]=t;o[n+4>>2]=((t|0)<0)<<31>>31;break e}case 11:{n=(o[i>>2]|0)+(4-1)&~(4-1);t=o[n>>2]|0;o[i>>2]=n+4;n=e;o[n>>2]=t;o[n+4>>2]=0;break e}case 12:{n=(o[i>>2]|0)+(8-1)&~(8-1);t=n;r=o[t>>2]|0;t=o[t+4>>2]|0;o[i>>2]=n+8;n=e;o[n>>2]=r;o[n+4>>2]=t;break e}case 13:{r=(o[i>>2]|0)+(4-1)&~(4-1);n=o[r>>2]|0;o[i>>2]=r+4;n=(n&65535)<<16>>16;r=e;o[r>>2]=n;o[r+4>>2]=((n|0)<0)<<31>>31;break e}case 14:{r=(o[i>>2]|0)+(4-1)&~(4-1);n=o[r>>2]|0;o[i>>2]=r+4;r=e;o[r>>2]=n&65535;o[r+4>>2]=0;break e}case 15:{r=(o[i>>2]|0)+(4-1)&~(4-1);n=o[r>>2]|0;o[i>>2]=r+4;n=(n&255)<<24>>24;r=e;o[r>>2]=n;o[r+4>>2]=((n|0)<0)<<31>>31;break e}case 16:{r=(o[i>>2]|0)+(4-1)&~(4-1);n=o[r>>2]|0;o[i>>2]=r+4;r=e;o[r>>2]=n&255;o[r+4>>2]=0;break e}case 17:{r=(o[i>>2]|0)+(8-1)&~(8-1);a=+c[r>>3];o[i>>2]=r+8;c[e>>3]=a;break e}case 18:{r=(o[i>>2]|0)+(8-1)&~(8-1);a=+c[r>>3];o[i>>2]=r+8;c[e>>3]=a;break e}default:break e}}while(0)}while(0);return}function hk(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;if(!((e|0)==0&(t|0)==0))do{i=i+-1|0;n[i>>0]=a[5694+(e&15)>>0]|0|r;e=nx(e|0,t|0,4)|0;t=C}while(!((e|0)==0&(t|0)==0));return i|0}function pk(e,t,i){e=e|0;t=t|0;i=i|0;if(!((e|0)==0&(t|0)==0))do{i=i+-1|0;n[i>>0]=e&7|48;e=nx(e|0,t|0,3)|0;t=C}while(!((e|0)==0&(t|0)==0));return i|0}function fk(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;if(t>>>0>0|(t|0)==0&e>>>0>4294967295){while(1){r=cx(e|0,t|0,10,0)|0;i=i+-1|0;n[i>>0]=r&255|48;r=e;e=sx(e|0,t|0,10,0)|0;if(!(t>>>0>9|(t|0)==9&r>>>0>4294967295))break;else t=C}t=e}else t=e;if(t)while(1){i=i+-1|0;n[i>>0]=(t>>>0)%10|0|48;if(t>>>0<10)break;else t=(t>>>0)/10|0}return i|0}function mk(e){e=e|0;return Sk(e,o[(Mk()|0)+188>>2]|0)|0}function _k(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,s=0,l=0;s=t&255;r=(i|0)!=0;e:do{if(r&(e&3|0)!=0){a=t&255;while(1){if((n[e>>0]|0)==a<<24>>24){l=6;break e}e=e+1|0;i=i+-1|0;r=(i|0)!=0;if(!(r&(e&3|0)!=0)){l=5;break}}}else l=5}while(0);if((l|0)==5)if(r)l=6;else i=0;e:do{if((l|0)==6){a=t&255;if((n[e>>0]|0)!=a<<24>>24){r=z(s,16843009)|0;t:do{if(i>>>0>3)while(1){s=o[e>>2]^r;if((s&-2139062144^-2139062144)&s+-16843009|0)break;e=e+4|0;i=i+-4|0;if(i>>>0<=3){l=11;break t}}else l=11}while(0);if((l|0)==11)if(!i){i=0;break}while(1){if((n[e>>0]|0)==a<<24>>24)break e;e=e+1|0;i=i+-1|0;if(!i){i=0;break}}}}}while(0);return(i|0?e:0)|0}function gk(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var o=0,a=0;a=f;f=f+256|0;o=a;if((i|0)>(n|0)&(r&73728|0)==0){r=i-n|0;tx(o|0,t|0,(r>>>0<256?r:256)|0)|0;if(r>>>0>255){t=i-n|0;do{uk(e,o,256);r=r+-256|0}while(r>>>0>255);r=t&255}uk(e,o,r)}f=a;return}function bk(e,t){e=e|0;t=t|0;if(!e)e=0;else e=Tk(e,t,0)|0;return e|0}function vk(e,t,i,r,s,l){e=e|0;t=+t;i=i|0;r=r|0;s=s|0;l=l|0;var u=0,c=0,d=0,h=0,p=0,m=0,_=0,g=0.0,b=0,v=0,y=0,w=0,E=0,T=0,j=0,M=0,S=0,k=0,x=0,R=0,A=0,L=0,O=0;O=f;f=f+560|0;d=O+8|0;y=O;L=O+524|0;A=L;h=O+512|0;o[y>>2]=0;R=h+12|0;yk(t)|0;if((C|0)<0){t=-t;k=1;S=5659}else{k=(s&2049|0)!=0&1;S=(s&2048|0)==0?(s&1|0)==0?5660:5665:5662}yk(t)|0;x=C&2146435072;do{if(x>>>0<2146435072|(x|0)==2146435072&0<0){g=+wk(t,y)*2.0;u=g!=0.0;if(u)o[y>>2]=(o[y>>2]|0)+-1;E=l|32;if((E|0)==97){b=l&32;_=(b|0)==0?S:S+9|0;m=k|2;u=12-r|0;do{if(!(r>>>0>11|(u|0)==0)){t=8.0;do{u=u+-1|0;t=t*16.0}while((u|0)!=0);if((n[_>>0]|0)==45){t=-(t+(-g-t));break}else{t=g+t-t;break}}else t=g}while(0);c=o[y>>2]|0;u=(c|0)<0?0-c|0:c;u=fk(u,((u|0)<0)<<31>>31,R)|0;if((u|0)==(R|0)){u=h+11|0;n[u>>0]=48}n[u+-1>>0]=(c>>31&2)+43;p=u+-2|0;n[p>>0]=l+15;h=(r|0)<1;d=(s&8|0)==0;u=L;do{x=~~t;c=u+1|0;n[u>>0]=a[5694+x>>0]|b;t=(t-+(x|0))*16.0;if((c-A|0)==1?!(d&(h&t==0.0)):0){n[c>>0]=46;u=u+2|0}else u=c}while(t!=0.0);x=u-A|0;A=R-p|0;R=(r|0)!=0&(x+-2|0)<(r|0)?r+2|0:x;u=A+m+R|0;gk(e,32,i,u,s);uk(e,_,m);gk(e,48,i,u,s^65536);uk(e,L,x);gk(e,48,R-x|0,0,0);uk(e,p,A);gk(e,32,i,u,s^8192);break}c=(r|0)<0?6:r;if(u){u=(o[y>>2]|0)+-28|0;o[y>>2]=u;t=g*268435456.0}else{t=g;u=o[y>>2]|0}x=(u|0)<0?d:d+288|0;d=x;do{j=~~t>>>0;o[d>>2]=j;d=d+4|0;t=(t-+(j>>>0))*1.0e9}while(t!=0.0);if((u|0)>0){h=x;m=d;while(1){p=(u|0)<29?u:29;u=m+-4|0;if(u>>>0>=h>>>0){d=0;do{T=ix(o[u>>2]|0,0,p|0)|0;T=ex(T|0,C|0,d|0,0)|0;j=C;w=cx(T|0,j|0,1e9,0)|0;o[u>>2]=w;d=sx(T|0,j|0,1e9,0)|0;u=u+-4|0}while(u>>>0>=h>>>0);if(d){h=h+-4|0;o[h>>2]=d}}d=m;while(1){if(d>>>0<=h>>>0)break;u=d+-4|0;if(!(o[u>>2]|0))d=u;else break}u=(o[y>>2]|0)-p|0;o[y>>2]=u;if((u|0)>0)m=d;else break}}else h=x;if((u|0)<0){r=((c+25|0)/9|0)+1|0;v=(E|0)==102;do{b=0-u|0;b=(b|0)<9?b:9;if(h>>>0<d>>>0){p=(1<<b)+-1|0;m=1e9>>>b;_=0;u=h;do{j=o[u>>2]|0;o[u>>2]=(j>>>b)+_;_=z(j&p,m)|0;u=u+4|0}while(u>>>0<d>>>0);u=(o[h>>2]|0)==0?h+4|0:h;if(!_){h=u;u=d}else{o[d>>2]=_;h=u;u=d+4|0}}else{h=(o[h>>2]|0)==0?h+4|0:h;u=d}d=v?x:h;d=(u-d>>2|0)>(r|0)?d+(r<<2)|0:u;u=(o[y>>2]|0)+b|0;o[y>>2]=u}while((u|0)<0);u=h;r=d}else{u=h;r=d}j=x;if(u>>>0<r>>>0){d=(j-u>>2)*9|0;p=o[u>>2]|0;if(p>>>0>=10){h=10;do{h=h*10|0;d=d+1|0}while(p>>>0>=h>>>0)}}else d=0;v=(E|0)==103;w=(c|0)!=0;h=c-((E|0)!=102?d:0)+((w&v)<<31>>31)|0;if((h|0)<(((r-j>>2)*9|0)+-9|0)){h=h+9216|0;b=x+4+(((h|0)/9|0)+-1024<<2)|0;h=((h|0)%9|0)+1|0;if((h|0)<9){p=10;do{p=p*10|0;h=h+1|0}while((h|0)!=9)}else p=10;m=o[b>>2]|0;_=(m>>>0)%(p>>>0)|0;h=(b+4|0)==(r|0);if(!(h&(_|0)==0)){g=(((m>>>0)/(p>>>0)|0)&1|0)==0?9007199254740992.0:9007199254740994.0;T=(p|0)/2|0;t=_>>>0<T>>>0?.5:h&(_|0)==(T|0)?1.0:1.5;if(k){T=(n[S>>0]|0)==45;t=T?-t:t;g=T?-g:g}h=m-_|0;o[b>>2]=h;if(g+t!=g){T=h+p|0;o[b>>2]=T;if(T>>>0>999999999){d=b;while(1){h=d+-4|0;o[d>>2]=0;if(h>>>0<u>>>0){u=u+-4|0;o[u>>2]=0}T=(o[h>>2]|0)+1|0;o[h>>2]=T;if(T>>>0>999999999)d=h;else break}}else h=b;d=(j-u>>2)*9|0;m=o[u>>2]|0;if(m>>>0>=10){p=10;do{p=p*10|0;d=d+1|0}while(m>>>0>=p>>>0)}}else h=b}else h=b;h=h+4|0;h=r>>>0>h>>>0?h:r;T=u}else{h=r;T=u}E=h;while(1){if(E>>>0<=T>>>0){y=0;break}u=E+-4|0;if(!(o[u>>2]|0))E=u;else{y=1;break}}r=0-d|0;do{if(v){u=((w^1)&1)+c|0;if((u|0)>(d|0)&(d|0)>-5){p=l+-1|0;c=u+-1-d|0}else{p=l+-2|0;c=u+-1|0}u=s&8;if(!u){if(y?(M=o[E+-4>>2]|0,(M|0)!=0):0){if(!((M>>>0)%10|0)){h=0;u=10;do{u=u*10|0;h=h+1|0}while(!((M>>>0)%(u>>>0)|0|0))}else h=0}else h=9;u=((E-j>>2)*9|0)+-9|0;if((p|32|0)==102){b=u-h|0;b=(b|0)>0?b:0;c=(c|0)<(b|0)?c:b;b=0;break}else{b=u+d-h|0;b=(b|0)>0?b:0;c=(c|0)<(b|0)?c:b;b=0;break}}else b=u}else{p=l;b=s&8}}while(0);v=c|b;m=(v|0)!=0&1;_=(p|32|0)==102;if(_){w=0;u=(d|0)>0?d:0}else{u=(d|0)<0?r:d;u=fk(u,((u|0)<0)<<31>>31,R)|0;h=R;if((h-u|0)<2)do{u=u+-1|0;n[u>>0]=48}while((h-u|0)<2);n[u+-1>>0]=(d>>31&2)+43;u=u+-2|0;n[u>>0]=p;w=u;u=h-u|0}u=k+1+c+m+u|0;gk(e,32,i,u,s);uk(e,S,k);gk(e,48,i,u,s^65536);if(_){p=T>>>0>x>>>0?x:T;b=L+9|0;m=b;_=L+8|0;h=p;do{d=fk(o[h>>2]|0,0,b)|0;if((h|0)==(p|0)){if((d|0)==(b|0)){n[_>>0]=48;d=_}}else if(d>>>0>L>>>0){tx(L|0,48,d-A|0)|0;do{d=d+-1|0}while(d>>>0>L>>>0)}uk(e,d,m-d|0);h=h+4|0}while(h>>>0<=x>>>0);if(v|0)uk(e,5710,1);if(h>>>0<E>>>0&(c|0)>0)while(1){d=fk(o[h>>2]|0,0,b)|0;if(d>>>0>L>>>0){tx(L|0,48,d-A|0)|0;do{d=d+-1|0}while(d>>>0>L>>>0)}uk(e,d,(c|0)<9?c:9);h=h+4|0;d=c+-9|0;if(!(h>>>0<E>>>0&(c|0)>9)){c=d;break}else c=d}gk(e,48,c+9|0,9,0)}else{v=y?E:T+4|0;if((c|0)>-1){y=L+9|0;b=(b|0)==0;r=y;m=0-A|0;_=L+8|0;p=T;do{d=fk(o[p>>2]|0,0,y)|0;if((d|0)==(y|0)){n[_>>0]=48;d=_}do{if((p|0)==(T|0)){h=d+1|0;uk(e,d,1);if(b&(c|0)<1){d=h;break}uk(e,5710,1);d=h}else{if(d>>>0<=L>>>0)break;tx(L|0,48,d+m|0)|0;do{d=d+-1|0}while(d>>>0>L>>>0)}}while(0);A=r-d|0;uk(e,d,(c|0)>(A|0)?A:c);c=c-A|0;p=p+4|0}while(p>>>0<v>>>0&(c|0)>-1)}gk(e,48,c+18|0,18,0);uk(e,w,R-w|0)}gk(e,32,i,u,s^8192)}else{L=(l&32|0)!=0;u=k+3|0;gk(e,32,i,u,s&-65537);uk(e,S,k);uk(e,t!=t|0.0!=0.0?L?5686:5690:L?5678:5682,3);gk(e,32,i,u,s^8192)}}while(0);f=O;return((u|0)<(i|0)?i:u)|0}function yk(e){e=+e;var t=0;c[h>>3]=e;t=o[h>>2]|0;C=o[h+4>>2]|0;return t|0}function wk(e,t){e=+e;t=t|0;return+ +Ek(e,t)}function Ek(e,t){e=+e;t=t|0;var i=0,n=0,r=0;c[h>>3]=e;i=o[h>>2]|0;n=o[h+4>>2]|0;r=nx(i|0,n|0,52)|0;switch(r&2047){case 0:{if(e!=0.0){e=+Ek(e*18446744073709551616.0,t);i=(o[t>>2]|0)+-64|0}else i=0;o[t>>2]=i;break}case 2047:break;default:{o[t>>2]=(r&2047)+-1022;o[h>>2]=i;o[h+4>>2]=n&-2146435073|1071644672;e=+c[h>>3]}}return+e}function Tk(e,t,i){e=e|0;t=t|0;i=i|0;do{if(e){if(t>>>0<128){n[e>>0]=t;e=1;break}if(!(o[o[(jk()|0)+188>>2]>>2]|0))if((t&-128|0)==57216){n[e>>0]=t;e=1;break}else{o[(QS()|0)>>2]=84;e=-1;break}if(t>>>0<2048){n[e>>0]=t>>>6|192;n[e+1>>0]=t&63|128;e=2;break}if(t>>>0<55296|(t&-8192|0)==57344){n[e>>0]=t>>>12|224;n[e+1>>0]=t>>>6&63|128;n[e+2>>0]=t&63|128;e=3;break}if((t+-65536|0)>>>0<1048576){n[e>>0]=t>>>18|240;n[e+1>>0]=t>>>12&63|128;n[e+2>>0]=t>>>6&63|128;n[e+3>>0]=t&63|128;e=4;break}else{o[(QS()|0)>>2]=84;e=-1;break}}else e=1}while(0);return e|0}function jk(){return ek()|0}function Mk(){return ek()|0}function Sk(e,t){e=e|0;t=t|0;var i=0,r=0;r=0;while(1){if((a[5712+r>>0]|0)==(e|0)){e=2;break}i=r+1|0;if((i|0)==87){i=5800;r=87;e=5;break}else r=i}if((e|0)==2)if(!r)i=5800;else{i=5800;e=5}if((e|0)==5)while(1){do{e=i;i=i+1|0}while((n[e>>0]|0)!=0);r=r+-1|0;if(!r)break;else e=5}return kk(i,o[t+20>>2]|0)|0}function kk(e,t){e=e|0;t=t|0;return xk(e,t)|0}function xk(e,t){e=e|0;t=t|0;if(!t)t=0;else t=Ck(o[t>>2]|0,o[t+4>>2]|0,e)|0;return(t|0?t:e)|0}function Ck(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0,f=0;f=(o[e>>2]|0)+1794895138|0;s=Rk(o[e+8>>2]|0,f)|0;r=Rk(o[e+12>>2]|0,f)|0;a=Rk(o[e+16>>2]|0,f)|0;e:do{if((s>>>0<t>>>2>>>0?(p=t-(s<<2)|0,r>>>0<p>>>0&a>>>0<p>>>0):0)?((a|r)&3|0)==0:0){p=r>>>2;h=a>>>2;d=0;while(1){u=s>>>1;c=d+u|0;l=c<<1;a=l+p|0;r=Rk(o[e+(a<<2)>>2]|0,f)|0;a=Rk(o[e+(a+1<<2)>>2]|0,f)|0;if(!(a>>>0<t>>>0&r>>>0<(t-a|0)>>>0)){r=0;break e}if(n[e+(a+r)>>0]|0){r=0;break e}r=nk(i,e+a|0)|0;if(!r)break;r=(r|0)<0;if((s|0)==1){r=0;break e}else{d=r?d:c;s=r?u:s-u|0}}r=l+h|0;a=Rk(o[e+(r<<2)>>2]|0,f)|0;r=Rk(o[e+(r+1<<2)>>2]|0,f)|0;if(r>>>0<t>>>0&a>>>0<(t-r|0)>>>0)r=(n[e+(r+a)>>0]|0)==0?e+r|0:0;else r=0}else r=0}while(0);return r|0}function Rk(e,t){e=e|0;t=t|0;var i=0;i=dx(e|0)|0;return((t|0)==0?e:i)|0}function Ak(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,s=0,l=0,u=0;r=i+16|0;a=o[r>>2]|0;if(!a){if(!(Lk(i)|0)){a=o[r>>2]|0;s=5}else r=0}else s=5;e:do{if((s|0)==5){u=i+20|0;l=o[u>>2]|0;r=l;if((a-l|0)>>>0<t>>>0){r=vC[o[i+36>>2]&7](i,e,t)|0;break}t:do{if((n[i+75>>0]|0)>-1){l=t;while(1){if(!l){s=0;a=e;break t}a=l+-1|0;if((n[e+a>>0]|0)==10)break;else l=a}r=vC[o[i+36>>2]&7](i,e,l)|0;if(r>>>0<l>>>0)break e;s=l;a=e+l|0;t=t-l|0;r=o[u>>2]|0}else{s=0;a=e}}while(0);rx(r|0,a|0,t|0)|0;o[u>>2]=(o[u>>2]|0)+t;r=s+t|0}}while(0);return r|0}function Lk(e){e=e|0;var t=0,i=0;t=e+74|0;i=n[t>>0]|0;n[t>>0]=i+255|i;t=o[e>>2]|0;if(!(t&8)){o[e+8>>2]=0;o[e+4>>2]=0;i=o[e+44>>2]|0;o[e+28>>2]=i;o[e+20>>2]=i;o[e+16>>2]=i+(o[e+48>>2]|0);e=0}else{o[e>>2]=t|32;e=-1}return e|0}function Ok(e,t){e=X(e);t=X(t);var i=0,n=0;i=Pk(e)|0;do{if((i&2147483647)>>>0<=2139095040){n=Pk(t)|0;if((n&2147483647)>>>0<=2139095040)if((n^i|0)<0){e=(i|0)<0?t:e;break}else{e=e<t?t:e;break}}else e=t}while(0);return X(e)}function Pk(e){e=X(e);return(u[h>>2]=e,o[h>>2]|0)|0}function Ik(e,t){e=X(e);t=X(t);var i=0,n=0;i=Bk(e)|0;do{if((i&2147483647)>>>0<=2139095040){n=Bk(t)|0;if((n&2147483647)>>>0<=2139095040)if((n^i|0)<0){e=(i|0)<0?e:t;break}else{e=e<t?e:t;break}}else e=t}while(0);return X(e)}function Bk(e){e=X(e);return(u[h>>2]=e,o[h>>2]|0)|0}function Dk(e,t){e=X(e);t=X(t);var i=0,n=0,r=0,a=0,s=0,l=0,c=0,d=0;a=(u[h>>2]=e,o[h>>2]|0);l=(u[h>>2]=t,o[h>>2]|0);i=a>>>23&255;s=l>>>23&255;c=a&-2147483648;r=l<<1;e:do{if((r|0)!=0?!((i|0)==255|((Nk(t)|0)&2147483647)>>>0>2139095040):0){n=a<<1;if(n>>>0<=r>>>0){t=X(e*X(0.0));return X((n|0)==(r|0)?t:e)}if(!i){i=a<<9;if((i|0)>-1){n=i;i=0;do{i=i+-1|0;n=n<<1}while((n|0)>-1)}else i=0;n=a<<1-i}else n=a&8388607|8388608;if(!s){a=l<<9;if((a|0)>-1){r=0;do{r=r+-1|0;a=a<<1}while((a|0)>-1)}else r=0;s=r;l=l<<1-r}else l=l&8388607|8388608;r=n-l|0;a=(r|0)>-1;t:do{if((i|0)>(s|0)){while(1){if(a)if(!r)break;else n=r;n=n<<1;i=i+-1|0;r=n-l|0;a=(r|0)>-1;if((i|0)<=(s|0))break t}t=X(e*X(0.0));break e}}while(0);if(a)if(!r){t=X(e*X(0.0));break}else n=r;if(n>>>0<8388608)do{n=n<<1;i=i+-1|0}while(n>>>0<8388608);if((i|0)>0)i=n+-8388608|i<<23;else i=n>>>(1-i|0);t=(o[h>>2]=i|c,X(u[h>>2]))}else d=3}while(0);if((d|0)==3){t=X(e*t);t=X(t/t)}return X(t)}function Nk(e){e=X(e);return(u[h>>2]=e,o[h>>2]|0)|0}function Uk(e,t){e=e|0;t=t|0;return ok(o[582]|0,e,t)|0}function Fk(e){e=e|0;Xe()}function Hk(e){e=e|0;return}function Wk(e,t){e=e|0;t=t|0;return 0}function Gk(e){e=e|0;if((zk(e+4|0)|0)==-1){fC[o[(o[e>>2]|0)+8>>2]&127](e);e=1}else e=0;return e|0}function zk(e){e=e|0;var t=0;t=o[e>>2]|0;o[e>>2]=t+-1;return t+-1|0}function Vk(e){e=e|0;if(Gk(e)|0)Yk(e);return}function Yk(e){e=e|0;var t=0;t=e+8|0;if(!((o[t>>2]|0)!=0?(zk(t)|0)!=-1:0))fC[o[(o[e>>2]|0)+16>>2]&127](e);return}function qk(e){e=e|0;var t=0;t=(e|0)==0?1:e;while(1){e=VS(t)|0;if(e|0)break;e=Zk()|0;if(!e){e=0;break}LC[e&0]()}return e|0}function Xk(e){e=e|0;return qk(e)|0}function Kk(e){e=e|0;YS(e);return}function Jk(e){e=e|0;if((n[e+11>>0]|0)<0)Kk(o[e>>2]|0);return}function Zk(){var e=0;e=o[2923]|0;o[2923]=e+0;return e|0}function Qk(){}function $k(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;n=t-n-(i>>>0>e>>>0|0)>>>0;return(C=n,e-i>>>0|0)|0}function ex(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;i=e+i>>>0;return(C=t+n+(i>>>0<e>>>0|0)>>>0,i|0)|0}function tx(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,s=0,l=0;s=e+i|0;t=t&255;if((i|0)>=67){while(e&3){n[e>>0]=t;e=e+1|0}r=s&-4|0;a=r-64|0;l=t|t<<8|t<<16|t<<24;while((e|0)<=(a|0)){o[e>>2]=l;o[e+4>>2]=l;o[e+8>>2]=l;o[e+12>>2]=l;o[e+16>>2]=l;o[e+20>>2]=l;o[e+24>>2]=l;o[e+28>>2]=l;o[e+32>>2]=l;o[e+36>>2]=l;o[e+40>>2]=l;o[e+44>>2]=l;o[e+48>>2]=l;o[e+52>>2]=l;o[e+56>>2]=l;o[e+60>>2]=l;e=e+64|0}while((e|0)<(r|0)){o[e>>2]=l;e=e+4|0}}while((e|0)<(s|0)){n[e>>0]=t;e=e+1|0}return s-i|0}function ix(e,t,i){e=e|0;t=t|0;i=i|0;if((i|0)<32){C=t<<i|(e&(1<<i)-1<<32-i)>>>32-i;return e<<i}C=e<<i-32;return 0}function nx(e,t,i){e=e|0;t=t|0;i=i|0;if((i|0)<32){C=t>>>i;return e>>>i|(t&(1<<i)-1)<<32-i}C=0;return t>>>i-32|0}function rx(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,s=0;if((i|0)>=8192)return Ge(e|0,t|0,i|0)|0;s=e|0;a=e+i|0;if((e&3)==(t&3)){while(e&3){if(!i)return s|0;n[e>>0]=n[t>>0]|0;e=e+1|0;t=t+1|0;i=i-1|0}i=a&-4|0;r=i-64|0;while((e|0)<=(r|0)){o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];o[e+28>>2]=o[t+28>>2];o[e+32>>2]=o[t+32>>2];o[e+36>>2]=o[t+36>>2];o[e+40>>2]=o[t+40>>2];o[e+44>>2]=o[t+44>>2];o[e+48>>2]=o[t+48>>2];o[e+52>>2]=o[t+52>>2];o[e+56>>2]=o[t+56>>2];o[e+60>>2]=o[t+60>>2];e=e+64|0;t=t+64|0}while((e|0)<(i|0)){o[e>>2]=o[t>>2];e=e+4|0;t=t+4|0}}else{i=a-4|0;while((e|0)<(i|0)){n[e>>0]=n[t>>0]|0;n[e+1>>0]=n[t+1>>0]|0;n[e+2>>0]=n[t+2>>0]|0;n[e+3>>0]=n[t+3>>0]|0;e=e+4|0;t=t+4|0}}while((e|0)<(a|0)){n[e>>0]=n[t>>0]|0;e=e+1|0;t=t+1|0}return s|0}function ox(e){e=e|0;var t=0;t=n[_+(e&255)>>0]|0;if((t|0)<8)return t|0;t=n[_+(e>>8&255)>>0]|0;if((t|0)<8)return t+8|0;t=n[_+(e>>16&255)>>0]|0;if((t|0)<8)return t+16|0;return(n[_+(e>>>24)>>0]|0)+24|0}function ax(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var a=0,s=0,l=0,u=0,c=0,d=0,h=0,p=0,f=0,m=0;d=e;u=t;c=u;s=i;p=n;l=p;if(!c){a=(r|0)!=0;if(!l){if(a){o[r>>2]=(d>>>0)%(s>>>0);o[r+4>>2]=0}p=0;r=(d>>>0)/(s>>>0)>>>0;return(C=p,r)|0}else{if(!a){p=0;r=0;return(C=p,r)|0}o[r>>2]=e|0;o[r+4>>2]=t&0;p=0;r=0;return(C=p,r)|0}}a=(l|0)==0;do{if(s){if(!a){a=(q(l|0)|0)-(q(c|0)|0)|0;if(a>>>0<=31){h=a+1|0;l=31-a|0;t=a-31>>31;s=h;e=d>>>(h>>>0)&t|c<<l;t=c>>>(h>>>0)&t;a=0;l=d<<l;break}if(!r){p=0;r=0;return(C=p,r)|0}o[r>>2]=e|0;o[r+4>>2]=u|t&0;p=0;r=0;return(C=p,r)|0}a=s-1|0;if(a&s|0){l=(q(s|0)|0)+33-(q(c|0)|0)|0;m=64-l|0;h=32-l|0;u=h>>31;f=l-32|0;t=f>>31;s=l;e=h-1>>31&c>>>(f>>>0)|(c<<h|d>>>(l>>>0))&t;t=t&c>>>(l>>>0);a=d<<m&u;l=(c<<m|d>>>(f>>>0))&u|d<<h&l-33>>31;break}if(r|0){o[r>>2]=a&d;o[r+4>>2]=0}if((s|0)==1){f=u|t&0;m=e|0|0;return(C=f,m)|0}else{m=ox(s|0)|0;f=c>>>(m>>>0)|0;m=c<<32-m|d>>>(m>>>0)|0;return(C=f,m)|0}}else{if(a){if(r|0){o[r>>2]=(c>>>0)%(s>>>0);o[r+4>>2]=0}f=0;m=(c>>>0)/(s>>>0)>>>0;return(C=f,m)|0}if(!d){if(r|0){o[r>>2]=0;o[r+4>>2]=(c>>>0)%(l>>>0)}f=0;m=(c>>>0)/(l>>>0)>>>0;return(C=f,m)|0}a=l-1|0;if(!(a&l)){if(r|0){o[r>>2]=e|0;o[r+4>>2]=a&c|t&0}f=0;m=c>>>((ox(l|0)|0)>>>0);return(C=f,m)|0}a=(q(l|0)|0)-(q(c|0)|0)|0;if(a>>>0<=30){t=a+1|0;l=31-a|0;s=t;e=c<<l|d>>>(t>>>0);t=c>>>(t>>>0);a=0;l=d<<l;break}if(!r){f=0;m=0;return(C=f,m)|0}o[r>>2]=e|0;o[r+4>>2]=u|t&0;f=0;m=0;return(C=f,m)|0}}while(0);if(!s){c=l;u=0;l=0}else{h=i|0|0;d=p|n&0;c=ex(h|0,d|0,-1,-1)|0;i=C;u=l;l=0;do{n=u;u=a>>>31|u<<1;a=l|a<<1;n=e<<1|n>>>31|0;p=e>>>31|t<<1|0;$k(c|0,i|0,n|0,p|0)|0;m=C;f=m>>31|((m|0)<0?-1:0)<<1;l=f&1;e=$k(n|0,p|0,f&h|0,(((m|0)<0?-1:0)>>31|((m|0)<0?-1:0)<<1)&d|0)|0;t=C;s=s-1|0}while((s|0)!=0);c=u;u=0}s=0;if(r|0){o[r>>2]=e;o[r+4>>2]=t}f=(a|0)>>>31|(c|s)<<1|(s<<1|a>>>31)&0|u;m=(a<<1|0>>>31)&-2|l;return(C=f,m)|0}function sx(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;return ax(e,t,i,n,0)|0}function lx(e){e=e|0;var t=0,i=0;i=e+15&-16|0;t=o[d>>2]|0;e=t+i|0;if((i|0)>0&(e|0)<(t|0)|(e|0)<0){$()|0;Ve(12);return-1}o[d>>2]=e;if((e|0)>(Q()|0)?(Z()|0)==0:0){o[d>>2]=t;Ve(12);return-1}return t|0}function ux(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;if((t|0)<(e|0)&(e|0)<(t+i|0)){r=e;t=t+i|0;e=e+i|0;while((i|0)>0){e=e-1|0;t=t-1|0;i=i-1|0;n[e>>0]=n[t>>0]|0}e=r}else rx(e,t,i)|0;return e|0}function cx(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0;a=f;f=f+16|0;r=a|0;ax(e,t,i,n,r)|0;f=a;return(C=o[r+4>>2]|0,o[r>>2]|0)|0}function dx(e){e=e|0;return(e&255)<<24|(e>>8&255)<<16|(e>>16&255)<<8|e>>>24|0}function hx(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;cC[e&1](t|0,i|0,n|0,r|0,o|0)}function px(e,t,i){e=e|0;t=t|0;i=X(i);dC[e&1](t|0,X(i))}function fx(e,t,i){e=e|0;t=t|0;i=+i;hC[e&31](t|0,+i)}function mx(e,t,i,n){e=e|0;t=t|0;i=X(i);n=X(n);return X(pC[e&0](t|0,X(i),X(n)))}function _x(e,t){e=e|0;t=t|0;fC[e&127](t|0)}function gx(e,t,i){e=e|0;t=t|0;i=i|0;mC[e&31](t|0,i|0)}function bx(e,t){e=e|0;t=t|0;return _C[e&31](t|0)|0}function vx(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=+n;r=r|0;gC[e&1](t|0,+i,+n,r|0)}function yx(e,t,i,n){e=e|0;t=t|0;i=+i;n=+n;bC[e&1](t|0,+i,+n)}function wx(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;return vC[e&7](t|0,i|0,n|0)|0}function Ex(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;return+yC[e&1](t|0,i|0,n|0)}function Tx(e,t){e=e|0;t=t|0;return+wC[e&15](t|0)}function jx(e,t,i){e=e|0;t=t|0;i=+i;return EC[e&1](t|0,+i)|0}function Mx(e,t,i){e=e|0;t=t|0;i=i|0;return TC[e&15](t|0,i|0)|0}function Sx(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=+n;r=+r;o=o|0;jC[e&1](t|0,i|0,+n,+r,o|0)}function kx(e,t,i,n,r,o,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;a=a|0;MC[e&1](t|0,i|0,n|0,r|0,o|0,a|0)}function xx(e,t,i){e=e|0;t=t|0;i=i|0;return+SC[e&7](t|0,i|0)}function Cx(e){e=e|0;return kC[e&7]()|0}function Rx(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;return xC[e&1](t|0,i|0,n|0,r|0,o|0)|0}function Ax(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;CC[e&1](t|0,i|0,n|0,+r)}function Lx(e,t,i,n,r,o,a){e=e|0;t=t|0;i=i|0;n=X(n);r=r|0;o=X(o);a=a|0;RC[e&1](t|0,i|0,X(n),r|0,X(o),a|0)}function Ox(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;AC[e&15](t|0,i|0,n|0)}function Px(e){e=e|0;LC[e&0]()}function Ix(e,t,i,n){e=e|0;t=t|0;i=i|0;n=+n;OC[e&15](t|0,i|0,+n)}function Bx(e,t,i){e=e|0;t=+t;i=+i;return PC[e&1](+t,+i)|0}function Dx(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;IC[e&15](t|0,i|0,n|0,r|0)}function Nx(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;K(0)}function Ux(e,t){e=e|0;t=X(t);K(1)}function Fx(e,t){e=e|0;t=+t;K(2)}function Hx(e,t,i){e=e|0;t=X(t);i=X(i);K(3);return dt}function Wx(e){e=e|0;K(4)}function Gx(e,t){e=e|0;t=t|0;K(5)}function zx(e){e=e|0;K(6);return 0}function Vx(e,t,i,n){e=e|0;t=+t;i=+i;n=n|0;K(7)}function Yx(e,t,i){e=e|0;t=+t;i=+i;K(8)}function qx(e,t,i){e=e|0;t=t|0;i=i|0;K(9);return 0}function Xx(e,t,i){e=e|0;t=t|0;i=i|0;K(10);return 0.0}function Kx(e){e=e|0;K(11);return 0.0}function Jx(e,t){e=e|0;t=+t;K(12);return 0}function Zx(e,t){e=e|0;t=t|0;K(13);return 0}function Qx(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=+n;r=r|0;K(14)}function $x(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;K(15)}function eC(e,t){e=e|0;t=t|0;K(16);return 0.0}function tC(){K(17);return 0}function iC(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;K(18);return 0}function nC(e,t,i,n){e=e|0;t=t|0;i=i|0;n=+n;K(19)}function rC(e,t,i,n,r,o){e=e|0;t=t|0;i=X(i);n=n|0;r=X(r);o=o|0;K(20)}function oC(e,t,i){e=e|0;t=t|0;i=i|0;K(21)}function aC(){K(22)}function sC(e,t,i){e=e|0;t=t|0;i=+i;K(23)}function lC(e,t){e=+e;t=+t;K(24);return 0}function uC(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;K(25)}var cC=[Nx,TE];var dC=[Ux,Vr];var hC=[Fx,bo,vo,yo,wo,Eo,To,jo,So,ko,Co,Ro,Ao,Lo,Oo,Po,Io,Bo,Do,Fx,Fx,Fx,Fx,Fx,Fx,Fx,Fx,Fx,Fx,Fx,Fx,Fx];var pC=[Hx];var fC=[Wx,Hk,fl,ml,_l,Xh,Kh,Jh,by,vy,yy,oE,aE,sE,aS,sS,lS,yt,Jr,to,Mo,xo,Ua,Fa,Ks,jl,Wl,pu,Ou,nc,Sc,Vc,dd,Od,Qd,gh,Bh,_p,Ip,ef,yf,Uf,rm,Sm,zm,s_,x_,Wr,cg,Cg,Zg,bb,Bb,ov,gv,yv,Fv,Gv,sy,Ty,Sy,Yy,pw,Ml,RT,pj,Aj,Kj,yM,NM,JM,$M,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx,Wx];var mC=[Gx,io,no,ao,so,lo,uo,co,ho,mo,_o,go,ea,na,ra,oa,aa,sa,la,pa,ga,Ka,Rm,qm,Eb,OT,ww,ej,Gx,Gx,Gx,Gx];var _C=[zx,XS,Kr,Ho,Vo,Yo,qo,Xo,Ko,Jo,Qo,$o,fa,ma,Ha,A_,Fb,Ky,NT,FT,zx,zx,zx,zx,zx,zx,zx,zx,zx,zx,zx,zx];var gC=[Vx,Wa];var bC=[Yx,cy];var vC=[qx,KS,JS,ik,sc,yp,fg,$j];var yC=[Xx,ih];var wC=[Kx,ta,ia,ua,Ga,za,Va,Ya,qa,Xa,Kx,Kx,Kx,Kx,Kx,Kx];var EC=[Jx,pv];var TC=[Zx,Wk,_a,tl,gu,Rc,Kc,Fh,Up,d_,Yr,Ij,Zx,Zx,Zx,Zx];var jC=[Qx,Yl];var MC=[$x,jM];var SC=[eC,ca,Ja,Za,Qa,wh,eC,eC];var kC=[tC,$a,qr,Fr,Mv,qv,Ay,nS];var xC=[iC,Bn];var CC=[nC,jf];var RC=[rC,va];var AC=[oC,Wo,Zo,da,ha,Du,md,Gf,lm,zr,QE,gj,WM,oC,oC,oC];var LC=[aC];var OC=[sC,ro,oo,po,fo,No,Uo,Fo,of,Og,lv,sC,sC,sC,sC,sC];var PC=[lC,my];var IC=[uC,Dd,U_,tb,Kb,Av,$v,Ny,bw,VT,fS,uC,uC,uC,uC,uC];return{_llvm_bswap_i32:dx,dynCall_idd:Bx,dynCall_i:Cx,_i64Subtract:$k,___udivdi3:sx,dynCall_vif:px,setThrew:_t,dynCall_viii:Ox,_bitshift64Lshr:nx,_bitshift64Shl:ix,dynCall_vi:_x,dynCall_viiddi:Sx,dynCall_diii:Ex,dynCall_iii:Mx,_memset:tx,_sbrk:lx,_memcpy:rx,__GLOBAL__sub_I_Yoga_cpp:Ur,dynCall_vii:gx,___uremdi3:cx,dynCall_vid:fx,stackAlloc:ht,_nbind_init:CS,getTempRet0:bt,dynCall_di:Tx,dynCall_iid:jx,setTempRet0:gt,_i64Add:ex,dynCall_fiff:mx,dynCall_iiii:wx,_emscripten_get_global_libc:qS,dynCall_viid:Ix,dynCall_viiid:Ax,dynCall_viififi:Lx,dynCall_ii:bx,__GLOBAL__sub_I_Binding_cc:wT,dynCall_viiii:Dx,dynCall_iiiiii:Rx,stackSave:pt,dynCall_viiiii:hx,__GLOBAL__sub_I_nbind_cc:es,dynCall_vidd:yx,_free:YS,runPostSets:Qk,dynCall_viiiiii:kx,establishStackSpace:mt,_memmove:ux,stackRestore:ft,_malloc:VS,__GLOBAL__sub_I_common_cc:rw,dynCall_viddi:vx,dynCall_dii:xx,dynCall_v:Px}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),_llvm_bswap_i32=Module._llvm_bswap_i32=asm._llvm_bswap_i32,getTempRet0=Module.getTempRet0=asm.getTempRet0,___udivdi3=Module.___udivdi3=asm.___udivdi3,setThrew=Module.setThrew=asm.setThrew,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,_memset=Module._memset=asm._memset,_sbrk=Module._sbrk=asm._sbrk,_memcpy=Module._memcpy=asm._memcpy,stackAlloc=Module.stackAlloc=asm.stackAlloc,___uremdi3=Module.___uremdi3=asm.___uremdi3,_nbind_init=Module._nbind_init=asm._nbind_init,_i64Subtract=Module._i64Subtract=asm._i64Subtract,setTempRet0=Module.setTempRet0=asm.setTempRet0,_i64Add=Module._i64Add=asm._i64Add,_emscripten_get_global_libc=Module._emscripten_get_global_libc=asm._emscripten_get_global_libc,__GLOBAL__sub_I_Yoga_cpp=Module.__GLOBAL__sub_I_Yoga_cpp=asm.__GLOBAL__sub_I_Yoga_cpp,__GLOBAL__sub_I_Binding_cc=Module.__GLOBAL__sub_I_Binding_cc=asm.__GLOBAL__sub_I_Binding_cc,stackSave=Module.stackSave=asm.stackSave,__GLOBAL__sub_I_nbind_cc=Module.__GLOBAL__sub_I_nbind_cc=asm.__GLOBAL__sub_I_nbind_cc,_free=Module._free=asm._free,runPostSets=Module.runPostSets=asm.runPostSets,establishStackSpace=Module.establishStackSpace=asm.establishStackSpace,_memmove=Module._memmove=asm._memmove,stackRestore=Module.stackRestore=asm.stackRestore,_malloc=Module._malloc=asm._malloc,__GLOBAL__sub_I_common_cc=Module.__GLOBAL__sub_I_common_cc=asm.__GLOBAL__sub_I_common_cc,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_vif=Module.dynCall_vif=asm.dynCall_vif,dynCall_vid=Module.dynCall_vid=asm.dynCall_vid,dynCall_fiff=Module.dynCall_fiff=asm.dynCall_fiff,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viddi=Module.dynCall_viddi=asm.dynCall_viddi,dynCall_vidd=Module.dynCall_vidd=asm.dynCall_vidd,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_diii=Module.dynCall_diii=asm.dynCall_diii,dynCall_di=Module.dynCall_di=asm.dynCall_di,dynCall_iid=Module.dynCall_iid=asm.dynCall_iid,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiddi=Module.dynCall_viiddi=asm.dynCall_viiddi,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_dii=Module.dynCall_dii=asm.dynCall_dii,dynCall_i=Module.dynCall_i=asm.dynCall_i,dynCall_iiiiii=Module.dynCall_iiiiii=asm.dynCall_iiiiii,dynCall_viiid=Module.dynCall_viiid=asm.dynCall_viiid,dynCall_viififi=Module.dynCall_viififi=asm.dynCall_viififi,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_idd=Module.dynCall_idd=asm.dynCall_idd,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii,initialStackTop;function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Runtime.stackAlloc=Module.stackAlloc,Runtime.stackSave=Module.stackSave,Runtime.stackRestore=Module.stackRestore,Runtime.establishStackSpace=Module.establishStackSpace,Runtime.setTempRet0=Module.setTempRet0,Runtime.getTempRet0=Module.getTempRet0,Module.asm=asm,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var preloadStartTime=null,calledMain=!1;function run(e){function t(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0||(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function exit(e,t){t&&Module.noExitRuntime||(Module.noExitRuntime||(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE&&process.exit(e),Module.quit(e,new ExitStatus(e)))}dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){e=e||[],ensureInitRuntime();var t=e.length+1;function i(){for(var e=0;e<3;e++)n.push(0)}var n=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];i();for(var r=0;r<t-1;r+=1)n.push(allocate(intArrayFromString(e[r]),"i8",ALLOC_NORMAL)),i();n.push(0),n=allocate(n,"i32",ALLOC_NORMAL);try{exit(Module._main(t,n,0),!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);var o=e;e&&"object"==typeof e&&e.stack&&(o=[e,e.stack]),Module.printErr("exception thrown: "+o),Module.quit(1,e)}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];function abort(e){Module.onAbort&&Module.onAbort(e),void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var t="abort("+e+") at "+stackTrace()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw abortDecorators&&abortDecorators.forEach(function(i){t=i(t,e)}),t}if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run()})}).call(this,__webpack_require__(10),__webpack_require__(11).Buffer)},function(e,t){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,u=[],c=!1,d=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new f(e,t)),1!==u.length||c||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,i){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=i(13),r=i(14),o=i(15);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,i)}function u(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,i,n):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,i),r=(e=s(e,n)).write(t,i);r!==n&&(e=e.slice(0,r));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|p(t.length);return 0===(e=s(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function h(e,t){var i=t.length<0?0:0|p(t.length);e=s(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return H(e).length;default:if(n)return F(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function _(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:g(e,t,i,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):g(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,i,n,r){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,i/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var c=-1;for(o=i;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(i+l>s&&(i=s-l),o=i;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(u(e,o+h)!==u(t,h)){d=!1;break}if(d)return o}return-1}function b(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function v(e,t,i,n){return W(F(t,e.length-i),e,i,n)}function y(e,t,i,n){return W(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function w(e,t,i,n){return y(e,t,i,n)}function E(e,t,i,n){return W(H(t),e,i,n)}function T(e,t,i,n){return W(function(e,t){for(var i,n,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n);return o}(t,e.length-i),e,i,n)}function j(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function M(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var o,a,s,l,u=e[r],c=null,d=u>239?4:u>223?3:u>191?2:1;if(r+d<=i)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=d}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=S));return i}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return u(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,n){return c(t),t<=0?s(e,t):void 0!==i?"string"==typeof n?s(e,t).fill(i,n):s(e,t).fill(i):s(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=Math.min(i,n);r<o;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=l.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var a=e[i];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):function(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,i);case"utf8":case"utf-8":return M(this,t,i);case"ascii":return k(this,t,i);case"latin1":case"binary":return x(this,t,i);case"base64":return j(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var o=r-n,a=i-t,s=Math.min(o,a),u=this.slice(n,r),c=e.slice(t,i),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],a=c[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return _(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return _(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,i);case"utf8":case"utf-8":return v(this,e,t,i);case"ascii":return y(this,e,t,i);case"latin1":case"binary":return w(this,e,t,i);case"base64":return E(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function k(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function x(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function C(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=t;o<i;++o)r+=U(e[o]);return r}function R(e,t,i){for(var n=e.slice(t,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function A(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,i,n,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function O(e,t,i,n){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-i,2);r<o;++r)e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function P(e,t,i,n){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-i,4);r<o;++r)e[i+r]=t>>>8*(n?r:3-r)&255}function I(e,t,i,n,r,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function B(e,t,i,n,o){return o||I(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function D(e,t,i,n,o){return o||I(e,0,i,8),r.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;i=new l(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||A(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||A(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},l.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||A(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||A(e,t,this.length);for(var n=t,r=1,o=this[e+--n];n>0&&(r*=256);)o+=this[e+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||L(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[t]=255&e;++o<i&&(r*=256);)this[t+o]=e/r&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||L(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);L(this,e,t,i,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);L(this,e,t,i,r-1,-r)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return B(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return B(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return D(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return D(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,o=n-i;if(this===e&&i<t&&t<n)for(r=o-1;r>=0;--r)e[r+t]=this[r+i];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var a=l.isBuffer(e)?e:F(new l(e,n).toString()),s=a.length;for(o=0;o<i-t;++o)this[o+t]=a[o%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],a=0;a<n;++a){if((i=e.charCodeAt(a))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function H(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}}).call(this,i(12))},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";t.byteLength=function(e){var t=u(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){for(var t,i=u(e),n=i[0],a=i[1],s=new o(function(e,t,i){return 3*(t+i)/4-i}(0,n,a)),l=0,c=a>0?n-4:n,d=0;d<c;d+=4)t=r[e.charCodeAt(d)]<<18|r[e.charCodeAt(d+1)]<<12|r[e.charCodeAt(d+2)]<<6|r[e.charCodeAt(d+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===a&&(t=r[e.charCodeAt(d)]<<2|r[e.charCodeAt(d+1)]>>4,s[l++]=255&t);1===a&&(t=r[e.charCodeAt(d)]<<10|r[e.charCodeAt(d+1)]<<4|r[e.charCodeAt(d+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o=[],a=0,s=i-r;a<s;a+=16383)o.push(d(e,a,a+16383>s?s:a+16383));1===r?(t=e[i-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function c(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function d(e,t,i){for(var n,r=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(c(n));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=i?r-1:0,h=i?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=u}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,i,n,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[i+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[i+p]=255&a,p+=f,a/=256,u-=8);e[i+p-f]|=128*m}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e){e.exports={name:"aframe-material-collection",version:"0.4.3",description:"Material UI based primitives and components for use in your aframe projects.",homepage:"https://github.com/shaneharris/aframe-material-collection",keywords:["AFRAME","UI","Material"],scripts:{start:"webpack-dev-server --mode development",build:"webpack --mode production"},repository:{type:"git",url:"git@github.com:shaneharris/aframe-material-collection.git"},bugs:{url:"https://github.com/shaneharris/aframe-material-collection/issues"},devDependencies:{"uglifyjs-webpack-plugin":"^1.2.7",webpack:"^4.16.1","webpack-cli":"^3.1.0","webpack-dev-server":"^3.1.4"},author:"Shane Harris",license:"MIT",dependencies:{}}},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-button",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{geometry:{primitive:"plane",width:.5,height:.175},material:{color:"#009688",shader:"flat"},"ui-btn":{},"ui-rounded":{borderRadius:.0025},"ui-ripple":{size:{x:.5,y:.175},clampToSquare:!0,zIndex:.001},text:{font:"roboto",align:"center",zOffset:.002,wrapCount:10,alphaTest:.4}},mappings:{height:"geometry.height",width:"geometry.width",color:"material.color",transparent:"material.transparent","font-color":"text.color","ripple-color":"ui-ripple.color","ripple-size":"ui-ripple.size","ripple-z-index":"ui-ripple.zIndex","text-value":"text.value","wrap-count":"text.wrapCount","border-radius":"ui-rounded.borderRadius","curve-segments":"ui-rounded.curveSegments",disabled:"ui-btn.disabled"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-fab-button",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{geometry:{primitive:"circle",radius:.1,segments:6},material:{color:"#009688",shader:"flat"},"ui-btn":{},"ui-ripple":{size:{x:.1,y:.1},zIndex:.002,fadeDelay:300,duration:500},"ui-icon":{size:{x:.105,y:.105}}},mappings:{radius:"geometry.radius",color:"material.color","icon-color":"ui-icon.color",transparent:"material.transparent",src:"ui-icon.src","ripple-color":"ui-ripple.color","ripple-size":"ui-ripple.size","ripple-z-index":"ui-ripple.zIndex",disabled:"ui-btn.disabled"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-fab-button-small",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{geometry:{primitive:"circle",radius:.075,segments:6},material:{color:"#009688",shader:"flat"},"ui-btn":{},"ui-ripple":{size:{x:.125,y:.125},zIndex:-.001,color:"#ff0000"},"ui-icon":{size:{x:.075,y:.075},src:"icons/sort_white_64dp.png"}},mappings:{radius:"geometry.radius",color:"material.color","icon-color":"ui-icon.color",transparent:"material.transparent",src:"ui-icon.src","ripple-color":"ui-ripple.color","ripple-size":"ui-ripple.size","ripple-z-index":"ui-ripple.zIndex",disabled:"ui-btn.disabled"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-switch",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-switch":{}},mappings:{value:"ui-switch.value",disabled:"ui-switch.disabled"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-toast",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{geometry:{primitive:"plane",width:.5,height:.2},material:{color:"#010e0f",shader:"flat",transparent:!0,opacity:.8},"ui-rounded":{borderRadius:.01,curveSegments:3},text:{font:"roboto",value:"Toast Message!",align:"center",zOffset:.002,wrapCount:20}},mappings:{height:"geometry.height",width:"geometry.width",color:"material.color",transparent:"material.transparent","font-color":"text.color","text-value":"text.value","wrap-count":"text.wrapCount","border-radius":"ui-rounded.borderRadius","curve-segments":"ui-rounded.curveSegments"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-checkbox",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-checkbox":{},"ui-ripple":{size:{x:.1,y:.1},zIndex:-.001,color:"#afafaf"}},mappings:{value:"ui-checkbox.value",disabled:"ui-checkbox.disabled",indeterminate:"ui-checkbox.indeterminate"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-radio",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-radio":{},geometry:{primitive:"ring",radiusInner:.0575,radiusOuter:.0675,segmentsTheta:6},material:{shader:"flat",color:"#afafaf"},"ui-ripple":{size:{x:.1,y:.1},zIndex:-.001,color:"#afafaf"}},mappings:{color:"ui-radio.selectedColor",value:"ui-radio.value",selected:"ui-radio.selected",disabled:"ui-radio.disabled"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-input-text",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-input-text":{placeHolder:"Text...",width:1,height:.2,value:""},"ui-double-click":{}},mappings:{width:"ui-input-text.width",height:"ui-input-text.height",type:"ui-input-text.type",value:"ui-input-text.value","place-holder":"ui-input-text.placeHolder","camera-el":"ui-input-text.cameraEl","look-controls-component":"ui-input-text.lookControlsComponent","wasd-controls-component":"ui-input-text.wasdControlsComponent"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-text-input",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-text":{placeHolder:"Text..."},"ui-double-click":{}},mappings:{width:"ui-text.width",height:"ui-text.height",value:"ui-text.value","place-holder":"ui-text.placeHolder"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-number-input",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-text":{type:"number",placeHolder:"Number..."},"ui-double-click":{}},mappings:{width:"ui-text.width",height:"ui-text.height",value:"ui-text.value","place-holder":"ui-text.placeHolder"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-int-input",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-text":{type:"int",placeHolder:"Whole Number..."},"ui-double-click":{}},mappings:{width:"ui-text.width",height:"ui-text.height",value:"ui-text.value","place-holder":"ui-text.placeHolder"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-password-input",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-text":{type:"password",placeHolder:""},"ui-double-click":{}},mappings:{width:"ui-text.width",height:"ui-text.height",value:"ui-text.value","place-holder":"ui-text.placeHolder"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-scroll-pane",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-scroll-pane":{}},mappings:{width:"ui-scroll-pane.width",height:"ui-scroll-pane.height","scroll-z-offset":"ui-scroll-pane.scrollZOffset","handle-color":"ui-scroll-pane.scrollHandleColor","scroll-padding":"ui-scroll-pane.scrollPadding","look-controls-el":"ui-scroll-pane.cameraEl","look-controls-component":"ui-scroll-pane.lookControlsComponent"}}))},function(e,t){e.exports=AFRAME.registerPrimitive("a-ui-renderer",AFRAME.utils.extendDeep({},AFRAME.primitives.getMeshMixin(),{defaultComponents:{"ui-renderer":{}},mappings:{"ui-panel":"ui-renderer.uiPanel","look-controls-el":"ui-renderer.lookControlsEl","look-controls-component":"ui-renderer.lookControlsComponent","panel-position":"ui-renderer.panelPosition","panel-size":"ui-renderer.panelSize","render-resolution":"ui-renderer.renderResolution","debug-raycaster":"ui-renderer.debugRaycaster",fps:"ui-renderer.fps","intersectable-class":"ui-renderer.intersectableClass"}}))},function(e,t){e.exports=AFRAME.registerComponent("ui-text",{schema:{width:{type:"number",default:.5},height:{type:"number",default:.1},value:{default:""},type:{default:"text"},lineFocusColor:{default:"#009688"},lineBlurColor:{default:"#cfcfcf"},disabledColor:{default:"#afafaf"},disabled:{type:"boolean",default:!1},fontFamily:{default:"Roboto"},fontColor:{default:"#4f4f4f"},placeHolder:{default:"Text..."},intersectableClass:{default:"intersectable"}},init(){if("undefined"==typeof CanvasInput)throw'aframe-material-collection requires CanvasInput to be loaded first - <script src="https://cdn.rawgit.com/shaneharris/CanvasInput/master/CanvasInput.js"><\/script>';console.warn("ui-text is deprecated. please use ui-input-text instead. Thanks!"),this.backing=document.createElement("a-plane"),this.backing.setAttribute("width",this.data.width),this.backing.setAttribute("height",this.data.height),this.backing.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),this.backing.setAttribute("opacity",0),this.backing.setAttribute("scale","1 1 0"),this.el.appendChild(this.backing),this.textMaterial=new THREE.MeshBasicMaterial,this.textPlane=new THREE.Mesh(new THREE.PlaneGeometry(this.data.width,this.data.height),this.textMaterial),this.el.object3D.add(this.textPlane),this.textPlane.position.set(0,0,1e-4),this.underLine=document.createElement("a-plane"),this.underLine.setAttribute("width",this.data.width-.05),this.underLine.setAttribute("height",.005),this.underLine.setAttribute("position","0 -0.05 0.001"),this.underLine.setAttribute("class","no-yoga-layout"),this.underLine.setAttribute("shader","flat"),this.underLine.setAttribute("color",this.data.disabled?this.data.disabledColor:this.data.lineBlurColor),this.el.appendChild(this.underLine),this.el.addEventListener("click",e=>this.focus()),this.el.addEventListener("dblclick",e=>this.select()),this.blurHandler=(()=>this.blur()),this.setValue()},tick(){this.is_focussed&&(this.el.sceneEl.canvas_input.render(),this.textMaterial.map.needsUpdate=!0)},numberOnly(e,t){-1!==[46,8,9,27,13,110].indexOf(e.keyCode)||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||67===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||88===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||e.keyCode>=35&&e.keyCode<=39||e&&!(t?/^\d*((\.)|(\.\d+))?$/g:/^\d*?$/g).test(this.el.sceneEl.canvas_input.value()+e.key)&&e.preventDefault()},floatOnly(e){return this.numberOnly(e,!0)},setValue(){this.setupCanvasInput(),this.el.sceneEl.canvas_input.render();let e=new Image;e.src=this.el.sceneEl.canvas_input.renderCanvas().toDataURL("image/png");let t=new THREE.Texture(e);t.needsUpdate=!0,t.minFilter=THREE.LinearFilter,this.textMaterial=new THREE.MeshBasicMaterial({map:t}),this.textPlane.material=this.textMaterial,this.setClippingPlanes()},select(){this.el.sceneEl.canvas_input.selectText()},focus(){UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),this.resetCanvasInput(),this.el.sceneEl.canvas_input.focus(),this.el.sceneEl.canvas_input.onkeydown(e=>{"number"===this.data.type?this.floatOnly(e):"int"===this.data.type&&this.numberOnly(e)}),this.data.value===this.data.placeHolder&&this.el.sceneEl.canvas_input.value(""),this.textMaterial=new THREE.MeshBasicMaterial({map:new THREE.Texture(this.el.sceneEl.canvas_input.renderCanvas())}),this.textPlane.material=this.textMaterial,this.setClippingPlanes(),this.underLine.setAttribute("color",this.data.lineFocusColor),this.textMaterial.map.minFilter=THREE.LinearFilter,this.is_focussed=!0,this.el.sceneEl.renderer.domElement.addEventListener("mousedown",this.blurHandler)},setClippingPlanes(){this.el._content_clips&&(this.textMaterial.clippingPlanes=this.el._content_clips,this.textMaterial.clipShadows=!0)},blur(){this.is_focussed=!1,this.el.sceneEl.renderer.domElement.removeEventListener("mousedown",this.blurHandler);let e=this.el.sceneEl.canvas_input.value();this.data.value=e,this.underLine.setAttribute("color",this.data.lineBlurColor),this.el.sceneEl.canvas_input.blur(),this.setValue(),UI.utils.stoppedChanging(this.el.object3D.uuid)},resetCanvasInput(){this.el.sceneEl.canvas_input&&(this.el.sceneEl.canvas_input.width(300*(this.data.width-.1)),this.el.sceneEl.canvas_input.fontFamily(this.data.fontFamily),this.el.sceneEl.canvas_input.fontColor(this.data.fontColor),this.el.sceneEl.canvas_input.placeHolder(this.data.placeHolder),this.el.sceneEl.canvas_input.value(this.data.value),this.el.sceneEl.canvas_input.borderWidth(0))},updateSchema(){this.data&&this.resetCanvasInput()},setupCanvasInput(){let e=document.getElementById("textCanvas");if(e.width=300*this.data.width,this.resetCanvasInput(),this.el.sceneEl.canvas_input)return;e.height=45;let t={canvas:e,fontSize:18,fontFamily:this.data.fontFamily,fontColor:this.data.fontColor,width:300*(this.data.width-.1),padding:12,borderWidth:0,borderRadius:0,backgroundColor:"#fff",placeHolder:this.data.placeHolder,placeHolderColor:"#cfcfcf",boxShadow:"0px 0px 0px #fff",innerShadow:"0px 0px 0px rgba(255,255,255, 1)",value:this.data.value};this.el.sceneEl.canvas_input=new CanvasInput(t)}})},function(e,t){e.exports=AFRAME.registerComponent("ui-input-text",{depends:["text"],schema:{value:{default:""},disabled:{type:"boolean",default:!1},type:{default:"text"},cameraEl:{type:"selector"},width:{type:"number",default:1},height:{type:"number",default:.2},lookControlsComponent:{default:"look-controls"},wasdControlsComponent:{default:"wasd-controls"},placeHolder:{default:"Text..."}},init(){this.setupElements(),this.text.addEventListener("textfontset",()=>{this.text.selectionStart=0,this.text.selectionLength=0,this.startSelection=0,this.scrollOffset=0,this.alphabet={},this.scrollIndex=0;let e=this.data.value.split("");this.chars=[],this.charsAllowed=["-","_","+","=","{","}","[","]",":",";","'","@","~","#","<",">",",",".","?","/","|","\\","`",""];for(let t=0;t<e.length;t++)this.chars.push({char:e[t]});this.blurHandler=(()=>this.blur()),this.isMoving=!1;let t=this.onMousemove.bind(this);this.keydown=(e=>this.handleKeyboardEvent(e)),this.backing.addEventListener("mousedown",()=>{this.focus(),this.playPauseCamera("pause"),this.backing.addEventListener("ui-mousemove",t)}),this.el.sceneEl.addEventListener("mouseup",()=>{this.backing.removeEventListener("ui-mousemove",t),this.isMoving=!1,this.setSelection(this.text.selectionStart,this.text.selectionLength)}),this.el.setAttribute("visible",!1),setTimeout(()=>{this.setValue(),this.setupScrollClips(),this.el.setAttribute("visible",!0)})}),this.el.getValue=this.getValue.bind(this)},setupScrollClips(){this.content_clips=[new THREE.Plane(new THREE.Vector3(-1,0,0),0),new THREE.Plane(new THREE.Vector3(1,0,0),0)],this.setScrollClips()},selectAll(){this.text.selectionStart=0,this.text.selectionLength=this.chars.length,this.setValue()},increaseWrap(){let e=this.text.object3D.children[this.text.object3D.children.length-1];e&&e.geometry.layout._linesTotal>1&&(this.text.setAttribute("width",1.2*this.text.getAttribute("width")),this.text.setAttribute("wrap-pixels",500*this.text.getAttribute("width")),this.text.setAttribute("x-offset",(this.text.getAttribute("width")-this.data.width)/2),setTimeout(()=>this.increaseWrap(),0))},setScrollClips(){this.text.object3D.updateMatrixWorld(),this.content_clips[0].set(new THREE.Vector3(-1,0,0),this.data.width/2+.005),this.content_clips[1].set(new THREE.Vector3(1,0,0),this.data.width/2+.005),this.content_clips[0].applyMatrix4(this.backing.object3D.matrixWorld),this.content_clips[1].applyMatrix4(this.backing.object3D.matrixWorld),setTimeout(()=>{let e=this.text.object3D.children[this.text.object3D.children.length-1];e&&(e.material.clippingPlanes=this.text._content_clips?this.text._content_clips.concat(this.content_clips):this.content_clips)},0);let e=this.selectionHighlight.getObject3D("mesh");e&&(e.material.clippingPlanes=this.text._content_clips?this.text._content_clips.concat(this.content_clips):this.content_clips);let t=this.carret.getObject3D("mesh");t&&(t.material.clipShadows=!0,t.material.needsUpdate=!0,t.material.clippingPlanes=this.text._content_clips?this.text._content_clips.concat(this.content_clips):this.content_clips)},numberOnly(e,t){if(-1!==[46,8,9,27,13,110].indexOf(e.keyCode)||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||67===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||88===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||e.keyCode>=35&&e.keyCode<=39)return!0;let i=this.getValue();return e?(t?/^\d*((\.)|(\.\d+))?$/g:/^\d*?$/g).test(i+e.key):void 0},floatOnly(e){return this.numberOnly(e,!0)},focus(){this.isFocused||(this.isFocused=!0,this.setupCarret(),UI.utils.isChanging(this.el.sceneEl,this.text.object3D.uuid),this.setValue(),this.setScrollClips(),setTimeout(()=>this.el.sceneEl.addEventListener("mousedown",this.blurHandler),50),window.addEventListener("keydown",this.keydown),this.underline.setAttribute("height",.008),this.underline.setAttribute("color","#009688"))},blur(){this.isFocused=!1,clearInterval(this.carretInterval),this.carret.getObject3D("mesh").material.opacity=0,this.el.sceneEl.removeEventListener("mousedown",this.blurHandler),this.playPauseCamera("play"),window.removeEventListener("keydown",this.keydown),UI.utils.stoppedChanging(this.text.object3D.uuid),this.underline.setAttribute("height",.005),this.underline.setAttribute("color","#bfbfbf"),this.chars.length&&"."===this.chars[this.chars.length-1].char&&"number"===this.data.type&&(this.chars.pop(),this.setValue())},handleKeyboardEvent(e){if(88===e.keyCode&&e.ctrlKey,67===e.keyCode&&e.ctrlKey);else if(86===e.keyCode&&e.ctrlKey);else if(65===e.keyCode&&e.ctrlKey)this.text.selectionStart=0,this.text.selectionLength=this.chars.length;else if(e.code.indexOf("Key")>-1||e.code.indexOf("Digit")>-1||this.charsAllowed.indexOf(e.key)>-1){let t=!0;switch(this.data.type){case"number":t=this.floatOnly(e);break;case"int":console.log(this.numberOnly(e)),t=this.numberOnly(e)}t&&(this.chars.splice(this.text.selectionStart,this.text.selectionLength,{char:e.key}),this.text.selectionStart++,this.text.selectionLength=0,console.log(this.text.selectionStart,this.text.selectionLength,{char:e.key}))}else 46===e.keyCode?(this.chars.splice(this.text.selectionStart,this.text.selectionLength||1),this.text.selectionStart=this.text.selectionStart>this.chars.length?this.chars.length:this.text.selectionStart,this.text.selectionLength=0):39===e.keyCode?e.shiftKey?(this.shiftStartPos||(this.shiftStartPos=this.text.selectionStart),this.text.selectionStart<this.shiftStartPos?(this.text.selectionStart++,this.text.selectionLength=Math.abs(this.shiftStartPos-this.text.selectionStart)):this.text.selectionLength++):(this.text.selectionLength?this.text.selectionStart+=this.text.selectionLength:this.text.selectionStart++,this.text.selectionLength=0,this.text.selectionStart>this.chars.length&&(this.text.selectionStart=this.chars.length),delete this.shiftStartPos):37===e.keyCode?e.shiftKey?(this.shiftStartPos||(this.shiftStartPos=this.text.selectionStart),this.text.selectionStart+this.text.selectionLength>this.shiftStartPos?this.text.selectionLength--:(this.text.selectionStart--,this.text.selectionLength=Math.abs(this.shiftStartPos-this.text.selectionStart))):(this.text.selectionLength||this.text.selectionStart--,this.text.selectionLength=0,this.text.selectionStart<0&&(this.text.selectionStart=0),delete this.shiftStartPos):this.text.selectionLength?8===e.keyCode&&(this.chars.splice(this.text.selectionStart,this.text.selectionLength),this.text.selectionLength=0):8===e.keyCode?this.text.selectionStart&&(this.chars.splice(this.text.selectionStart-1,this.text.selectionLength||1),this.text.selectionStart=this.text.selectionStart-1):32===e.keyCode&&(this.chars.splice(this.text.selectionStart,0,{char:" "}),this.text.selectionStart++);this.setValue(),this.carret.getObject3D("mesh").material.opacity=1,e.preventDefault(),e.stopPropagation()},setValue(){this.setScrolledValue(),this.setCharacters(),this.setSelection(this.text.selectionStart,this.text.selectionLength),this.increaseWrap()},setScrolledValue(){let e=this.getValue();this.text.setAttribute("value",e),this.chars.length?(this.text.setAttribute("value",e),this.text.setAttribute("color","#2f2f2f")):(this.text.setAttribute("color","#bfbfbf"),this.text.setAttribute("value",this.data.placeHolder))},onMousemove(e){let t=this.getSelectionPosition(e);this.isMoving||(this.isMoving=!0,this.startSelection=t);let i=this.getNearestGlyph(this.startSelection,t);this.selectionHighlight.setAttribute("scale",i.end-i.start+" 1 1"),this.selectionHighlight.setAttribute("position",i.start+(i.end-i.start)/2+" 0 0.001"),this.carret.setAttribute("position",i.end+" 0 0.001")},setupElements(){this.container=document.createElement("a-entity"),this.container.setAttribute("position",this.data.width/2+" 0 0"),this.text=document.createElement("a-text"),this.text.setAttribute("color","#2f2f2f"),this.text.setAttribute("anchor","center"),this.text.setAttribute("align","left"),this.text.setAttribute("width",this.data.width),this.text.setAttribute("wrap-pixels",500*this.data.width),this.text.className="no-yoga-layout",this.text.setAttribute("height",this.data.height),this.text.setAttribute("value",this.data.value),this.container.appendChild(this.text),this.selectionHighlight=document.createElement("a-plane"),this.selectionHighlight.setAttribute("width",1),this.selectionHighlight.setAttribute("scale","0 1 1"),this.selectionHighlight.setAttribute("height",.16),this.selectionHighlight.setAttribute("transparent",!0),this.selectionHighlight.className="no-yoga-layout",this.selectionHighlight.setAttribute("color","#009688"),this.selectionHighlight.setAttribute("shader","flat"),this.selectionHighlight.setAttribute("opacity",.3),this.selectionHighlight.setAttribute("position","0 0 0.001"),this.text.appendChild(this.selectionHighlight),this.carret=document.createElement("a-plane"),this.carret.setAttribute("width",.01),this.carret.setAttribute("height",.12),this.carret.setAttribute("transparent",!0),this.carret.setAttribute("opacity",0),this.carret.setAttribute("shader","flat"),this.carret.className="no-yoga-layout",this.carret.setAttribute("color","#009688"),this.carret.setAttribute("position",-this.data.width/2+" 0 0.001"),this.text.appendChild(this.carret),this.backing=document.createElement("a-plane"),this.backing.className="intersectable no-yoga-layout",this.backing.setAttribute("width",this.data.width+.1),this.backing.setAttribute("height",this.data.height),this.backing.setAttribute("color","white"),this.backing.setAttribute("shader","flat"),this.container.appendChild(this.backing),this.underline=document.createElement("a-plane"),this.underline.setAttribute("width",this.data.width),this.underline.setAttribute("height",.005),this.underline.className="no-yoga-layout",this.underline.setAttribute("shader","flat"),this.underline.setAttribute("color","#bfbfbf"),this.underline.setAttribute("position","0 -0.072 0.001"),this.container.appendChild(this.underline),this.el.appendChild(this.container)},setupCarret(){let e=this.carret.getObject3D("mesh").material;this.carretInterval=setInterval(()=>{e.opacity=e.opacity?0:1},350)},getValue(){let e="";for(let t=0;t<this.chars.length;t++)e+=this.chars[t].char;return e},getSelectionPosition(e){return this.el.object3D.updateMatrixWorld(),this.text.object3D.worldToLocal(e.detail.intersection.point.clone()).x},playPauseCamera(e){this.data.cameraEl&&(this.data.cameraEl.components[this.data.lookControlsComponent]&&this.data.cameraEl.components[this.data.lookControlsComponent][e](),this.data.cameraEl.components[this.data.wasdControlsComponent]&&this.data.cameraEl.components[this.data.wasdControlsComponent][e](),"play"===e&&document.querySelector("a-scene").setAttribute("keyboard-shortcuts","enterVR: true"),"pause"===e&&document.querySelector("a-scene").setAttribute("keyboard-shortcuts","enterVR: false"))},setCharacters(){this.positions=[];let e=this.text.object3D.children[this.text.object3D.children.length-1];if(!this.chars.length||!e)return;let t=e.geometry.layout.glyphs,i=e.scale.x,n=0;for(let e=0;e<t.length;e++){let r=t[e],o=" "===this.chars[e].char?20:r.data.width,a=(r.position[0]+o+r.position[1])*i+.08;0===e&&(n=(r.position[0]+r.position[1])*i+.08),this.chars[e].id||(this.chars[e].id=r.data.id,this.chars[e].width=a-n),this.chars[e].left=n,n=a}},getNearestGlyph(e,t){let i=Number(this.text.getAttribute("width")),n=this.data.width;if(t<e){let i=t;t=e,e=i}e<-n/2&&(e=-n/2),t>i-n/2&&(t=i-n/2);let r=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a={start:0,end:0};if(this.chars.length)for(let i=0;i<=this.chars.length;i++){let s=this.chars[i===this.chars.length?i-1:i],l=(i===this.chars.length?s.left+s.width:s.left)-n/2;Math.abs(e-l)<r&&(r=Math.abs(e-l),a.start=l,this.text.selectionStart=i),Math.abs(t-l)<o&&(o=Math.abs(t-l),a.end=l,this.text.selectionLength=i-this.text.selectionStart)}return a},setSelection(e,t){this.text.selectionStart=e,this.text.selectionLength=t;let i=0,n=0;for(let r=0;r<this.chars.length;r++){let o=this.chars[r];if(r>=e&&r<e+t+1){let t=o.left;r===e&&(n=t),i=t}}let r=this.chars.length?this.chars[this.chars.length-1].left+this.chars[this.chars.length-1].width:0;e+t===this.chars.length&&(i=r),e===this.chars.length&&(n=i=r);let o=this.data.width;this.selectionHighlight.setAttribute("scale",i-n+" 1 1"),this.selectionHighlight.setAttribute("position",n+(i-n)/2-o/2+" 0 0.001");let a=i-o/2;this.carret.setAttribute("position",a+" 0 0.001"),a>o/2-this.scrollOffset&&(this.scrollOffset=-(a-o/2),this.text.setAttribute("position",this.scrollOffset+" 0 0")),a+o/2<-this.scrollOffset&&(this.scrollOffset+=-this.scrollOffset-(a+o/2),this.scrollOffset>0&&(this.scrollOffset=0),this.text.setAttribute("position",this.scrollOffset+" 0 0"))},updateSchema(){}})},function(e,t){e.exports=AFRAME.registerComponent("ui-btn",{schema:{duration:{type:"int",default:250},hoverHeight:{type:"number",default:.01},activeHeight:{type:"number",default:-.001},disabled:{type:"boolean",default:!1}},updateSchema(){},init(){this.defaultZ=this.el.object3D.position.z,this.data.disabled||(this.el.addEventListener("mouseenter",e=>this.mouseEnter(e)),this.el.addEventListener("mousedown",e=>this.mouseDown(e)),this.el.addEventListener("mouseup",e=>this.mouseUp(e)),this.el.addEventListener("mouseleave",e=>this.mouseLeave(e)))},mouseEnter(e){const t=this;this.tween(this.defaultZ,this.defaultZ+this.data.hoverHeight,function(){t.el.object3D.position.z=this.x},function(){t.el.object3D.position.z=t.defaultZ+t.data.hoverHeight})},mouseLeave(e){if(this.is_clicked)return this.is_clicked=!1;this.resetAnimation(this.defaultZ+this.data.hoverHeight)},mouseUp(e){this.is_clicked=!0,this.resetAnimation(this.defaultZ+this.data.activeHeight),UI.utils.preventDefault(e)},mouseDown(e){const t=this;this.tween(this.defaultZ+this.data.hoverHeight,this.defaultZ+this.data.activeHeight,function(){t.el.object3D.position.z=this.x},function(){t.el.object3D.position.z=t.defaultZ+t.data.activeHeight}),UI.utils.preventDefault(e)},resetAnimation(e){let t=this;this.tween(e,this.defaultZ,function(){t.el.object3D.position.z=this.x},function(){t.el.object3D.position.z=t.defaultZ})},tween(e,t,i,n){let r=this;return UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),new TWEEN.Tween({x:e}).to({x:t},this.data.duration).onUpdate(i).onComplete(function(){return UI.utils.stoppedChanging(r.el.object3D.uuid),n.call(this)}).easing(TWEEN.Easing.Exponential.Out).start()}})},function(e,t){e.exports=AFRAME.registerComponent("ui-icon",{schema:{src:{default:"icons/send_white_64dp.png"},size:{type:"vec2",default:{x:.1,y:.1}},zIndex:{type:"number",default:.003},color:{default:"#fff"}},init(){this.icon=new THREE.Mesh(new THREE.PlaneGeometry(this.data.size.x,this.data.size.y),new THREE.MeshBasicMaterial({color:this.data.color,alphaTest:.4,transparent:!0,map:(new THREE.TextureLoader).load(this.data.src)})),this.icon.position.set(0,0,this.data.zIndex),this.el.object3D.add(this.icon)}})},function(e,t){e.exports=AFRAME.registerComponent("ui-rounded",{schema:{borderRadius:{type:"number",default:.01},curveSegments:{type:"int",default:1}},init(){let e=this.el.getObject3D("mesh"),t=new THREE.Shape;!function(e,t,i,n,r,o){e.moveTo(t,i+o),e.lineTo(t,i+r-o),e.quadraticCurveTo(t,i+r,t+o,i+r),e.lineTo(t+n-o,i+r),e.quadraticCurveTo(t+n,i+r,t+n,i+r-o),e.lineTo(t+n,i+o),e.quadraticCurveTo(t+n,i,t+n-o,i),e.lineTo(t+o,i),e.quadraticCurveTo(t,i,t,i+o)}(t,-e.geometry.metadata.parameters.width/2,-e.geometry.metadata.parameters.height/2,e.geometry.metadata.parameters.width,e.geometry.metadata.parameters.height,this.data.borderRadius),e.geometry=new THREE.ShapeGeometry(t,this.data.curveSegments),this.el.emit("rounded-loaded",null,!1)}})},function(e,t){e.exports=AFRAME.registerComponent("ui-ripple",{schema:{color:{default:"#fff"},duration:{type:"int",default:1e3},fadeDuration:{type:"int",default:750},fadeDelay:{type:"int",default:250},clampToSquare:{type:"boolean",default:!1},size:{type:"vec2",default:{x:1,y:1}},zIndex:{type:"number",default:-.001},segments:{type:"int",default:6}},init(){this.rippleGeometry=new THREE.CircleGeometry(Math.max(this.data.size.x,this.data.size.y),this.data.segments),this.ripple=new THREE.Mesh(this.rippleGeometry.clone(),new THREE.MeshBasicMaterial({color:this.data.color,transparent:!0,opacity:.4,alphaTest:.1})),this.ripple.scale.set(1e-5,1e-5,1e-5),this.el.object3D.add(this.ripple),this.el.addEventListener("mousedown",this.click.bind(this)),this.ripple.position.set(0,0,this.data.zIndex),this.data.clampToSquare&&(this.content_clips=[new THREE.Plane(new THREE.Vector3(0,1,0),this.data.size.y/2),new THREE.Plane(new THREE.Vector3(0,-1,0),this.data.size.y/2),new THREE.Plane(new THREE.Vector3(-1,0,0),this.data.size.x/2),new THREE.Plane(new THREE.Vector3(1,0,0),this.data.size.x/2)])},click(e){if(this.isRippling)return e.preventDefault();this.isRippling=!0,this.data.clampToSquare&&this.setRippleClips(this.ripple.material),this.tweenSize(this.ripple.geometry),this.tweenOpacity(this.ripple.material)},setRippleClips(){this.content_clips[0].set(new THREE.Vector3(0,1,0),this.data.size.y/2),this.content_clips[1].set(new THREE.Vector3(0,-1,0),this.data.size.y/2),this.content_clips[2].set(new THREE.Vector3(-1,0,0),this.data.size.x/2),this.content_clips[3].set(new THREE.Vector3(1,0,0),this.data.size.x/2),this.content_clips[0].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[1].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[2].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[3].applyMatrix4(this.el.object3D.matrixWorld),this.ripple.material.clippingPlanes=this.el._content_clips?this.el._content_clips.concat(this.content_clips):this.content_clips,this.ripple.material.clipShadows=!0,this.ripple.material.needsUpdate=!0},tweenSize(e){let t=this;UI.utils.isChanging(this.el.sceneEl,t.ripple.uuid),new TWEEN.Tween({x:1e-5}).to({x:1},this.data.duration).onUpdate(function(){t.ripple.scale.set(this.x,this.x,this.x)}).onComplete(()=>{t.ripple.scale.set(1e-5,1e-5,1e-5),this.isRippling=!1,UI.utils.stoppedChanging(t.ripple.uuid)}).easing(TWEEN.Easing.Exponential.Out).start()},tweenOpacity(e){new TWEEN.Tween({x:.4}).to({x:0},this.data.fadeDuration).delay(this.data.fadeDelay).onUpdate(function(){e.opacity=this.x}).onComplete(()=>{e.opacity=.4}).easing(TWEEN.Easing.Exponential.Out).start()}})},function(e,t){e.exports=AFRAME.registerComponent("ui-switch",{schema:{value:{type:"boolean",default:!1},disabled:{type:"boolean",default:!1},progressColor:{default:"#4db6ac"},handleColor:{default:"#009688"},handleDisabledColor:{default:"#afafaf"},railColor:{default:"#fff"},switchDuration:{type:"int",default:350},handleZIndex:{type:"number",default:.01},intersectableClass:{default:"intersectable"}},updateSchema(){this.data&&(this.data.disabled?this.data.value&&(this.data.value=!1,this.click()):this.click(),this.setDisabled())},init(){this.width=.3,this.height=.1,this.handleEl=document.createElement("a-circle"),this.handleEl.setAttribute("radius",.055),this.handleEl.setAttribute("color",this.data.handleColor),this.handleEl.setAttribute("shader","flat"),this.handleEl.setAttribute("ui-ripple","size:0.1 0.1;color:#999;fadeDelay:300;duration:500"),this.handleEl.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),this.handleEl.setAttribute("position","-0.05 0 "+this.data.handleZIndex),this.handleEl.setAttribute("segments",6),this.el.appendChild(this.handleEl),this.railEl=document.createElement("a-plane"),this.railEl.setAttribute("width","0.15"),this.railEl.setAttribute("height","0.05"),this.railEl.setAttribute("shader","flat"),this.railEl.setAttribute("ui-rounded","borderRadius:0.025"),this.railEl.setAttribute("color",this.data.railColor),this.railEl.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),this.el.appendChild(this.railEl),this.railEl.addEventListener("rounded-loaded",()=>{this.getRailObject(this.railEl.object3D),this.setDisabled(),this.click()}),this.clickHandler=(e=>{this.data.value=!this.data.value,this.click(),e.detail.preventDefault&&e.detail.preventDefault()})},setDisabled(){this.data.disabled?(this.handleEl.removeEventListener("mousedown",this.clickHandler),this.handleEl.setAttribute("color",this.data.handleDisabledColor)):(this.handleEl.addEventListener("mousedown",this.clickHandler),this.handleEl.setAttribute("color",this.data.handleColor))},click(){this.el.emit("ui-switch-changed",this.data.value),this.tweenHandle(),this.tweenProgress()},getRailObject(e){e.traverse(e=>{e.geometry&&"ShapeGeometry"===e.geometry.type&&(this.progress=new THREE.Mesh(e.geometry.clone(),new THREE.MeshBasicMaterial({color:this.data.progressColor})),this.progress.position.set(-.075,0,.001),this.progress.scale.set(1e-5,1,1),this.el.object3D.add(this.progress))})},tweenProgress(){this.progress&&(new TWEEN.Tween(this.progress.position).to(new THREE.Vector3(this.data.value?0:-.075,0,.001),this.data.switchDuration).easing(TWEEN.Easing.Exponential.Out).start(),new TWEEN.Tween(this.progress.scale).to(new THREE.Vector3(this.data.value?1:1e-5,1,1),this.data.switchDuration).easing(TWEEN.Easing.Exponential.Out).start())},tweenHandle(){this.handleEl&&(UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),new TWEEN.Tween(this.handleEl.object3D.position).to(new THREE.Vector3(this.data.value?.05:-.05,0,this.data.handleZIndex),this.data.switchDuration).onComplete(()=>{UI.utils.stoppedChanging(this.el.object3D.uuid)}).easing(TWEEN.Easing.Exponential.Out).start())}})},function(e,t){e.exports=AFRAME.registerComponent("ui-toast",{schema:{toastEl:{type:"selector"},message:{default:"Hello from toast!"}},init(){this.originalPosition=this.data.toastEl.getAttribute("position").clone(),this.el.addEventListener("mousedown",()=>{this.closeTween&&this.closeTween.stop(),UI.utils.isChanging(this.el.sceneEl,this.data.toastEl.object3D.uuid),this.data.toastEl.setAttribute("visible",!0),this.data.toastEl.setAttribute("text-value",UI.utils.shorten(this.data.message,85));let e=this;new TWEEN.Tween({x:this.originalPosition.x,y:this.originalPosition.y-.1,z:this.originalPosition.z}).to(this.originalPosition,350).onUpdate(function(){e.data.toastEl.setAttribute("position",this)}).onComplete(()=>{this.closeTween=new TWEEN.Tween({x:.8}).delay(2e3).to({x:1e-4},350).onUpdate(function(){e.data.toastEl.setAttribute("opacity",this.x)}).onComplete(()=>{this.data.toastEl.setAttribute("visible",!1),UI.utils.stoppedChanging(this.data.toastEl.object3D.uuid)}).easing(TWEEN.Easing.Exponential.Out).start()}).easing(TWEEN.Easing.Exponential.Out).start(),new TWEEN.Tween({x:1e-4}).to({x:.8},350).onUpdate(function(){e.data.toastEl.setAttribute("opacity",this.x)}).easing(TWEEN.Easing.Exponential.Out).start()})}})},function(e,t){e.exports=AFRAME.registerComponent("ui-scroll-pane",{schema:{height:{type:"number",default:1.2},width:{type:"number",default:2.9},scrollPadding:{type:"number",default:.05},scrollZOffset:{type:"number",default:0},scrollHandleColor:{default:"#009688"},intersectableClass:{default:"intersectable"},cameraEl:{type:"selector"},lookControlsComponent:{default:"look-controls"}},init(){if(this.setupElements(),this.container=this.el.querySelector(".container"),void 0===this.container)throw'ui-scroll-pane needs an entity inside it with the class "container" - <a-entity class="container"></a-entity>';this.scrollBarWidth=this.rail.getAttribute("width"),this.container.setAttribute("position",-this.data.width/2+" "+this.data.height/2+" 0"),this.rail.setAttribute("position",this.data.width/2+this.data.scrollPadding+" 0 "+(this.data.scrollZOffset+2e-4)),this.handle.setAttribute("position",this.data.width/2+this.data.scrollPadding+" 0 "+(this.data.scrollZOffset+5e-4)),this.el.sceneEl.renderer.localClippingEnabled=!0,this.content_clips=[new THREE.Plane(new THREE.Vector3(0,1,0),this.data.height/2),new THREE.Plane(new THREE.Vector3(0,-1,0),this.data.height/2),new THREE.Plane(new THREE.Vector3(-1,0,0),this.data.width/2),new THREE.Plane(new THREE.Vector3(1,0,0),this.data.width/2)];const e=e=>{if(this.data.cameraEl){let t=this.data.cameraEl.getAttribute(this.data.lookControlsComponent);t&&t[e]()}},t=e=>this.mouseMove(e);this.handle.addEventListener("mousedown",i=>{e("pause"),this.isDragging=!0,this.handlePos=this.handle.object3D.worldToLocal(i.detail.intersection.point).y,this.backgroundPanel.addEventListener("ui-mousemove",t),UI.utils.isChanging(this.el.sceneEl,this.handle.object3D.uuid),UI.utils.preventDefault(i)});const i=i=>{this.isDragging&&(this.backgroundPanel.removeEventListener("ui-mousemove",t),e("play"),this.isDragging=!1,UI.utils.stoppedChanging(this.handle.object3D.uuid),UI.utils.preventDefault(i))};this.backgroundPanel.addEventListener("mouseup",i),this.backgroundPanel.addEventListener("mouseleave",i),this.rail.addEventListener("mousedown",e=>{UI.utils.isChanging(this.el.sceneEl,this.handle.object3D.uuid),this.isDragging=!0,this.handlePos=0,this.scroll(this.rail.object3D.worldToLocal(e.detail.intersection.point).y),this.backgroundPanel.addEventListener("ui-mousemove",t),UI.utils.preventDefault(e)}),this.updateContent(),this.el.emit("scroll-pane-loaded"),this.setupMouseWheelScroll(),this.el.setContent=this.setContent.bind(this),this.el.updateContent=this.updateContent.bind(this)},updateContentClips(){this.el.sceneEl.object3D.updateMatrixWorld(),this.content_clips[0].set(new THREE.Vector3(0,1,0),this.data.height/2),this.content_clips[1].set(new THREE.Vector3(0,-1,0),this.data.height/2),this.content_clips[2].set(new THREE.Vector3(-1,0,0),this.data.width/2),this.content_clips[3].set(new THREE.Vector3(1,0,0),this.data.width/2),this.content_clips[0].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[1].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[2].applyMatrix4(this.el.object3D.matrixWorld),this.content_clips[3].applyMatrix4(this.el.object3D.matrixWorld)},setContent(e,t){if(this.container){for(;this.container.firstChild;){let e=this.container.firstChild;this.container.yoga_node&&e.yoga_node&&this.container.yoga_node.removeChild(e.yoga_node),this.container.removeChild(e)}return new Promise(i=>{let n=document.createElement("a-entity");n.setAttribute("visible",!1),n.insertAdjacentHTML("afterbegin",e),n.addEventListener("loaded",e=>{t||this.updateContent(),i(n),n.setAttribute("visible",!0)}),this.container.appendChild(n)})}},updateContent(){this.updateContentClips(),this.currentUuid=THREE.Math.generateUUID(),UI.utils.isChanging(this.el.sceneEl,this.currentUuid),this.setChildClips(),this.container.object3D.position.y=this.data.height/2,"undefined"!=typeof Yoga&&this.initialiseYoga(this.container,100*this.data.width),this.container.yoga_node.calculateLayout(100*this.data.width,"auto",Yoga.DIRECTION_LTR),this.content_height=Number.NEGATIVE_INFINITY,"undefined"!=typeof Yoga&&this.updateYoga(this.container),this.handleSize=THREE.Math.clamp(this.data.height/this.content_height,.1,1),this.handle.setAttribute("height",this.data.height*this.handleSize),this.handle.setAttribute("width",1===this.handleSize?1e-8:.1),this.rail.setAttribute("width",1===this.handleSize?1e-8:.1),this.rail.setAttribute("color",1===this.handleSize?"#efefef":"#fff"),this.handle.setAttribute("position",this.data.width/2+this.data.scrollPadding+" "+(this.data.height-this.data.height*this.handleSize)/2+" "+(this.data.scrollZOffset+5e-4))},mouseMove(e){if(this.isDragging){let t=this.rail.object3D.worldToLocal(e.detail.intersection.point);this.scroll(t.y-this.handlePos)}},scroll(e){let t=-this.data.height/2+this.data.height*this.handleSize/2,i=this.data.height/2-this.data.height*this.handleSize/2,n=THREE.Math.clamp(e,t,i),r=1-(n-t)/(i-t);this.container.object3D.position.y=(this.content_height-this.data.height)*r+this.data.height/2,this.handle.setAttribute("position",this.data.width/2+this.data.scrollPadding+" "+n+" "+(this.data.scrollZOffset+5e-4))},setupMouseWheelScroll(){this.backgroundPanel.addEventListener("ui-mousewheel",e=>{1!==this.handleSize&&(UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),this.scroll(this.handle.getAttribute("position").y+(e.detail.evt.deltaY<0?.1:-.1)),UI.utils.stoppedChanging(this.el.object3D.uuid),UI.utils.preventDefault(e))})},setupElements(){this.backgroundPanel=document.createElement("a-plane"),this.backgroundPanel.setAttribute("class","background "+this.data.intersectableClass),this.backgroundPanel.setAttribute("width",this.data.width+1),this.backgroundPanel.setAttribute("height",this.data.height+1),this.backgroundPanel.setAttribute("position","0 0 -0.013"),this.backgroundPanel.setAttribute("opacity",1e-4),this.backgroundPanel.setAttribute("transparent",!0),this.el.appendChild(this.backgroundPanel),this.rail=document.createElement("a-plane"),this.rail.setAttribute("class","rail "+this.data.intersectableClass),this.rail.setAttribute("width",.1),this.rail.setAttribute("height",this.data.height),this.rail.setAttribute("shader","flat"),this.el.appendChild(this.rail),this.handle=document.createElement("a-plane"),this.handle.setAttribute("class","handle "+this.data.intersectableClass),this.handle.setAttribute("width",.1),this.handle.setAttribute("height",this.data.height),this.handle.setAttribute("color",this.data.scrollHandleColor),this.handle.setAttribute("shader","flat"),this.el.appendChild(this.handle)},setupYogaNode(e,t,i,n){n.hasOwnProperty("setWidth")||e.setWidth(t),n.hasOwnProperty("setHeight")||e.setHeight(i);for(let t in n)if(n.hasOwnProperty(t)&&-1===t.indexOf("Edge"))if(["setMarginLeft","setMarginPercentLeft","setPaddingLeft","setBorderLeft","setPositionLeft","setPositionPercentLeft"].indexOf(t)>-1)e[t](Yoga.EDGE_LEFT,n[t]);else if(["setMarginRight","setMarginPercentRight","setPaddingRight","setBorderRight","setPositionRight","setPositionPercentRight"].indexOf(t)>-1)e[t](Yoga.EDGE_RIGHT,n[t]);else if(["setMarginTop","setMarginPercentTop","setPaddingTop","setBorderTop","setPositionTop","setPositionPercentTop"].indexOf(t)>-1)e[t](Yoga.EDGE_TOP,n[t]);else if(["setMarginBottom","setMarginPercentBottom","setPaddingBottom","setBorderBottom","setPositionBottom","setPositionPercentBottom"].indexOf(t)>-1)e[t](Yoga.EDGE_BOTTOM,n[t]);else if(["setMargin","setMarginPercent","setPadding","setBorder","setPosition","setPositionPercent"].indexOf(t)>-1)e[t](Yoga.EDGE_ALL,n[t]);else if(t.indexOf("setMarginAuto")>-1){switch(t.replace("setMarginAuto","")){case"":e[t](Yoga.EDGE_ALL);break;case"Left":e[t](Yoga.EDGE_LEFT);break;case"Right":e[t](Yoga.EDGE_RIGHT);break;case"Top":e[t](Yoga.EDGE_TOP);break;case"Bottom":e[t](Yoga.EDGE_BOTTOM)}}else["setWidthAuto","setHeightAuto"].indexOf(t)>-1?e[t]():e[t](n[t])},initialiseYoga(e){let t=0,i=0,n=(e=e||this.container).getAttribute("geometry");switch(e.tagName){case"A-TEXT":case"A-TRIANGLE":case"A-UI-TEXT-INPUT":case"A-UI-NUMBER-INPUT":case"A-UI-INT-INPUT":case"A-UI-INPUT-TEXT":case"A-UI-PASSWORD-INPUT":t=e.getAttribute("width"),i=e.getAttribute("height");break;case"A-UI-BUTTON":case"A-PLANE":case"A-ENTITY":t=Number(n?n.width:e.getAttribute("width")),i=Number(n?n.height:e.getAttribute("height"));break;case"A-UI-FAB-BUTTON":case"A-UI-FAB-BUTTON-SMALL":case"A-CIRCLE":i=t=Number(n?2*n.radius:2*(e.getAttribute("radius")||0));break;case"A-RING":i=t=Number(n?2*n["radius-outer"]:2*(e.getAttribute("radius-outer")||0));break;case"A-UI-SWITCH":case"A-UI-CHECKBOX":case"A-UI-RADIO":let r=e.tagName.substr(2).toLowerCase();t=e.getAttribute(r).width,i=e.getAttribute(r).height}if(!e.yoga_node){e.yoga_node=Yoga.Node.create();let n=e.getAttribute("ui-yoga");n&&e.getYogaProperties?this.setupYogaNode(e.yoga_node,t?100*t:"auto",i?100*i:"auto",e.getYogaProperties()):(e.yoga_node.setWidth(t?100*t:"auto"),e.yoga_node.setHeight(i?100*i:"auto"),e.yoga_node.setJustifyContent(Yoga.JUSTIFY_FLEX_START),e.yoga_node.setFlexDirection(Yoga.FLEX_DIRECTION_ROW),e.yoga_node.setAlignContent(Yoga.ALIGN_AUTO),e.yoga_node.setFlexWrap(Yoga.WRAP_WRAP)),e.parentElement&&e.parentElement.yoga_node?(n||(e.yoga_node.setMargin(Yoga.EDGE_RIGHT,5),e.yoga_node.setMargin(Yoga.EDGE_BOTTOM,5)),e.parentElement.yoga_node.insertChild(e.yoga_node,e.parentElement.yoga_node.getChildCount())):n||e.yoga_node.setPadding(Yoga.EDGE_ALL,2)}for(let t=0;t<e.childNodes.length;t++){let i=e.childNodes[t];if(1===i.nodeType){if(i.classList.contains("no-yoga-layout"))return;this.initialiseYoga(i)}}},updateYoga(e){for(let t=0;t<e.childNodes.length;t++){let i=e.childNodes[t];if(1===i.nodeType){if(i.classList.contains("no-yoga-layout"))return;let e;e="A-ENTITY"===i.tagName?{x:i.yoga_node.getComputedLeft()/100,y:i.yoga_node.getComputedTop()/100}:{x:i.yoga_node.getComputedLeft()/100+i.yoga_node.getComputedWidth()/200,y:i.yoga_node.getComputedTop()/100+i.yoga_node.getComputedHeight()/200};let t=i.yoga_node.getComputedTop()/100+i.yoga_node.getComputedHeight()/100;t>this.content_height&&(this.content_height=t),i.setAttribute("position",e.x+" "+-e.y+" 0.0001")}this.updateYoga(i)}},setChildClips(e){e=e||this.container;for(let t=0;t<e.childNodes.length;t++){let i=e.childNodes[t];i._content_clips=this.content_clips;let n=()=>{i.object3D&&i.object3D.traverse(e=>{e.material&&(e.material.isRawShaderMaterial&&(e.material.onBeforeCompile=function(e){let t=e.vertexShader.split("\n"),i=t.indexOf("void main(void) {");t.splice(i,0,"#include <clipping_planes_pars_vertex>"),t.splice(i+2,0,"#include <begin_vertex>"),t.splice(t.length-2,0,"#include <project_vertex>"),t.splice(t.length-2,0,"#include <clipping_planes_vertex>"),e.vertexShader=t.join("\n");let n=e.fragmentShader.split("\n"),r=n.indexOf("void main() {");n.splice(r,0,"#include <clipping_planes_pars_fragment>"),n.splice(r+2,0,"#include <clipping_planes_fragment>"),e.fragmentShader=n.join("\n")},e.material.clipping=!0),e.material.clippingPlanes=this.content_clips,e.material.clipShadows=!0,e.material.needsUpdate=!0)})};setTimeout(()=>{if(i.getAttribute){i.getAttribute("text")?i.addEventListener("textfontset",()=>{clearTimeout(this.fontRenderTimeout),this.fontRenderTimeout=setTimeout(()=>UI.utils.stoppedChanging(this.currentUuid),500),n()}):n()}},0),this.setChildClips(i)}}})},function(e,t){e.exports=AFRAME.registerComponent("ui-mouse-shim",{schema:{fps:{type:"number",default:45}},init(){if(!this.el.components.raycaster)throw"ui-mouse-move component needs the raycaster component to be added.";this.el.sceneEl.renderer.domElement.addEventListener("wheel",this.onMouseWheel.bind(this),!1)},onMouseWheel(e){this.emitMouseEvent("ui-mousewheel",e)},tick(){(new Date).getTime()-this.lastMouseMoveTime<1e3/this.data.fps||(this.emitMouseEvent("ui-mousemove"),this.lastMouseMoveTime=(new Date).getTime())},emitMouseEvent(e,t){this.el.components.raycaster.intersections.forEach(i=>{i.object.el&&i.object.el.emit(e,{cursorEl:this.el,intersection:i,evt:t})})}})},function(e,t){e.exports=AFRAME.registerComponent("ui-double-click",{schema:{timeout:{type:"int",default:200}},init(){let e=0;this.el.addEventListener("mousedown",t=>{let i=(new Date).getTime();i-e<this.data.timeout&&(this.el.emit("dblclick",t),e=0,t.preventDefault()),e=i})}})},function(e,t){e.exports=AFRAME.registerComponent("ui-checkbox",{schema:{value:{type:"boolean",default:!1},selectedColor:{default:"#009688"},unselectedColor:{default:"#7f7f7f"},disabledColor:{default:"#afafaf"},indeterminate:{type:"boolean",default:!1},disabled:{type:"boolean",default:!1},intersectableClass:{default:"intersectable"}},init(){this.width=.15,this.height=.15,this.container=document.createElement("a-entity"),this.container.setAttribute("class","no-yoga-layout"),this.el.appendChild(this.container),this.setupLines();let e=document.createElement("a-plane");e.setAttribute("width",.105),e.setAttribute("height",.105),e.setAttribute("position","0 0 -0.002"),e.setAttribute("shader","flat"),e.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),e.setAttribute("opacity",1e-4),e.setAttribute("transparent",!0),this.el.appendChild(e),this.clickHandler=(()=>{this.data.value=!this.data.value,this.click()}),this.setSelected(),this.setDisabled(),this.setTransform(1)},updateSchema(){this.data&&(this.setDisabled(),this.data.disabled?this.data.value&&(this.data.value=!1,this.data.indeterminate=!1,this.click()):this.click())},setTransform(e){this.data.value?(this.container.setAttribute("rotation",{x:0,y:0,z:-45*e}),this.container.setAttribute("position",{x:-.025*e,y:.05*e,z:0})):(this.container.setAttribute("rotation",{x:0,y:0,z:45*e-45}),this.container.setAttribute("position",{x:.025-.025*e,y:.05-.05*e,z:0}))},click(){this.data.indeterminate=!1,this.setSelected(),this.animateSelected()},animateSelected(){let e=this;UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),new TWEEN.Tween({x:0}).to({x:1},200).onUpdate(function(){e.setTransform(this.x)}).onComplete(function(){UI.utils.stoppedChanging(e.el.object3D.uuid)}).easing(TWEEN.Easing.Exponential.Out).start()},setSelected(){this.data.value?(this.topLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.leftLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.bottomLine.setAttribute("scale","1 1 1"),this.rightLine.setAttribute("scale","1 1 1"),this.bottomLine.setAttribute("position","0.025 -0.05 0"),this.rightLine.setAttribute("position","0.05 0 0"),this.bottomLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("height",.05),this.bottomLine.setAttribute("color",this.data.selectedColor),this.rightLine.setAttribute("color",this.data.selectedColor)):this.data.indeterminate?(this.topLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.leftLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.bottomLine.setAttribute("scale","1 1 1"),this.rightLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.bottomLine.setAttribute("position","0 0 0"),this.bottomLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("height",.1),this.bottomLine.setAttribute("color",this.data.unselectedColor),this.rightLine.setAttribute("color",this.data.unselectedColor)):(this.topLine.setAttribute("scale","1 1 1"),this.leftLine.setAttribute("scale","1 1 1"),this.bottomLine.setAttribute("scale","1 1 1"),this.rightLine.setAttribute("scale","1 1 1"),this.bottomLine.setAttribute("height",.1),this.leftLine.setAttribute("position","-0.05 0 0"),this.rightLine.setAttribute("position","0.05 0 0"),this.topLine.setAttribute("position","0 0.05 0"),this.bottomLine.setAttribute("position","0 -0.05 0"),this.topLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("color",this.data.unselectedColor),this.rightLine.setAttribute("color",this.data.unselectedColor))},setupLines(){this.leftLine=this.line(!0),this.rightLine=this.line(!0),this.topLine=this.line(!0),this.bottomLine=this.line(!0),this.container.appendChild(this.topLine),this.container.appendChild(this.leftLine),this.container.appendChild(this.bottomLine),this.container.appendChild(this.rightLine)},setDisabled(){this.data.disabled?(this.el.removeEventListener("mousedown",this.clickHandler),this.topLine.setAttribute("color",this.data.disabledColor),this.leftLine.setAttribute("color",this.data.disabledColor),this.rightLine.setAttribute("color",this.data.disabledColor),this.bottomLine.setAttribute("color",this.data.disabledColor)):(this.el.addEventListener("mousedown",this.clickHandler),this.topLine.setAttribute("color",this.data.unselectedColor),this.leftLine.setAttribute("color",this.data.unselectedColor),this.rightLine.setAttribute("color",this.data.value?this.data.selectedColor:this.data.unselectedColor),this.bottomLine.setAttribute("color",this.data.value?this.data.selectedColor:this.data.unselectedColor))},line(e){let t=document.createElement("a-plane");return t.setAttribute("width",e?.01:.105),t.setAttribute("height",e?.105:.01),t.setAttribute("class","no-yoga-layout"),t.setAttribute("shader","flat"),t}})},function(e,t){e.exports=AFRAME.registerComponent("ui-radio",{schema:{value:{default:""},selected:{type:"boolean",default:!1},selectedColor:{default:"#009688"},selectedRadius:{type:"number",default:.045},unselectedColor:{default:"#5f5f5f"},disabledColor:{default:"#afafaf"},disabled:{type:"boolean",default:!1},intersectableClass:{default:"intersectable"},width:{type:"number",default:.15},height:{type:"number",default:.15}},init(){this.width=.15,this.height=.15,this.filled_circle=document.createElement("a-circle"),this.filled_circle.setAttribute("radius",this.data.selectedRadius),this.filled_circle.setAttribute("scale","0 0 0"),this.filled_circle.setAttribute("color",this.data.disabled?this.data.disabledColor:this.data.selectedColor),this.filled_circle.setAttribute("shader","flat"),this.filled_circle.setAttribute("class","no-yoga-layout"),this.filled_circle.setAttribute("segments",6),this.el.components.material.material.color=new THREE.Color(this.data.disabled?this.data.disabledColor:this.data.unselectedColor),this.el.appendChild(this.filled_circle);let e=document.createElement("a-circle");e.setAttribute("radius",this.data.selectedRadius),e.setAttribute("position","0 0 -0.002"),e.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),e.setAttribute("shader","flat"),e.setAttribute("segments",6),e.setAttribute("opacity",1e-4),e.setAttribute("transparent",!0),this.el.appendChild(e),this.data.selected&&this.click(),this.data.disabled||this.el.addEventListener("mousedown",e=>this.click(e))},deselect(){this.el.setAttribute("selected",!1);let e=this;UI.utils.isChanging(this.el.sceneEl,this.filled_circle.object3D.uuid),new TWEEN.Tween({x:1}).to({x:1e-6},200).onUpdate(function(){e.filled_circle.object3D.scale.set(this.x,this.x,this.x)}).onComplete(()=>{UI.utils.stoppedChanging(e.filled_circle.object3D.uuid),this.isRippling=!1}).easing(TWEEN.Easing.Exponential.Out).start()},click(){if([].slice.call(this.el.parentNode.querySelectorAll("a-ring,a-ui-radio")).filter(e=>e!==this.el).forEach(e=>{e.components["ui-radio"]&&"true"===e.getAttribute("selected")&&e.components["ui-radio"].deselect()}),this.el.emit("ui-radio-changed",this.data.value),this.el.setAttribute("selected",!0),this.isSelecting)return;this.isSelecting=!0;let e=this;UI.utils.isChanging(this.el.sceneEl,this.filled_circle.object3D.uuid),new TWEEN.Tween({x:1e-6}).to({x:1},250).onUpdate(function(){e.filled_circle.object3D.scale.set(this.x,this.x,this.x)}).onComplete(()=>{UI.utils.stoppedChanging(this.filled_circle.object3D.uuid),this.isSelecting=!1}).easing(TWEEN.Easing.Exponential.Out).start()}})},function(e,t){e.exports=AFRAME.registerComponent("ui-border",{schema:{borderRadius:{type:"number",default:.01},curveSegments:{type:"int",default:5},borderWidth:{type:"number",default:.008},color:{default:"#5f5f5f"},numberOfPoints:{type:"int",default:180}},init(){let e=this.el.getObject3D("mesh"),t=new THREE.Shape;this.roundedRect(t,e.geometry.metadata.parameters.width,e.geometry.metadata.parameters.height,this.data.borderRadius),this.roundedRect(t,e.geometry.metadata.parameters.width-2*this.data.borderWidth,e.geometry.metadata.parameters.height-2*this.data.borderWidth,this.data.borderRadius,!0),this.el.setObject3D("mesh",new THREE.Mesh(new THREE.ShapeGeometry(t,this.data.curveSegments),new THREE.MeshBasicMaterial({color:this.data.color})))},roundedRect(e,t,i,n,r){let o,a=-t/2,s=-i/2;r&&(o=e,e=new THREE.Path),e.moveTo(a,s+n),e.lineTo(a,s+i-n),e.quadraticCurveTo(a,s+i,a+n,s+i),e.lineTo(a+t-n,s+i),e.quadraticCurveTo(a+t,s+i,a+t,s+i-n),e.lineTo(a+t,s+n),e.quadraticCurveTo(a+t,s,a+t-n,s),e.lineTo(a+n,s),e.quadraticCurveTo(a,s,a,s+n),r&&o.holes.push(e)}})},function(e,t){e.exports=AFRAME.registerComponent("ui-curved-plane",{schema:{depth:{type:"number",default:.03}},init(){let e=this.el.getObject3D("mesh"),t=this.el.getAttribute("width"),i=this.el.getAttribute("height"),n=new THREE.PlaneGeometry(t,i,5,1),r=new THREE.CubicBezierCurve3(n.vertices[0],new THREE.Vector3(.375*t,0,-this.data.depth*t),new THREE.Vector3(.625*t,0,-this.data.depth*t),n.vertices[n.vertices.length/2-1]).getPoints(Math.abs(n.vertices.length/2)-1);for(let e=1;e<3;e++)for(let t=0;t<r.length;t++)n.vertices[2===e?r.length+t:t].z=r[t].z;e.geometry=n}})},function(e,t){e.exports=AFRAME.registerComponent("ui-color-picker",{schema:{backingColor:{default:"#dfdfdf"},backingColorBottom:{default:"#4db6ac"},targetEl:{type:"selector"}},init(){this.setupColorWheel(),this.setupBrightnessSlider(),this.setupColorPreview(),this.setupBacking(),this.setupEvents(),this.el.setAttribute("visible",!1),this.el.setAttribute("scale","0.00001 0.00001 0.00001"),this.el.open=this.open.bind(this),this.el.close=this.close.bind(this)},open(){return new Promise(e=>{this.selectCallback=e,this.el.setAttribute("visible",!0),this.tweenPickerScale(1e-5,.5)})},close(){this.tweenPickerScale(.5,1e-5).then(()=>this.el.setAttribute("visible",!1))},tweenPickerScale(e,t){return UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),new Promise(i=>{let n=this;new TWEEN.Tween({x:e}).to({x:t},250).onUpdate(function(){n.el.setAttribute("scale",this.x+" "+this.x+" "+this.x)}).onComplete(()=>{UI.utils.stoppedChanging(this.el.object3D.uuid),i()}).easing(TWEEN.Easing.Exponential.Out).start()})},setupBacking(){let e=document.createElement("a-circle");e.className="no-yoga-layout",e.setAttribute("position","0 0 -0.001"),e.setAttribute("material",{color:this.data.backingColor,flatShading:!0,shader:"flat",fog:!1,side:"double"}),e.setAttribute("radius",.65),e.setAttribute("theta-length",180),this.el.appendChild(e);let t=document.createElement("a-plane");t.setAttribute("position","0 -0.375 -0.001"),t.className="no-yoga-layout",t.setAttribute("material",{color:this.data.backingColor,flatShading:!0,shader:"flat",fog:!1,side:"double"}),t.setAttribute("width",1.3),t.setAttribute("height",.75),this.el.appendChild(t);let i=document.createElement("a-plane");i.setAttribute("position","0 -1.05 -0.001"),i.className="no-yoga-layout",i.setAttribute("material",{color:this.data.backingColorBottom,flatShading:!0,shader:"flat",fog:!1,side:"double"}),i.setAttribute("width",1.3),i.setAttribute("height",.6),this.el.appendChild(i);let n=document.createElement("a-ui-button");n.setAttribute("position","0.315 -1.17 0.001"),n.className="intersectable no-yoga-layout",n.setAttribute("text-value","SAVE"),n.setAttribute("color","#ffffff"),n.setAttribute("wrap-count","9"),n.setAttribute("ripple-color","#009688"),n.setAttribute("font-color","#009688"),n.setAttribute("ripple-size","0.5 0.18"),n.setAttribute("width",.5),n.setAttribute("height",.18),this.data.targetEl&&this.data.targetEl.addEventListener("mousedown",()=>{this.el.open()}),this.el.appendChild(n),n.addEventListener("mousedown",e=>{let t=this.getHex();this.el.emit("color-selected",t),this.el.close(),UI.utils.preventDefault(e),this.data.targetEl&&this.data.targetEl.setAttribute("color",t),this.selectCallback&&"function"==typeof this.selectCallback&&this.selectCallback(t)});let r=document.createElement("a-ui-button");r.setAttribute("position","-0.315 -1.17 0.001"),r.className="intersectable no-yoga-layout",r.setAttribute("text-value","CANCEL"),r.setAttribute("color","#ffffff"),r.setAttribute("wrap-count","9"),r.setAttribute("ripple-color","#ff9800"),r.setAttribute("font-color","#ff9800"),r.setAttribute("ripple-size","0.5 0.18"),r.setAttribute("width",.5),r.setAttribute("height",.18),this.el.appendChild(r),r.addEventListener("mousedown",e=>{this.el.emit("color-cancelled"),this.el.close(),UI.utils.preventDefault(e)}),this.hexValue=document.createElement("a-text"),this.hexValue.setAttribute("value","#ffffff"),this.hexValue.setAttribute("align","center"),this.hexValue.setAttribute("position","0 -0.9 0.001"),this.hexValue.setAttribute("wrap-count",15),this.hexValue.setAttribute("width",1.3),this.el.appendChild(this.hexValue)},setupColorPreview(){this.colorPreview=document.createElement("a-circle"),this.colorPreview.setAttribute("position","-0.45 -0.9 0"),this.colorPreview.setAttribute("material",{color:"#ffffff",flatShading:!0,transparent:!0,shader:"flat",fog:!1,side:"double"}),this.colorPreview.setAttribute("radius",.05),this.el.appendChild(this.colorPreview)},setupColorWheel(){this.hsv={h:0,s:0,v:1},this.colorWheel=document.createElement("a-circle"),this.colorWheel.setAttribute("material",{color:"#ffffff",flatShading:!0,transparent:!0,shader:"flat",fog:!1,side:"double"}),this.colorWheel.setAttribute("radius",.5),this.el.appendChild(this.colorWheel),this.colorWheel.className="intersectable no-yoga-layout",this.colorWheel.addEventListener("loaded",()=>{let e=this.colorWheel.getObject3D("mesh");e.material=new THREE.ShaderMaterial({uniforms:{brightness:{type:"f",value:this.hsv.v}},vertexShader:"\n\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * mvPosition;\n      }\n    ",fragmentShader:"\n      #define M_PI2 6.28318530718\n      uniform float brightness;\n      varying vec2 vUv;\n      vec3 hsb2rgb(in vec3 c){\n          vec3 rgb = clamp(abs(mod(c.x * 6.0 + vec3(0.0, 4.0, 2.0), 6.0) - 3.0) - 1.0, 0.0, 1.0 );\n          rgb = rgb * rgb * (3.0 - 2.0 * rgb);\n          return c.z * mix( vec3(1.0), rgb, c.y);\n      }\n\n      void main() {\n        vec2 toCenter = vec2(0.5) - vUv;\n        float angle = atan(toCenter.y, toCenter.x);\n        float radius = length(toCenter) * 2.0;\n        vec3 color = hsb2rgb(vec3((angle / M_PI2) + 0.5, radius, brightness));\n        gl_FragColor = vec4(color, 1.0);\n      }\n      "}),e.material.needsUpdate=!0})},setupBrightnessSlider(){this.brightnessSlider=document.createElement("a-plane"),this.brightnessSlider.setAttribute("height",.1),this.brightnessSlider.setAttribute("width",.8),this.brightnessSlider.setAttribute("position","0 -0.6 0"),this.brightnessSlider.className="intersectable no-yoga-layout",this.el.appendChild(this.brightnessSlider),this.brightnessSlider.addEventListener("loaded",()=>{this.brightnessSlider.getObject3D("mesh").material=new THREE.ShaderMaterial({uniforms:{color1:{type:"c",value:new THREE.Color(16777215)},color2:{type:"c",value:new THREE.Color(0)}},vertexShader:"\n      varying vec2 vUv;\n      void main(){\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n      }\n    ",fragmentShader:"\n      uniform vec3 color1;\n      uniform vec3 color2;\n      varying vec2 vUv;\n\n      void main(){\n        vec4 c1 = vec4(color1, 1.0);\n  \t    vec4 c2 = vec4(color2, 1.0);\n\n        vec4 color = mix(c2, c1, smoothstep(0.0, 1.0, vUv.x));\n        gl_FragColor = color;\n      }\n    "}),this.brightnessSlider.getObject3D("mesh").material.needsUpdate=!0});let e=document.createElement("a-triangle");e.setAttribute("vertex-a","0 0.05 0"),e.setAttribute("vertex-b","-0.05 -0.05 0"),e.setAttribute("vertex-c","0.05 -0.05 0"),e.setAttribute("position","-0.475 -0.6 0"),e.setAttribute("rotation","0 0 90"),e.setAttribute("shader","flat"),e.setAttribute("color","#009688"),e.setAttribute("ui-btn",""),e.className="intersectable",this.el.appendChild(e);let t=document.createElement("a-triangle");t.setAttribute("vertex-a","0 0.05 0"),t.setAttribute("vertex-b","-0.05 -0.05 0"),t.setAttribute("vertex-c","0.05 -0.05 0"),t.setAttribute("position","0.475 -0.6 0"),t.setAttribute("rotation","0 0 -90"),t.setAttribute("color","#009688"),t.setAttribute("shader","flat"),t.setAttribute("ui-btn",""),t.className="intersectable",this.el.appendChild(t),e.addEventListener("mousedown",()=>{UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),this.colorWheel.getObject3D("mesh").material.uniforms.brightness.value=0,this.hsv.v=0,this.hsv.h=0,this.hsv.s=0,this.updateColor(),UI.utils.stoppedChanging(this.el.object3D.uuid)}),t.addEventListener("mousedown",()=>{UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),this.colorWheel.getObject3D("mesh").material.uniforms.brightness.value=1,this.hsv.v=1,this.hsv.h=0,this.hsv.s=0,this.updateColor(),UI.utils.stoppedChanging(this.el.object3D.uuid)})},getHex(){let e=this.hsvToRgb(this.hsv),t="rgb("+e.r+", "+e.g+", "+e.b+")";return"#"+new THREE.Color(t).getHexString()},updateColor(){let e=this.getHex();this.colorPreview.setAttribute("color",e),this.hexValue.setAttribute("value",e)},setupEvents(){this.colorWheel.addEventListener("mousedown",e=>{this.isMouseDown=!0,UI.utils.preventDefault(e)}),this.colorWheel.addEventListener("mouseup",e=>{this.isMouseDown=!1,UI.utils.preventDefault(e)}),this.colorWheel.addEventListener("ui-mousemove",e=>{if(!this.isMouseDown)return;UI.utils.preventDefault(e),UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid);let t=this.colorWheel.getObject3D("mesh"),i=e.detail.intersection.point;t.updateMatrixWorld(),t.worldToLocal(i);let n=Math.sqrt(i.x*i.x+i.y*i.y),r=((Math.PI+Math.atan2(i.y,i.x))*(180/Math.PI)+180)%360;this.hsv.h=r/360,this.hsv.s=n/.5,this.updateColor(),UI.utils.stoppedChanging(this.el.object3D.uuid)}),this.brightnessSlider.addEventListener("mousedown",e=>{this.isMouseDown=!0,UI.utils.preventDefault(e)}),this.brightnessSlider.addEventListener("mouseup",e=>{this.isMouseDown=!1,UI.utils.preventDefault(e)}),this.brightnessSlider.addEventListener("ui-mousemove",e=>{if(UI.utils.preventDefault(e),UI.utils.isChanging(this.el.sceneEl,this.el.object3D.uuid),!this.isMouseDown)return;let t=this.brightnessSlider.getObject3D("mesh"),i=this.colorWheel.getObject3D("mesh"),n=e.detail.intersection.point;t.updateMatrixWorld(),t.worldToLocal(n);let r=(n.x+.4)/.8;i.material.uniforms.brightness.value=r,this.hsv.v=r,this.updateColor(),UI.utils.stoppedChanging(this.el.object3D.uuid)})},hsvToRgb(e){let t,i,n,r,o,a,s,l,u=THREE.Math.clamp(e.h,0,1),c=THREE.Math.clamp(e.s,0,1),d=e.v;switch(a=d*(1-c),s=d*(1-(o=6*u-(r=Math.floor(6*u)))*c),l=d*(1-(1-o)*c),r%6){case 0:t=d,i=l,n=a;break;case 1:t=s,i=d,n=a;break;case 2:t=a,i=d,n=l;break;case 3:t=a,i=s,n=d;break;case 4:t=l,i=a,n=d;break;case 5:t=d,i=a,n=s}return{r:Math.round(255*t),g:Math.round(255*i),b:Math.round(255*n)}}})},function(e,t){e.exports=AFRAME.registerComponent("ui-modal",{schema:{modal:{type:"selector"},main:{type:"selector"}},init(){if(this.data.modal&&this.data.main){this.modalPanel=document.querySelector(this.data.modal.getAttribute("ui-panel")),this.mainComponents=this.data.main.components,this.modalComponents=this.data.modal.components,this.modalComponents&&this.modalComponents["ui-renderer"]&&this.modalComponents["ui-renderer"].pause();let e=this.data.modal.querySelectorAll(".close-modal");for(let t=0;t<e.length;t++){e[t].addEventListener("mousedown",()=>{this.close()})}this.el.addEventListener("mousedown",()=>{this.open()}),this.data.main.modal=this,this.el.open=this.open.bind(this),this.el.close=this.close.bind(this)}},open(){this.mainComponents&&this.mainComponents["ui-renderer"]&&(this.mainComponents["ui-renderer"].pauseRender(),this.tweenModalScale(1e-7,1),this.modalComponents["ui-renderer"].play())},close(){this.modalComponents["ui-renderer"].pause(),this.mainComponents["ui-renderer"].play(),this.mainComponents["ui-renderer"].playRender(),this.tweenModalScale(1,1e-7).then(()=>{this.el.sceneEl.emit("modal-closed")})},tweenModalScale(e,t){return new Promise(i=>{let n=this;new TWEEN.Tween({x:e}).to({x:t},250).onUpdate(function(){n.modalPanel&&n.modalPanel.setAttribute("scale",this.x+" "+this.x+" "+this.x)}).onComplete(i).easing(TWEEN.Easing.Exponential.Out).start()})}})},function(e,t){e.exports=AFRAME.registerComponent("ui-renderer",{schema:{uiPanel:{type:"selector"},lookControlsEl:{type:"selector"},lookControlsComponent:{default:"look-controls"},panelPosition:{type:"vec3",default:{x:0,y:1.6,z:-1}},panelSize:{type:"vec2",default:{x:6,y:3}},renderResolution:{type:"vec2",default:{x:2048,y:1024}},debugRaycaster:{type:"boolean",default:!1},fps:{type:"number",default:60},intersectableClass:{default:"intersectable"}},init(){this.setupBackDrop(),this.data.uiPanel?this.meshEl=this.data.uiPanel:this.meshEl=this.setupUIPanel(),this.el.object3D.parent.remove(this.el.object3D),this.camera=new THREE.PerspectiveCamera(100,2,.1,1e3),this.renderTarget=new THREE.WebGLRenderTarget(this.data.renderResolution.x,this.data.renderResolution.y,{antialias:!0}),this.meshEl.getObject3D("mesh").material.map=this.renderTarget.texture,this.stoppedRendering=!1,this.isRendering=!0,this.el.sceneEl.addEventListener("ui-changing",()=>{this.stoppedRendering=!1,this.isRendering=!0}),this.el.sceneEl.addEventListener("ui-changing-stopped",()=>{this.isRendering=!1}),this.raycaster=new THREE.Raycaster,this.helper=new THREE.Mesh(new THREE.SphereGeometry(.01),new THREE.MeshBasicMaterial({color:"#ff0000"})),this.data.debugRaycaster&&this.el.object3D.add(this.helper),this.lastRenderTime=0,this.isFrozen=!1,this.el.pauseRender=this.pauseRender.bind(this),this.el.playRender=this.playRender.bind(this)},pauseRender(e){return this.playRender(e,!0)},playRender(e,t){let i=this;return new Promise(n=>{if(i.isFrozen===t||i.isAnimatingBackground)return n();i.isAnimatingBackground=!0,i.isFrozen||this.backdrop.setAttribute("scale","1 1 1");let r=i.isFrozen?.9:1e-6,o=i.isFrozen?1e-6:.9,a=i.isFrozen?e||350:e||500;i.isFrozen&&(i.isFrozen=t,i.play()),UI.utils.isChanging(i.el.sceneEl,i.backdrop.uuid),new TWEEN.Tween({x:r}).to({x:o},a).onUpdate(function(){i.backdrop.setAttribute("opacity",this.x)}).onComplete(()=>{i.isFrozen=t,i.isAnimatingBackground=!1,i.isFrozen?i.pause():this.backdrop.setAttribute("scale","0.000001 0.000001 0.000001"),UI.utils.stoppedChanging(this.backdrop.uuid),n()}).easing(TWEEN.Easing.Exponential.Out).start()})},setupBackDrop(){this.backdrop=document.createElement("a-plane"),this.backdrop.setAttribute("transparent",!0),this.backdrop.setAttribute("opacity",1e-6),this.backdrop.setAttribute("color","#000"),this.backdrop.setAttribute("shader","flat"),this.backdrop.setAttribute("position",{x:0,y:0,z:-.2}),this.backdrop.setAttribute("width",1),this.backdrop.setAttribute("height",1),this.backdrop.setAttribute("scale","0.000001 0.000001 0.000001"),this.el.appendChild(this.backdrop)},play(){this.lastMouseMoveTime=0,this.click=(e=>this.mouseEvent("click",this.lastMoveEvent||e)),this.mousedown=(e=>this.mouseEvent("mousedown",this.lastMoveEvent||e)),this.mouseup=(e=>this.mouseEvent("mouseup",this.lastMoveEvent||e)),this.mousewheel=(e=>this.mouseEvent("ui-mousewheel",e.detail.evt)),this.mousemove=(e=>{this.lastMoveEvent=e,this.mouseEvent("ui-mousemove",e)}),this.meshEl.addEventListener("mousedown",this.mousedown),this.meshEl.addEventListener("mouseup",this.mouseup),this.meshEl.addEventListener("click",this.click),this.meshEl.addEventListener("ui-mousemove",this.mousemove),this.meshEl.addEventListener("ui-mousewheel",this.mousewheel)},pause(){this.meshEl.removeEventListener("mousedown",this.mousedown),this.meshEl.removeEventListener("mouseup",this.mouseup),this.meshEl.removeEventListener("click",this.click),this.meshEl.removeEventListener("ui-mousemove",this.mousemove),this.meshEl.removeEventListener("ui-mousewheel",this.mousewheel)},setupUIPanel(){let e=document.createElement("a-plane");return e.setAttribute("position",this.data.panelPosition),e.setAttribute("width",this.data.panelSize.x),e.setAttribute("height",this.data.panelSize.y),this.el.sceneEl.appendChild(e),e},mouseEvent(e,t){let i={x:0,y:0};if(t.detail.intersection){let e=this.meshEl.object3D.worldToLocal(t.detail.intersection.point.clone());i={x:e.x/this.meshEl.getAttribute("width")*2,y:e.y/this.meshEl.getAttribute("height")*2}}"ui-mousewheel"===e&&t.detail.evt&&(i.deltaY=t.detail.deltaY,i.deltaX=t.detail.deltaX),"mousedown"===e&&this.lookControlsEl&&this.lookControlsEl.components["look-controls"]&&this.lookControlsEl.components[this.data.lookControlsComponent].pause(),"mouseup"===e&&this.lookControlsEl&&this.lookControlsEl.components["look-controls"]&&this.lookControlsEl.components[this.data.lookControlsComponent].play(),this.raycastIntersections(t,i,e)},raycastIntersections(e,t,i){if(!this.camera)return;this.raycaster.setFromCamera(t,this.camera);let n=this.raycaster.intersectObjects(this.el.object3D.children,!0);this.prevIntersectionEls=this.prevIntersectionEls||[];let r=[];if(n.length&&this.data.debugRaycaster){let e=n[0].point;n[0].object===this.helper&&n.length>1&&(e=n[1].point),this.helper.position.copy(e),this.helper.position.x-=.03}let o=!1;for(let t=0;t<n.length;t++){let a=n[t];if(a.object.el&&a.object.el.classList.contains(this.data.intersectableClass)){let t={intersection:a,evt:e,preventDefault:()=>{o=!0}};-1!==this.prevIntersectionEls.indexOf(a.object.el)||o||a.object.el.emit("mouseenter",t),o&&"ui-mousewheel"!==i||a.object.el.emit(i,t),a.object.el.intersection=a,r.push(a.object.el)}}for(let e=0;e<this.prevIntersectionEls.length;e++){let t=this.prevIntersectionEls[e];-1===r.indexOf(t)&&t.emit("mouseleave",{intersection:t.intersection})}this.prevIntersectionEls=r},tick(e){if(this.isFrozen||this.stoppedRendering)return;if(e-this.lastRenderTime<1e3/this.data.fps&&this.isRendering)return;this.el.object3D.traverse(e=>{e.updateMatrixWorld()});let t=this.el.sceneEl.renderer,i=t.vr.enabled;t.vr.enabled=!1,t.render(this.el.object3D,this.camera,this.renderTarget),t.vr.enabled=i,this.lastRenderTime=e,this.isRendering||(this.stoppedRendering=!0)}})},function(e,t){if("undefined"==typeof Yoga)throw"ui-yoga component requires the Yoga Layout Engine to be loaded - https://yogalayout.com";e.exports=AFRAME.registerComponent("ui-yoga",{schema:{alignContent:{default:"flex-start"},alignItems:{default:"auto"},alignSelf:{default:"auto"},display:{default:"default"},flex:{type:"number",default:1},flexDirection:{default:"row"},flexWrap:{default:"default"},aspectRatio:{default:"default"},overflow:{default:"default"},justifyContent:{default:"start"},border:{type:"int",default:0},borderLeft:{type:"int",default:0},borderRight:{type:"int",default:0},borderTop:{type:"int",default:0},borderBottom:{type:"int",default:0},padding:{type:"int",default:0},paddingLeft:{type:"int",default:0},paddingRight:{type:"int",default:0},paddingTop:{type:"int",default:0},paddingBottom:{type:"int",default:0},margin:{type:"int",default:0},marginLeft:{type:"int",default:0},marginRight:{type:"int",default:0},marginTop:{type:"int",default:0},marginBottom:{type:"int",default:0},marginAuto:{type:"boolean",default:!1},marginAutoLeft:{type:"boolean",default:!1},marginAutoRight:{type:"boolean",default:!1},marginAutoTop:{type:"boolean",default:!1},marginAutoBottom:{type:"boolean",default:!1},marginPercent:{type:"number",default:0},marginPercentLeft:{type:"int",default:0},marginPercentRight:{type:"int",default:0},marginPercentTop:{type:"int",default:0},marginPercentBottom:{type:"int",default:0},flexBasis:{default:"default"},flexBasisPercent:{type:"number",default:0},flexGrow:{type:"number",default:0},flexShrink:{type:"number",default:1},maxHeight:{default:"default"},minHeight:{default:"default"},maxWidth:{default:"default"},minWidth:{default:"default"},maxHeightPercent:{default:"default"},minHeightPercent:{default:"default"},maxWidthPercent:{default:"default"},minWidthPercent:{default:"default"},position:{default:"default"},positionLeft:{type:"int",default:0},positionRight:{type:"int",default:0},positionTop:{type:"int",default:0},positionBottom:{type:"int",default:0},positionPercent:{default:"default"},positionPercentLeft:{type:"int",default:0},positionPercentRight:{type:"int",default:0},positionPercentTop:{type:"int",default:0},positionPercentBottom:{type:"int",default:0},width:{default:"default"},height:{default:"default"},widthAuto:{type:"boolean",default:!1},heightAuto:{type:"boolean",default:!1},widthPercent:{default:"default"},heightPercent:{default:"default"}},init(){this.el.getYogaProperties=this.getProperties.bind(this),this.setProperties()},updateSchema(){this.setProperties()},setProperties(){this.properties=this.properties||[],this.properties.length=0;for(let e in this.data)if(this.data.hasOwnProperty(e)&&"default"!==this.data[e]&&this.data[e]){this.mapPropertyToEnum(e)&&this.properties.push({method:"set"+e.charAt(0).toUpperCase()+e.substr(1),value:this.mapPropertyToEnum(e)})}},getProperties(){let e={};for(let t=0;t<this.properties.length;t++)e[this.properties[t].method]=this.properties[t];return e},mapPropertyToEnum(e){switch(!0){case e.indexOf("align")>-1:return this.enums.align[this.data[e]];case e.indexOf("Edge")>-1:return this.enums.edge[this.data[e]];case"flexDirection"===e:case"flexWrap"===e:case"positionType"===e:case"overflow"===e:case"display"===e:case"justifyContent"===e:return this.enums[e][this.data[e]];default:return this.data[e]}},enums:{align:{count:Yoga.ALIGN_COUNT,auto:Yoga.ALIGN_AUTO,"flex-start":Yoga.ALIGN_FLEX_START,center:Yoga.ALIGN_CENTER,"flex-end":Yoga.ALIGN_FLEX_END,stretch:Yoga.ALIGN_STRETCH,baseline:Yoga.ALIGN_BASELINE,"space-between":Yoga.ALIGN_SPACE_BETWEEN,"space-around":Yoga.ALIGN_SPACE_AROUND},dimension:{count:Yoga.DIMENSION_COUNT,width:Yoga.DIMENSION_WIDTH,height:Yoga.DIMENSION_HEIGHT},direction:{count:Yoga.DIRECTION_COUNT,inherit:Yoga.DIRECTION_INHERIT,ltr:Yoga.DIRECTION_LTR,rtl:Yoga.DIRECTION_RTL},display:{count:Yoga.DISPLAY_COUNT,flex:Yoga.DISPLAY_FLEX,none:Yoga.DISPLAY_NONE},edge:{count:Yoga.EDGE_COUNT,left:Yoga.EDGE_LEFT,top:Yoga.EDGE_TOP,right:Yoga.EDGE_RIGHT,bottom:Yoga.EDGE_BOTTOM,start:Yoga.EDGE_START,end:Yoga.EDGE_END,horizontal:Yoga.EDGE_HORIZONTAL,vertical:Yoga.EDGE_VERTICAL,all:Yoga.EDGE_ALL},experimental:{count:Yoga.EXPERIMENTAL_FEATURE_COUNT,"flex-basis":Yoga.EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS},flexDirection:{count:Yoga.FLEX_DIRECTION_COUNT,column:Yoga.FLEX_DIRECTION_COLUMN,"column-reverse":Yoga.FLEX_DIRECTION_COLUMN_REVERSE,row:Yoga.FLEX_DIRECTION_ROW,reverse:Yoga.FLEX_DIRECTION_ROW_REVERSE},justifyContent:{count:Yoga.JUSTIFY_COUNT,start:Yoga.JUSTIFY_FLEX_START,center:Yoga.JUSTIFY_CENTER,end:Yoga.JUSTIFY_FLEX_END,between:Yoga.JUSTIFY_SPACE_BETWEEN,around:Yoga.JUSTIFY_SPACE_AROUND,evenly:Yoga.JUSTIFY_SPACE_EVENLY},logLevel:{count:Yoga.LOG_LEVEL_COUNT,error:Yoga.LOG_LEVEL_ERROR,warn:Yoga.LOG_LEVEL_WARN,info:Yoga.LOG_LEVEL_INFO,debug:Yoga.LOG_LEVEL_DEBUG,verbose:Yoga.LOG_LEVEL_VERBOSE,fatal:Yoga.LOG_LEVEL_FATAL},measureMode:{count:Yoga.MEASURE_MODE_COUNT,undefined:Yoga.MEASURE_MODE_UNDEFINED,exactly:Yoga.MEASURE_MODE_EXACTLY,"at-most":Yoga.MEASURE_MODE_AT_MOST},nodeType:{count:Yoga.NODE_TYPE_COUNT,default:Yoga.NODE_TYPE_DEFAULT,text:Yoga.NODE_TYPE_TEXT},overflow:{count:Yoga.OVERFLOW_COUNT,visible:Yoga.OVERFLOW_VISIBLE,hidden:Yoga.OVERFLOW_HIDDEN,scroll:Yoga.OVERFLOW_SCROLL},positionType:{count:Yoga.POSITION_TYPE_COUNT,relative:Yoga.POSITION_TYPE_RELATIVE,absolute:Yoga.POSITION_TYPE_ABSOLUTE},printOptions:{count:Yoga.PRINT_OPTIONS_COUNT,layout:Yoga.PRINT_OPTIONS_LAYOUT,style:Yoga.PRINT_OPTIONS_STYLE,children:Yoga.PRINT_OPTIONS_CHILDREN},unit:{count:Yoga.UNIT_COUNT,undefined:Yoga.UNIT_UNDEFINED,point:Yoga.UNIT_POINT,percent:Yoga.UNIT_PERCENT,auto:Yoga.UNIT_AUTO},flexWrap:{count:Yoga.WRAP_COUNT,"no-wrap":Yoga.WRAP_NO_WRAP,wrap:Yoga.WRAP_WRAP,"wrap-reverse":Yoga.WRAP_WRAP_REVERSE}}})},function(e,t){e.exports=AFRAME.registerComponent("gizmo",{schema:{raycasterEl:{type:"selector"},cameraEl:{type:"selector"},displayEl:{type:"selector"},mode:{default:"position"}},init(){this.setupElements(),this.setMode(),this.currentTransform={position:new THREE.Vector3,rotation:new THREE.Vector3,scale:new THREE.Vector3}},updateSchema(){this.top_box&&!this.isAnimating&&this.toggle(!0).then(()=>this.setMode()).then(()=>this.toggle())},setObject(e,t){if(!e)return new TWEEN.Tween(this.el.getAttribute("scale")).to(new THREE.Vector3(1e-5,1e-5,1e-5),250).easing(TWEEN.Easing.Exponential.Out).start();new TWEEN.Tween(this.el.getAttribute("scale")).to(new THREE.Vector3(1,1,1),250).easing(TWEEN.Easing.Exponential.Out).start(),this.boundingBox=t;let i=t.getSize(),n=e.parent.localToWorld(e.position.clone());this.el.setAttribute("position",n),this.el.setAttribute("position",{x:n.x-(.12+i.x/2),y:n.y,z:n.z-(.12+i.z/2)});let r=this.el.sceneEl.context.currentObject;this.currentTransform.position=(new THREE.Vector3).copy(r.settings.transform.position),this.currentTransform.rotation=(new THREE.Vector3).copy(r.settings.transform.rotation),this.currentTransform.scale=(new THREE.Vector3).copy(r.settings.transform.scale)},toggle(e){return new Promise(t=>{this.isAnimating=!0;let i=e?1e-5:1;new TWEEN.Tween(this.el.getAttribute("scale")).to(new THREE.Vector3(i,i,i),250).onComplete(()=>{this.isAnimating=!1,t()}).easing(TWEEN.Easing.Exponential.Out).start()})},play(){this.mousedown=(e=>this.onMouseDown(e)),this.mousemove=(e=>this.onMouseMove(e)),this.mouseup=(e=>this.onMouseUp(e)),this.addListeners(this.top_box),this.addListeners(this.x_box),this.addListeners(this.y_box),this.addListeners(this.z_box),this.el.sceneEl.addEventListener("mouseup",this.mouseup)},pause(){this.removeListeners(this.top_box),this.removeListeners(this.x_box),this.removeListeners(this.y_box),this.removeListeners(this.z_box),this.el.sceneEl.removeEventListener("mouseup",this.mouseup)},addListeners(e){e.addEventListener("mousedown",this.mousedown)},removeListeners(e){e.removeEventListener("mousedown",this.mousedown)},getDraggingSpine(){let e,t,i;return this.dragging===this.x_box?(e=this.x_spine,t="x",i=new THREE.Vector3(-.5,0,0)):this.dragging===this.y_box?(e=this.y_spine,t="y",i=new THREE.Vector3(0,-.5,0)):this.dragging===this.z_box?(e=this.z_spine,t="z",i=new THREE.Vector3(0,0,-.5)):this.dragging===this.top_box&&(e=this.top_spine,t="top",i=new THREE.Vector3(0,-.7,0)),{spine:e,axis:t,offset:i}},onMouseUp(e){if(this.dragging){this.dragging.setAttribute("position",this.defaultPosition);let e=this.getDraggingSpine();e.spine.object3D.scale.z="top"===e.axis?.71:.51,this.setMode(),this.backing_element.setAttribute("scale","0.001 0.001 0.001"),this.backing_element.className="",this.backing_element.removeEventListener("ui-mousemove",this.mousemove),this.el.sceneEl.context.currentObject.settings.transform=this.deepCopy(this.currentTransform),this.el.sceneEl.emit("transform-update"),this.data.displayEl.components["display-box"].setObject(this.el.sceneEl.context.currentObject.object3D),delete this.dragging}},setSpinePosition(e,t){let i=new THREE.Vector3(0,0,0),n=this.getDraggingSpine();(t=t||n.spine).setAttribute("position",this.getPointInBetweenByPerc(e,i));let r=e.distanceTo(i);return n.scale=r,n.angle=Math.atan2(e.y,e.x),t.object3D.scale.z=r,t.object3D.lookAt(e),n},setBoxRotation(e,t){if("rotation"===this.data.mode)switch(t){case"x":this[t+"_box"].object3D.rotation.z=Math.atan2(e.y,e.x);break;case"y":this[t+"_box"].object3D.rotation.y=Math.atan2(e.x,e.z);break;case"z":this[t+"_box"].object3D.rotation.x=-Math.atan2(e.y,e.z)}},onMouseMove(e){if(this.dragging){let t=this.el.object3D.worldToLocal(e.x?e:e.detail.intersection.point);this.dragging.setAttribute("position",t);let i=this.setSpinePosition(t);this.setBoxRotation(t,i.axis),this.updateObject(t,i)}},updateObject(e,t){let i=this.el.sceneEl.context.currentObject;if("position"===this.data.mode){let n=e.clone().add(this.saveCurrentTransform.position).add(t.offset);switch(t.axis){case"x":this.currentTransform.position.x=n.x;break;case"y":this.currentTransform.position.y=n.y;break;case"z":this.currentTransform.position.z=n.z;break;case"top":this.currentTransform.position.copy(n)}i.object3D.position.copy(this.currentTransform.position)}else if("rotation"===this.data.mode){let n=new THREE.Vector3;switch(t.axis){case"x":n.z=Math.atan2(e.y,e.x)-1;break;case"y":n.y=Math.atan2(e.x,e.z)-1.25*Math.PI;break;case"z":n.x=1-Math.atan2(e.y,e.z)}let r=this.getRotation(n);this.currentTransform.rotation=r.vector,i.object3D.rotation.copy(r.euler)}else if("scale"===this.data.mode){let e=2*(t.scale/(this.dragging===this.top_box?.7:.5)-1),n=new THREE.Vector3(e,e,e).add(this.saveCurrentTransform.scale);switch(t.axis){case"x":this.currentTransform.scale.x=n.x;break;case"y":this.currentTransform.scale.y=n.y;break;case"z":this.currentTransform.scale.z=n.z;break;case"top":this.currentTransform.scale.copy(n)}i.object3D.scale.copy(this.currentTransform.scale)}},matrixFromEuler:function(e){return(new THREE.Matrix4).makeRotationFromEuler(e)},getRotation:function(e){let t=this.matrixFromEuler(new THREE.Euler(this.saveCurrentTransform.rotation.x,this.saveCurrentTransform.rotation.y,this.saveCurrentTransform.rotation.z)),i=(new THREE.Euler).setFromVector3(e),n=t.premultiply(this.matrixFromEuler(i)),r=(new THREE.Euler).setFromRotationMatrix(n);return{euler:r,vector:new THREE.Vector3(r.x,r.y,r.z)}},getPointInBetweenByPerc(e,t,i){let n=t.clone().sub(e).normalize().multiplyScalar(e.distanceTo(t)*(i||.5));return e.clone().add(n)},getPointOnCircle(e,t,i){let n=new THREE.Vector3;switch(t){case"x":n.x=Math.cos(e)*i,n.y=Math.sin(e)*i,n.z=0;break;case"y":n.x=Math.sin(e)*i,n.y=0,n.z=Math.cos(e)*i;break;case"z":n.z=Math.cos(e)*i,n.y=Math.sin(e)*i,n.x=0}return n},onMouseDown(e){-1!==[this.top_box,this.x_box,this.y_box,this.z_box].indexOf(e.target)&&(this.dragging=e.target,this.backing_element.className="intersect",this.backing_element.setAttribute("scale","1000 1000 1000"),this.defaultPosition=e.target.getAttribute("position").clone(),this.backing_element.setAttribute("position",this.defaultPosition),this.backing_element.addEventListener("ui-mousemove",this.mousemove),this.backing_element.object3D.lookAt(this.backing_element.object3D.parent.worldToLocal(this.data.cameraEl.object3D.getWorldPosition())),this.saveCurrentTransform=this.deepCopy(this.el.sceneEl.context.currentObject.settings.transform),this.currentTransform.position.copy(this.saveCurrentTransform.position),this.currentTransform.scale.copy(this.saveCurrentTransform.scale),this.currentTransform.rotation.copy(this.saveCurrentTransform.rotation))},deepCopy:e=>JSON.parse(JSON.stringify(e)),setupElements(){this.backing_element=document.createElement("a-plane"),this.backing_element.setAttribute("scale","0.001 0.001 0.001"),this.backing_element.setAttribute("side","double"),this.backing_element.setAttribute("visible",!1),this.el.appendChild(this.backing_element),this.top_box=this.createElement("0.1 0.1 0.1",!1,!0),this.top_box.setAttribute("position","0 0.7 0"),this.x_box=this.createElement("0.1 0.1 0.1","blue",!0),this.y_box=this.createElement("0.1 0.1 0.1","green",!0),this.z_box=this.createElement("0.1 0.1 0.1","red",!0),this.top_spine=this.createElement("0.005 0.005 0.71","#cfcfcf"),this.top_spine.setAttribute("position","0 0.355 0"),this.x_spine=this.createElement("0.01 0.01 0.509","blue"),this.y_spine=this.createElement("0.01 0.01 0.509","green"),this.z_spine=this.createElement("0.01 0.01 0.509","red"),this.x_rail=this.createRail("0 0 0","blue"),this.y_rail=this.createRail("-90 0 0","green"),this.z_rail=this.createRail("0 90 0","red")},setMode(){this.setImage(this.data.mode),"rotation"===this.data.mode?(this.rot_x_pos=this.getPointOnCircle(1,"x",.475),this.rot_y_pos=this.getPointOnCircle(1.25*Math.PI,"y",.475),this.rot_z_pos=this.getPointOnCircle(1,"z",.475),this.top_box.setAttribute("visible",!1),this.top_spine.setAttribute("visible",!1),this.x_rail.setAttribute("visible",!0),this.y_rail.setAttribute("visible",!0),this.z_rail.setAttribute("visible",!0),this.x_box.object3D.rotation.z=1,this.y_box.object3D.rotation.y=1.25*Math.PI,this.z_box.object3D.rotation.x=-1):(this.x_box.object3D.rotation.z=0,this.y_box.object3D.rotation.y=0,this.z_box.object3D.rotation.x=0,this.top_box.setAttribute("visible",!0),this.top_spine.setAttribute("visible",!0),this.x_rail.setAttribute("visible",!1),this.y_rail.setAttribute("visible",!1),this.z_rail.setAttribute("visible",!1),this.top_spine.setAttribute("rotation","90 0 0"),this.top_spine.setAttribute("position","0 0.355 0")),this.x_box.setAttribute("position","rotation"===this.data.mode?this.rot_x_pos:"0.5 0 0"),this.x_box.setAttribute("position","rotation"===this.data.mode?this.rot_x_pos:"0.5 0 0"),this.y_box.setAttribute("position","rotation"===this.data.mode?this.rot_y_pos:"0 0.5 0"),this.z_box.setAttribute("position","rotation"===this.data.mode?this.rot_z_pos:"0 0 0.5"),setTimeout(()=>{this.setSpinePosition(this.top_box.getAttribute("position"),this.top_spine),this.setSpinePosition(this.x_box.getAttribute("position"),this.x_spine),this.setSpinePosition(this.y_box.getAttribute("position"),this.y_spine),this.setSpinePosition(this.z_box.getAttribute("position"),this.z_spine)})},setImage(e){this.top_box.setAttribute("src","images/gizmos/"+e+"_top.jpg"),this.x_box.setAttribute("src","images/gizmos/"+e+"_top.jpg"),this.y_box.setAttribute("src","images/gizmos/"+e+"_top.jpg"),this.z_box.setAttribute("src","images/gizmos/"+e+"_top.jpg")},createRail(e,t){let i=document.createElement("a-ring");return i.setAttribute("radius-inner",.45),i.setAttribute("radius-outer",.5),i.setAttribute("segments-theta",36),i.setAttribute("theta-length","green"===t?270:360),i.setAttribute("rotation",e),i.setAttribute("side","double"),i.setAttribute("color",t),this.el.appendChild(i),i},createElement(e,t,i){let n=document.createElement("a-box");return n.setAttribute("scale",e),i&&(n.className="intersect"),t&&n.setAttribute("color",t),this.el.appendChild(n),n}})},function(e,t){e.exports=AFRAME.registerComponent("display-box",{schema:{gizmoEl:{type:"selector"}},init(){this.setupElements()},setupElements(){this.display_box=document.createElement("a-box"),this.display_box.setAttribute("src","images/display_texture.png"),this.display_box.setAttribute("side","back"),this.display_box.setAttribute("transparent",!0),this.display_box.setAttribute("shader","flat"),this.display_box.setAttribute("opacity",.1),this.el.appendChild(this.display_box),this.cornerContainer=document.createElement("a-entity"),this.el.appendChild(this.cornerContainer),this.corner_ftl=this.createCorner("FTL"),this.corner_ftr=this.createCorner("FTR"),this.corner_fbl=this.createCorner("FBL"),this.corner_fbr=this.createCorner("FBR"),this.corner_btl=this.createCorner("BTL"),this.corner_btr=this.createCorner("BTR"),this.corner_bbl=this.createCorner("BBL"),this.corner_bbr=this.createCorner("BBR")},hide(){this.setObject()},setObject(e){if(!e)return this.data.gizmoEl.components.gizmo&&this.data.gizmoEl.components.gizmo.setObject(),this.el.sceneEl.context.viewUtils.hideTransformOptions(),new TWEEN.Tween(this.display_box.getAttribute("scale")).to(new THREE.Vector3(1e-5,1e-5,1e-5),250).onComplete(()=>{new TWEEN.Tween(this.el.getAttribute("scale")).to(new THREE.Vector3(1e-5,1e-5,1e-5),250).easing(TWEEN.Easing.Exponential.Out).start()}).easing(TWEEN.Easing.Exponential.Out).start();this.el.sceneEl.context.viewUtils.showTransformOptions(),this.boundingBox=(new THREE.Box3).setFromObject(e),this.boundingBoxSize=this.boundingBox.getSize(),new TWEEN.Tween(this.el.getAttribute("scale")).to(new THREE.Vector3(1,1,1),250).easing(TWEEN.Easing.Exponential.Out).start(),new TWEEN.Tween(this.display_box.getAttribute("scale")).to(new THREE.Vector3(this.boundingBoxSize.x+.1,this.boundingBoxSize.y+.1,this.boundingBoxSize.z+.1),250).easing(TWEEN.Easing.Exponential.Out).start(),new TWEEN.Tween(this.display_box.getAttribute("position")).to(this.boundingBox.getCenter(),250).easing(TWEEN.Easing.Exponential.Out).start(),this.cornerContainer.setAttribute("scale","0.000001 0.000001 0.000001"),new TWEEN.Tween(this.cornerContainer.getAttribute("scale")).to(new THREE.Vector3(1,1,1),250).easing(TWEEN.Easing.Exponential.Out).start(),this.setCornerPositions(),this.data.gizmoEl.components.gizmo&&this.data.gizmoEl.components.gizmo.setObject(e,this.boundingBox)},setCornerPositions(){let e=this.boundingBox.min,t=this.boundingBox.max;this.corner_ftl.setAttribute("position",{x:e.x,y:t.y,z:e.z}),this.corner_ftr.setAttribute("position",{x:t.x,y:t.y,z:e.z}),this.corner_fbl.setAttribute("position",{x:e.x,y:e.y,z:e.z}),this.corner_fbr.setAttribute("position",{x:t.x,y:e.y,z:e.z}),this.corner_btl.setAttribute("position",{x:e.x,y:t.y,z:t.z}),this.corner_btr.setAttribute("position",{x:t.x,y:t.y,z:t.z}),this.corner_bbl.setAttribute("position",{x:e.x,y:e.y,z:t.z}),this.corner_bbr.setAttribute("position",{x:t.x,y:e.y,z:t.z})},createCorner(e){let t=document.createElement("a-box"),i=document.createElement("a-box"),n=document.createElement("a-box");t.setAttribute("scale","0.16 0.009 0.009"),i.setAttribute("scale","0.01 0.16 0.01"),n.setAttribute("scale","0.009 0.009 0.16");switch(e){case"FTL":t.setAttribute("position",.075-.055+" 0.055 -0.055"),i.setAttribute("position","-0.055 "+(.055-.075)+" -0.055"),n.setAttribute("position","-0.055 0.055 "+(.075-.055));break;case"FTR":t.setAttribute("position",.055-.075+" 0.055 -0.055"),i.setAttribute("position","0.055 "+(.055-.075)+" -0.055"),n.setAttribute("position","0.055 0.055 "+(.075-.055));break;case"FBL":t.setAttribute("position",.075-.055+" -0.055 -0.055"),i.setAttribute("position","-0.055 "+(.075-.055)+" -0.055"),n.setAttribute("position","-0.055 -0.055 "+(.075-.055));break;case"FBR":t.setAttribute("position",.055-.075+" -0.055 -0.055"),i.setAttribute("position","0.055 "+(.075-.055)+" -0.055"),n.setAttribute("position","0.055 -0.055 "+(.075-.055));break;case"BTL":t.setAttribute("position",.075-.055+" 0.055 0.055"),i.setAttribute("position","-0.055 "+(.055-.075)+" 0.055"),n.setAttribute("position","-0.055 0.055 "+(.055-.075));break;case"BTR":t.setAttribute("position",.055-.075+" 0.055 0.055"),i.setAttribute("position","0.055 "+(.055-.075)+" 0.055"),n.setAttribute("position","0.055 0.055 "+(.055-.075));break;case"BBL":t.setAttribute("position",.075-.055+" -0.055 0.055"),i.setAttribute("position","-0.055 "+(.075-.055)+" 0.055"),n.setAttribute("position","-0.055 -0.055 "+(.055-.075));break;case"BBR":t.setAttribute("position",.055-.075+" -0.055 0.055"),i.setAttribute("position","0.055 "+(.075-.055)+" 0.055"),n.setAttribute("position","0.055 -0.055 "+(.055-.075))}let r=document.createElement("a-entity");return r.appendChild(t),r.appendChild(i),r.appendChild(n),this.cornerContainer.appendChild(r),r}})},,function(e,t,i){"use strict";i.r(t);i(4);var n=i(3),r=i.n(n);class o{constructor(e){this.context=e,this.content_worker=new r.a,this.popup=document.getElementById("popupContent"),this.container=document.getElementById("mainContent"),this.contentContainer=this.container.querySelector(".container"),this.templateContainer=document.getElementById("templateContainer"),this.templateCache={},this.resolveCache={},this.content_worker.onmessage=(e=>this.workerMessage(e))}workerMessage(e){this.resolveCache[e.data.reqId]&&(this.resolveCache[e.data.reqId](e.data.data),delete this.resolveCache[e.data.reqId])}reloadContent(){this.container.updateContent()}reloadPopup(){this.popup.updateContent()}async addTemplateItem(e,t,i){return new Promise(n=>{document.querySelector(e).insertAdjacentHTML("beforeend",t),i?document.querySelector(e).lastChild.addEventListener("loaded",n):n()})}async compileTemplates(e,t){if(this.templateCache[e])return this.templateCache[e].then(e=>{let i=THREE.Math.generateUUID();return this.content_worker.postMessage({type:"compile",elements:t.map(t=>({text:e,data:t})),reqId:i}),new Promise(e=>{this.resolveCache[i]=e})})}async loadScreen(e,t,i){await this.loadTemplates(t).then(()=>fetch("html/views/"+e+".html")).then(e=>e.text()).then(e=>this.container.setContent(e,i))}async loadTemplates(e){return Promise.all((e||[]).map(e=>{let t=Promise.resolve();return this.templateCache[e]||(t=fetch("html/templates/"+e+".html").then(t=>{this.templateCache[e]=t.text()})),t}))}}class a{constructor(e){this.context=e,this.userData={user_id:45,token:"some-secret-token",scenes:[{scene_id:1541,name:"Electric",short_code:"16t"},{scene_id:597,name:"Thirsty",short_code:"gl"}]}}}var s=i(1);class l{constructor(e){this.context=e}open(){this.context.breadCrumbs.make([{name:"My Scenes",callback:()=>this.open(),isTop:!0}]),this.context.content.loadScreen("scene-list-view",["scene-item"],!0).then(()=>this.context.content.compileTemplates("scene-item",[{scenes:this.context.session.userData.scenes}])).then(e=>{for(let t=0;t<e.length;t++)this.context.content.addTemplateItem("#sceneList",e[t])}).then(()=>this.context.content.reloadContent()).then(()=>this.setupLoadButtons())}setupLoadButtons(){let e=document.querySelector("#sceneList").querySelectorAll(".loadScene");for(let t=0;t<e.length;t++){let i=e[t];i.addEventListener("mousedown",e=>{let t;for(let e=0;e<this.context.session.userData.scenes.length;e++){let n=this.context.session.userData.scenes[e];if(n.scene_id===Number(i.dataset.scene)){t=n;break}}t&&(t.view_only="true"===i.dataset.view_only,this.context.sceneGraph.load(t).then(()=>this.context.itemView.open()).then(()=>{if(!t.view_only)return this.context.sceneGraph.open()}))})}}}class u{constructor(e){this.context=e}open(e){e=e||this.context.sceneGraph.currentScene,this.isTop=e===this.context.sceneGraph.currentScene,this.context.breadCrumbs.make(this.context.breadCrumbs.fromObject(e)),this.isTop&&this.context.displayBox.hide(),this.isGroup="Object3D"===e.settings.type,this.is3dModel="Poly"===e.settings.type||"Custom"===e.settings.type,this.context.currentObject=e,this.uiRenderer=document.getElementById("mainRenderer"),this.uiRenderer.components["ui-renderer"].pause(),this.context.content.loadScreen("item-view",["title-section","three-number-inputs","object-stats","mobile-response","single-item-button","double-item-button","side-item-add"],!0).then(()=>this.hideNotNeeded()).then(()=>this.showTransformSettings(e)).then(()=>this.context.viewUtils.title(this.isTop?e.metadata.name:e.settings.name,e.settings.uuid)).then(()=>this.context.viewUtils.stats(e)).then(()=>this.context.content.compileTemplates("single-item-button",[{title:"Save Prefab",description:"Save this scene as a prefab to import it later",buttonText:"SAVE PREFAB",descriptionHeight:.21}])).then(e=>this.context.content.addTemplateItem("#savePrefab",e[0])).then(()=>{document.querySelector("#savePrefab").querySelector(".singleButton").addEventListener("mousedown",()=>{this.context.savePrefabModal.open()})}).then(()=>this.showMaterialAndGeometrySettings()).then(()=>this.context.content.compileTemplates("single-item-button",[{title:"Behaviours",description:"Add/update behaviours on the scene",buttonText:"BEHAVIOURS",descriptionHeight:.21}])).then(e=>this.context.content.addTemplateItem("#behavioursContainer",e[0])).then(()=>{document.querySelector("#behavioursContainer").querySelector(".singleButton").addEventListener("mousedown",()=>{this.context.behavioursModal.open()})}).then(()=>this.setupRemoveObject()).then(()=>this.show3dModelSettings()).then(()=>this.setupClearScene()).then(()=>this.setupMobileResponse(e)).then(()=>this.context.content.compileTemplates("side-item-add",[{title:"Objects",buttonText:"ADD OBJECT",children:this.context.currentObject.children.map(e=>this.context.viewUtils.childObject(e))}])).then(e=>this.context.content.addTemplateItem("#childObjectsContainer",e[0],!0)).then(()=>this.setupChildren()).then(()=>this.setupAddItem()).then(()=>this.uiRenderer.components["ui-renderer"].play()).then(()=>this.context.content.reloadContent())}setupRemoveObject(){if(!this.isTop)return this.context.content.compileTemplates("single-item-button",[{title:"Remove",description:"remove this object from the scene.",buttonText:"REMOVE OBJECT",buttonColor:"#e57373",buttonFontColor:"white",descriptionHeight:.21}]).then(e=>this.context.content.addTemplateItem("#removeObject",e[0]))}showMaterialAndGeometrySettings(){if(this.isTop||this.isGroup||this.is3dModel)return;let e="Primitive"===this.context.currentObject.settings.type,t=this.context.currentObject.settings.material,i=this.context.currentObject.settings.geometry;return this.context.content.compileTemplates("double-item-button",[{title:"Material Settings: "+t.type.substr(4,t.type.length-12),description:"Change settings like color and opacity",buttonText:"CHANGE TYPE",buttonTwoText:"MATERIAL SETTINGS",descriptionHeight:.21}]).then(e=>this.context.content.addTemplateItem("#materialSettings",e[0]+'<a-ui-button class="intersectable doubleButton3" text-value="MAP SETTINGS" width="1.2" height="0.2" ripple-size="1.2 0.2" wrap-count="24" ui-modal="modal:#modalRenderer;main:#mainRenderer" font-color="#009688" color="white" ripple-color="#009688"></a-ui-button>\n             <a-ui-button class="intersectable doubleButton4" text-value="REPEAT & OFFSET" width="1.2" height="0.2" ripple-size="1.2 0.2" wrap-count="24" ui-modal="modal:#modalRenderer;main:#mainRenderer" font-color="#009688" color="white" ripple-color="#009688"></a-ui-button>')).then(()=>{document.querySelector("#materialSettings").querySelector(".doubleButton1").addEventListener("mousedown",()=>{this.context.materialTypeModal.open()}),document.querySelector("#materialSettings").querySelector(".doubleButton2").addEventListener("mousedown",()=>{this.context.materialSettingsModal.open()}),document.querySelector("#materialSettings").querySelector(".doubleButton3").addEventListener("mousedown",()=>{this.context.mapSettingsModal.open()}),document.querySelector("#materialSettings").querySelector(".doubleButton4").addEventListener("mousedown",()=>{this.context.repeatSettingsModal.open()})}).then(()=>this.context.content.compileTemplates("double-item-button",[{title:"Geometry Settings: "+(e?i.type.replace("Geometry","").replace("Buffer","").replace("Inverted",""):"Parametric"),description:"Change the geometry settings for this object",buttonText:"CHANGE TYPE",buttonTwoText:"GEOMETRY SETTINGS",descriptionHeight:.21}])).then(e=>this.context.content.addTemplateItem("#geometrySettings",e[0])).then(()=>{document.querySelector("#geometrySettings").querySelector(".doubleButton1").addEventListener("mousedown",()=>{this.context.geometryTypeModal.open()}),document.querySelector("#geometrySettings").querySelector(".doubleButton2").addEventListener("mousedown",()=>{this.context.geometrySettingsModal.open()})})}setupMobileResponse(e){if(!this.isTop)return this.context.content.compileTemplates("mobile-response",[{hide_on_mobile:e.settings.hide_on_mobile,show_only_on_mobile:e.settings.hide_on_desktop}]).then(e=>this.context.content.addTemplateItem("#mobileSettings",e[0]))}setupClearScene(){if(this.isTop)return this.context.content.compileTemplates("single-item-button",[{title:"Clear Scene",description:"Clear everything out of this scene",buttonText:"CLEAR EVERYTHING",buttonColor:"#e57373",buttonFontColor:"white",descriptionHeight:.21}]).then(e=>this.context.content.addTemplateItem("#clearScene",e[0])).then(()=>{document.querySelector("#clearScene").querySelector(".singleButton").addEventListener("mousedown",()=>{this.context.clearSceneModal.open()})})}showTransformSettings(){if(!this.isTop)return this.context.content.compileTemplates("single-item-button",[{title:"Object Transform",description:"Change position, rotation and scale settings",buttonText:"TRANSFORM SETTINGS",descriptionHeight:.21}]).then(e=>this.context.content.addTemplateItem("#transformSettings",e[0])).then(()=>{document.querySelector("#transformSettings").querySelector(".singleButton").addEventListener("mousedown",()=>{this.context.transformModal.open()})})}show3dModelSettings(){if(this.is3dModel)return this.context.content.compileTemplates("single-item-button",[{title:"Model Settings",description:"Adjust the urls of this model.",buttonText:"MODEL SETTINGS",descriptionHeight:.21}]).then(e=>this.context.content.addTemplateItem("#modelSettings",e[0]))}setupAddItem(){document.querySelector("#childObjectsContainer").querySelector(".loadItem").addEventListener("mousedown",e=>{this.context.objectTypeModal.open()})}setupChildren(){let e=document.querySelector("#childObjectsContainer").querySelectorAll(".openItem");for(let t=0;t<e.length;t++){let i=e[t];i.addEventListener("mousedown",e=>{let t;for(let e=0;e<this.context.currentObject.children.length;e++){let n=this.context.currentObject.children[e];n.settings.uuid===i.dataset.uuid&&(t=n)}t&&(this.context.displayBox.setObject(t.object3D),this.context.itemView.open(t))})}}hideNotNeeded(){if(this.isTop){let e=document.getElementById("transformSettings");e.parentElement.removeChild(e);let t=document.getElementById("geometrySettings");t.parentElement.removeChild(t);let i=document.getElementById("materialSettings");i.parentElement.removeChild(i);let n=document.getElementById("mobileSettings");n.parentElement.removeChild(n);let r=document.getElementById("modelSettings");r.parentElement.removeChild(r);let o=document.getElementById("sceneSettings");o.parentElement.removeChild(o)}else if(this.isGroup){let e=document.getElementById("clearScene");e.parentElement.removeChild(e);let t=document.getElementById("sceneSettings");t.parentElement.removeChild(t);let i=document.getElementById("geometrySettings");i.parentElement.removeChild(i);let n=document.getElementById("materialSettings");n.parentElement.removeChild(n);let r=document.getElementById("modelSettings");r.parentElement.removeChild(r)}else if(this.is3dModel){let e=document.getElementById("clearScene");e.parentElement.removeChild(e);let t=document.getElementById("sceneSettings");t.parentElement.removeChild(t);let i=document.getElementById("geometrySettings");i.parentElement.removeChild(i);let n=document.getElementById("materialSettings");n.parentElement.removeChild(n)}else{let e=document.getElementById("clearScene");e.parentElement.removeChild(e);let t=document.getElementById("sceneSettings");t.parentElement.removeChild(t);let i=document.getElementById("modelSettings");i.parentElement.removeChild(i)}}}i(2),i(50),i(51);class c{constructor(e){this.context=e}open(){}close(){}}var d=i(0);class h{constructor(){this.names={Primitive:"Simple",Parametric:"Fancy",Custom:"3D Model",map:"image"}}show(e){return this.names[e]||e}}class p{constructor(e){this.context=e;let t="images/icons/objects/";this.types=[{name:"Group",friendly_name:"Group",image_url:t+"folder.jpg",extra_class:"close-modal"},{name:"Primitive",friendly_name:"Simple",image_url:t+"geometries/primitive/Box.jpg"},{name:"Parametric",friendly_name:"Fancy",image_url:t+"geometries/parametric/Apple.jpg"},{name:"Prefab",friendly_name:"Prefab",image_url:t+"prefab.jpg"},{name:"Light",friendly_name:"Light",image_url:t+"lights.jpg"},{name:"Poly",friendly_name:"Google Poly",image_url:t+"poly.jpg"},{name:"Sketchfab",friendly_name:"Sketchfab",image_url:t+"sketchfab.jpg"},{name:"Kenney",friendly_name:"Kenney's",image_url:t+"kenny-logo.jpg"},{name:"Avatar",friendly_name:"Avatar Models",image_url:t+"custom.jpg"},{name:"Custom",friendly_name:"Your Model",image_url:t+"custom.jpg"}]}open(){document.getElementById("backButton").setAttribute("scale","0.00001 0.00001 0.00001"),this.uiRenderer=document.getElementById("mainRenderer"),this.uiRenderer.components["ui-renderer"].pause(),this.context.content.loadTemplates(["add-items"]).then(()=>this.context.content.compileTemplates("add-items",[{items:this.types}],!0)).then(e=>{this.context.content.popup.setContent(e[0])}).then(()=>this.uiRenderer.components["ui-renderer"].play()).then(()=>{let e=this.context.content.popup.querySelectorAll(".type-select");for(let t=0;t<e.length;t++){let i=e[t];i.addEventListener("mousedown",()=>{switch(this.context.popupBackStack.push(()=>this.open()),document.getElementById("backButton").setAttribute("scale","1 1 1"),i.dataset.key){case"Primitive":this.context.primitiveTypeModal.open();break;case"Parametric":this.context.parametricTypeModal.open();break;case"Prefab":this.context.prefabOptionModal.open();break;case"Light":this.context.lightTypeModal.open();break;case"Kenney":this.context.kennyCategories.open();break;case"Avatar":this.context.avatarCategories.open();break;case"Group":this.context.sceneGraph.add(this.context.sceneGraph.currentScene,{type:"Object3D"}),this.uiRenderer.modal.close()}})}})}}class f{constructor(e){this.context=e;let t="images/icons/objects/geometries/primitive/";this.types=[{name:"Box",friendly_name:"Box",image_url:t+"Box.jpg"},{name:"Circle",friendly_name:"Circle",image_url:t+"Circle.jpg"},{name:"Cone",friendly_name:"Cone",image_url:t+"Cone.jpg"},{name:"Cylinder",friendly_name:"Cylinder",image_url:t+"Cylinder.jpg"},{name:"Dodecahedron",friendly_name:"Dodecahedron",image_url:t+"Dodecahedron.jpg"},{name:"Icosahedron",friendly_name:"Icosahedron",image_url:t+"Icosahedron.jpg"},{name:"Octahedron",friendly_name:"Octahedron",image_url:t+"Octahedron.jpg"},{name:"Plane",friendly_name:"Plane",image_url:t+"Plane.jpg"},{name:"Ring",friendly_name:"Ring",image_url:t+"Ring.jpg"},{name:"Sphere",friendly_name:"Sphere",image_url:t+"Sphere.jpg"},{name:"Tetrahedron",friendly_name:"Tetrahedron",image_url:t+"Tetrahedron.jpg"},{name:"Torus",friendly_name:"Torus",image_url:t+"Torus.jpg"},{name:"TorusKnot",friendly_name:"TorusKnot",image_url:t+"TorusKnot.jpg"}]}open(){this.context.content.compileTemplates("add-items",[{items:this.types}],!0).then(e=>this.context.content.popup.setContent(e[0])).then(()=>{let e=this.context.content.popup.querySelectorAll(".type-select");for(let t=0;t<e.length;t++){let i=e[t];i.addEventListener("mousedown",()=>{this.context.objectMaterial.open({type:"Primitive",sub_type:i.dataset.key+"Geometry"})})}})}}class m{constructor(e){this.context=e;let t="images/icons/objects/geometries/parametric/";this.types=[{name:"My Parametrics",friendly_name:"My Fancys",image_url:"images/icons/objects/parametric.jpg"},{name:"Parametric Market",friendly_name:"Fancy Market",image_url:"images/icons/objects/market.jpg"},{name:"Create",friendly_name:"Create",image_url:"images/icons/objects/custom.jpg"},{name:"Apple",friendly_name:"Apple",image_url:t+"Apple.jpg"},{name:"AppleInverted",friendly_name:"Apple Inverted",image_url:t+"Apple.jpg"},{name:"Catenoid",friendly_name:"Catenoid",image_url:t+"Catenoid.jpg"},{name:"Fermat",friendly_name:"Fermat",image_url:t+"Fermat.jpg"},{name:"Helicoid",friendly_name:"Helicoid",image_url:t+"Helicoid.jpg"},{name:"Horn",friendly_name:"Horn",image_url:t+"Horn.jpg"},{name:"HornInverted",friendly_name:"Horn Inverted",image_url:t+"Horn.jpg"},{name:"Klein",friendly_name:"Klein",image_url:t+"Klein.jpg"},{name:"KleinInverted",friendly_name:"Klein Inverted",image_url:t+"Klein.jpg"},{name:"Mobius",friendly_name:"Mobius",image_url:t+"Mobius.jpg"},{name:"Mobius3D",friendly_name:"Mobius3D",image_url:t+"Mobius3D.jpg"},{name:"Mobius3DInverted",friendly_name:"Mobius3D Inverted",image_url:t+"Mobius3D.jpg"},{name:"Pillow",friendly_name:"Pillow",image_url:t+"Pillow.jpg"},{name:"PillowInverted",friendly_name:"Pillow Inverted",image_url:t+"Pillow.jpg"},{name:"NaticaStellata",friendly_name:"Natica",image_url:t+"NaticaStellata.jpg"},{name:"NaticaStellataInverted",friendly_name:"Natica Inverted",image_url:t+"NaticaStellata.jpg"},{name:"Scherk",friendly_name:"Scherk",image_url:t+"Scherk.jpg"},{name:"Snail",friendly_name:"Snail",image_url:t+"Snail.jpg"},{name:"SnailInverted",friendly_name:"Snail Inverted",image_url:t+"Snail.jpg"},{name:"Spiral",friendly_name:"Spiral",image_url:t+"Spiral.jpg"},{name:"SpiralInverted",friendly_name:"Spiral Inverted",image_url:t+"Spiral.jpg"},{name:"Spring",friendly_name:"Spring",image_url:t+"Spring.jpg"},{name:"SpringInverted",friendly_name:"Spring Inverted",image_url:t+"Spring.jpg"}]}open(){this.context.content.compileTemplates("add-items",[{items:this.types}],!0).then(e=>this.context.content.popup.setContent(e[0])).then(()=>{let e=this.context.content.popup.querySelectorAll(".type-select");for(let t=0;t<e.length;t++){let i=e[t];i.addEventListener("mousedown",()=>{this.context.objectMaterial.open({type:"Parametric",sub_type:i.dataset.key,geo_settings:{sub_type:i.dataset.key+"Geometry"}})})}})}}class _{constructor(e){this.context=e,this.types=[{name:"Spot",friendly_name:"Spot",image_url:"images/icons/objects/lights.jpg"},{name:"Ambient",friendly_name:"Ambient",image_url:"images/icons/objects/lights.jpg"},{name:"Directional",friendly_name:"Directional",image_url:"images/icons/objects/lights.jpg"}]}open(){this.context.content.compileTemplates("add-items",[{items:this.types}],!0).then(e=>this.context.content.popup.setContent(e[0]))}}class g{constructor(e){this.context=e,this.types=[{name:"My Prefabs",friendly_name:"My Prefabs",image_url:"images/icons/objects/prefab.jpg"},{name:"Prefab Market",friendly_name:"Prefab Market",image_url:"images/icons/objects/market.jpg"}]}open(){this.context.content.compileTemplates("add-items",[{items:this.types}],!0).then(e=>this.context.content.popup.setContent(e[0]))}}class b{constructor(e){this.context=e,this.types=[{name:"3d-nature-pack",friendly_name:"3D Nature",image_url:"images/kenney/3d-nature-pack/Sample.png"},{name:"3d-road-pack",friendly_name:"3D Roads",image_url:"images/kenney/3d-road-pack/Sample.png"},{name:"castle-kit-1.0",friendly_name:"Castle Kit",image_url:"images/kenney/castle-kit-1.0/Sample.png"},{name:"kenney_furniturepack",friendly_name:"Furniture",image_url:"images/kenney/kenney_furniturepack/Sample.png"},{name:"kenney_holidaypack",friendly_name:"Holiday",image_url:"images/kenney/kenney_holidaypack/Sample.png"},{name:"medieval-town-base",friendly_name:"Medieval",image_url:"images/kenney/medieval-town-base/Sample.png"},{name:"modular-buildings-100-assets",friendly_name:"Buildings",image_url:"images/kenney/modular-buildings-100-assets/Sample.png"},{name:"naturepack_extended",friendly_name:"Nature",image_url:"images/kenney/naturepack_extended/Sample.png"},{name:"racing-kit-1.2",friendly_name:"Racing",image_url:"images/kenney/racing-kit-1.2/Sample.png"},{name:"space-kit-1.0",friendly_name:"Space",image_url:"images/kenney/space-kit-1.0/Sample.png"},{name:"watercraftpack_kenney",friendly_name:"Water Craft",image_url:"images/kenney/watercraftpack_kenney/Sample.png"},{name:"weaponpack_assets",friendly_name:"Weapons",image_url:"images/kenney/weaponpack_assets/Sample.png"}]}open(){this.context.content.compileTemplates("add-items",[{top_image_url:"images/kenney/kenny_banner.png",items:this.types}],!0).then(e=>this.context.content.popup.setContent(e[0])).then(()=>{let e=this.context.content.popup.querySelectorAll(".type-select");for(let t=0;t<e.length;t++){let i=e[t];i.addEventListener("mousedown",()=>{this.context.popupBackStack.push(()=>this.open()),document.getElementById("backButton").setAttribute("scale","1 1 1"),this.context.kennyModelsModal.open(i.dataset.key)})}})}}class v{constructor(e){this.context=e,this.types={"3d-nature-pack":["Brown_Cliff_01.obj","Brown_Cliff_Bottom_01.obj","Brown_Cliff_Bottom_Corner_01.obj","Brown_Cliff_Bottom_Corner_Green_Top_01.obj","Brown_Cliff_Bottom_Green_Top_01.obj","Brown_Cliff_Corner_01.obj","Brown_Cliff_Corner_Green_Top_01.obj","Brown_Cliff_End_01.obj","Brown_Cliff_End_Green_Top_01.obj","Brown_Cliff_Green_Top_01.obj","Brown_Cliff_Top_01.obj","Brown_Cliff_Top_Corner_01.obj","Brown_Waterfall_01.obj","Brown_Waterfall_Top_01.obj","Campfire_01.obj","Fallen_Trunk_01.obj","Flower_Red_01.obj","Flower_Tall_Red_01.obj","Flower_Tall_Yellow_01.obj","Flower_Tall_Yellow_02.obj","Flower_Yellow_01.obj","Flower_Yellow_02.obj","Grass_01.obj","Grey_Cliff_01.obj","Grey_Cliff_Bottom_01.obj","Grey_Cliff_Bottom_Corner_01.obj","Grey_Cliff_Bottom_Corner_Green_Top_01.obj","Grey_Cliff_Bottom_Green_Top_01.obj","Grey_Cliff_Corner_01.obj","Grey_Cliff_Corner_Green_Top_01.obj","Grey_Cliff_End_01.obj","Grey_Cliff_End_Green_Top_01.obj","Grey_Cliff_Green_Top_01.obj","Grey_Cliff_Top_01.obj","Grey_Cliff_Top_Corner_01.obj","Grey_Waterfall_01.obj","Grey_Waterfall_Top_01.obj","Large_Oak_Dark_01.obj","Large_Oak_Fall_01.obj","Large_Oak_Green_01.obj","Mushroom_Brown_01.obj","Mushroom_Red_01.obj","Mushroom_Tall_01.obj","Oak_Dark_01.obj","Oak_Fall_01.obj","Oak_Green_01.obj","Plant_1_01.obj","Plant_2_01.obj","Plant_3_01.obj","Plate_Grass_01.obj","Plate_Grass_Dirt_01.obj","Plate_River_01.obj","Plate_River_Corner_01.obj","Plate_River_Corner_Dirt_01.obj","Plate_River_Dirt_01.obj","Rock_1_01.obj","Rock_2_01.obj","Rock_3_01.obj","Rock_4_01.obj","Rock_5_01.obj","Rock_6_01.obj","Tall_Rock_1_01.obj","Tall_Rock_2_01.obj","Tall_Rock_3_01.obj","Tent_01.obj","Tent_Poles_01.obj","Tree_01.obj","Tree_02.obj","Trunk_01.obj","Trunk_02.obj","Trunk_Alt_01.obj","Trunk_Alt_02.obj","Water_lily_01.obj","Wood_Fence_01.obj","Wood_Fence_Broken_01.obj","Wood_Fence_Gate_01.obj"],"3d-road-pack":["roadTile_001.obj","roadTile_002.obj","roadTile_003.obj","roadTile_005.obj","roadTile_006.obj","roadTile_007.obj","roadTile_008.obj","roadTile_009.obj","roadTile_010.obj","roadTile_011.obj","roadTile_012.obj","roadTile_013.obj","roadTile_014.obj","roadTile_015.obj","roadTile_016.obj","roadTile_017.obj","roadTile_018.obj","roadTile_019.obj","roadTile_020.obj","roadTile_021.obj","roadTile_022.obj","roadTile_023.obj","roadTile_024.obj","roadTile_025.obj","roadTile_026.obj","roadTile_027.obj","roadTile_028.obj","roadTile_029.obj","roadTile_030.obj","roadTile_031.obj","roadTile_032.obj","roadTile_033.obj","roadTile_034.obj","roadTile_035.obj","roadTile_036.obj","roadTile_037.obj","roadTile_038.obj","roadTile_039.obj","roadTile_040.obj","roadTile_041.obj","roadTile_042.obj","roadTile_043.obj","roadTile_044.obj","roadTile_045.obj","roadTile_046.obj","roadTile_047.obj","roadTile_048.obj","roadTile_049.obj","roadTile_050.obj","roadTile_051.obj","roadTile_052.obj","roadTile_053.obj","roadTile_054.obj","roadTile_055.obj","roadTile_056.obj","roadTile_057.obj","roadTile_058.obj","roadTile_059.obj","roadTile_060.obj","roadTile_061.obj","roadTile_062.obj","roadTile_063.obj","roadTile_064.obj","roadTile_065.obj","roadTile_066.obj","roadTile_067.obj","roadTile_068.obj","roadTile_069.obj","roadTile_070.obj","roadTile_071.obj","roadTile_072.obj","roadTile_073.obj","roadTile_074.obj","roadTile_075.obj","roadTile_076.obj","roadTile_077.obj","roadTile_078.obj","roadTile_079.obj","roadTile_080.obj","roadTile_081.obj","roadTile_082.obj","roadTile_083.obj","roadTile_084.obj","roadTile_085.obj","roadTile_086.obj","roadTile_087.obj","roadTile_088.obj","roadTile_089.obj","roadTile_090.obj","roadTile_091.obj","roadTile_092.obj","roadTile_093.obj","roadTile_094.obj","roadTile_095.obj","roadTile_096.obj","roadTile_097.obj","roadTile_098.obj","roadTile_099.obj","roadTile_100.obj","roadTile_101.obj","roadTile_102.obj","roadTile_103.obj","roadTile_104.obj","roadTile_105.obj","roadTile_106.obj","roadTile_107.obj","roadTile_108.obj","roadTile_109.obj","roadTile_110.obj","roadTile_111.obj","roadTile_112.obj","roadTile_113.obj","roadTile_114.obj","roadTile_115.obj","roadTile_116.obj","roadTile_117.obj","roadTile_118.obj","roadTile_119.obj","roadTile_120.obj","roadTile_121.obj","roadTile_122.obj","roadTile_123.obj","roadTile_124.obj","roadTile_125.obj","roadTile_126.obj","roadTile_127.obj","roadTile_128.obj","roadTile_129.obj","roadTile_130.obj","roadTile_131.obj","roadTile_132.obj","roadTile_133.obj","roadTile_134.obj","roadTile_135.obj","roadTile_136.obj","roadTile_137.obj","roadTile_138.obj","roadTile_139.obj","roadTile_140.obj","roadTile_141.obj","roadTile_142.obj","roadTile_143.obj","roadTile_144.obj","roadTile_145.obj","roadTile_146.obj","roadTile_147.obj","roadTile_148.obj","roadTile_149.obj","roadTile_150.obj","roadTile_151.obj","roadTile_152.obj","roadTile_153.obj","roadTile_154.obj","roadTile_155.obj","roadTile_156.obj","roadTile_157.obj","roadTile_158.obj","roadTile_159.obj","roadTile_160.obj","roadTile_161.obj","roadTile_162.obj","roadTile_163.obj","roadTile_164.obj","roadTile_165.obj","roadTile_166.obj","roadTile_167.obj","roadTile_168.obj","roadTile_169.obj","roadTile_170.obj","roadTile_171.obj","roadTile_172.obj","roadTile_173.obj","roadTile_174.obj","roadTile_175.obj","roadTile_176.obj","roadTile_177.obj","roadTile_178.obj","roadTile_179.obj","roadTile_180.obj","roadTile_181.obj","roadTile_182.obj","roadTile_183.obj","roadTile_184.obj","roadTile_185.obj","roadTile_186.obj","roadTile_187.obj","roadTile_188.obj","roadTile_189.obj","roadTile_190.obj","roadTile_191.obj","roadTile_192.obj","roadTile_193.obj","roadTile_194.obj","roadTile_195.obj","roadTile_196.obj","roadTile_197.obj","roadTile_198.obj","roadTile_199.obj","roadTile_200.obj","roadTile_201.obj","roadTile_202.obj","roadTile_203.obj","roadTile_204.obj","roadTile_205.obj","roadTile_206.obj","roadTile_207.obj","roadTile_208.obj","roadTile_209.obj","roadTile_210.obj","roadTile_211.obj","roadTile_212.obj","roadTile_213.obj","roadTile_214.obj","roadTile_215.obj","roadTile_216.obj","roadTile_217.obj","roadTile_218.obj","roadTile_219.obj","roadTile_220.obj","roadTile_221.obj","roadTile_222.obj","roadTile_223.obj","roadTile_224.obj","roadTile_225.obj","roadTile_226.obj","roadTile_227.obj","roadTile_228.obj","roadTile_229.obj","roadTile_230.obj","roadTile_231.obj","roadTile_232.obj","roadTile_233.obj","roadTile_234.obj","roadTile_235.obj","roadTile_236.obj","roadTile_237.obj","roadTile_238.obj","roadTile_239.obj","roadTile_240.obj","roadTile_241.obj","roadTile_242.obj","roadTile_243.obj","roadTile_244.obj","roadTile_245.obj","roadTile_246.obj","roadTile_247.obj","roadTile_248.obj","roadTile_249.obj","roadTile_250.obj","roadTile_251.obj","roadTile_252.obj","roadTile_253.obj","roadTile_254.obj","roadTile_255.obj","roadTile_256.obj","roadTile_257.obj","roadTile_258.obj","roadTile_259.obj","roadTile_260.obj","roadTile_261.obj","roadTile_262.obj","roadTile_263.obj","roadTile_264.obj","roadTile_265.obj","roadTile_266.obj","roadTile_267.obj","roadTile_268.obj","roadTile_269.obj","roadTile_270.obj","roadTile_271.obj","roadTile_272.obj","roadTile_273.obj","roadTile_274.obj","roadTile_275.obj","roadTile_276.obj","roadTile_277.obj","roadTile_278.obj","roadTile_279.obj","roadTile_280.obj","roadTile_281.obj","roadTile_282.obj","roadTile_283.obj","roadTile_284.obj","roadTile_285.obj","roadTile_286.obj","roadTile_287.obj","roadTile_288.obj","roadTile_289.obj","roadTile_290.obj","roadTile_291.obj","roadTile_292.obj","roadTile_293.obj","roadTile_294.obj","roadTile_295.obj","roadTile_296.obj","roadTile_297.obj","roadTile_298.obj","roadTile_299.obj","roadTile_300.obj","roadTile_301.obj","roadTile_302.obj"],"castle-kit-1.0":["bridge.obj","door.obj","flagBannerLong.obj","flagBannerShort.obj","flagBlue.obj","flagBlueWide.obj","flagWhite.obj","flagWhiteWide.obj","gate.obj","king.obj","knightBlue.obj","knightRed.obj","metalGate.obj","shieldBlue.obj","shieldRed.obj","siegeBallista.obj","siegeCatapult.obj","siegeRam.obj","siegeTower.obj","siegeTrebuchet.obj","stairsStone.obj","stairsStoneSlant.obj","sword.obj","towerBalcony.obj","towerBase.obj","towerSquare.obj","towerSquareArch.obj","towerSquareBase.obj","towerSquareBaseBorder.obj","towerSquareBaseColor.obj","towerSquareMid.obj","towerSquareMidColor.obj","towerSquareMidOpen.obj","towerSquareMidOpenHalf.obj","towerSquareMidWindows.obj","towerSquarePoles.obj","towerSquareRoof.obj","towerSquareTop.obj","towerSquareTopColor.obj","towerSquareTopRoof.obj","towerSquareTopRoofHigh.obj","towerTop.obj","towerTopCorner.obj","towerTopRoof.obj","wall.obj","wallCorner.obj","wallCornerHalf.obj","wallCornerHalfTower.obj","wallDoor.obj","wallHalf.obj","wallNarrow.obj","wallNarrowCorner.obj","wallNarrowGate.obj","wallNarrowStairs.obj","wallNarrowStairsFence.obj","wallNarrowWood.obj","wallNarrowWoodFence.obj","wallPillar.obj","wallStud.obj","wallToNarrow.obj"],kenney_furniturepack:["bathroomCabinet.obj","bathroomMirror.obj","bathroomSink.obj","bathtub.obj","bear.obj","bedBunk.obj","bedDouble.obj","bedSingle.obj","bench.obj","benchCushion.obj","benchCushionLow.obj","bookcaseClosed.obj","bookcaseClosedDoors.obj","bookcaseClosedWide.obj","bookcaseOpen.obj","bookcaseOpenLow.obj","books.obj","cabinetBed.obj","cabinetBedDrawer.obj","cabinetBedDrawerTable.obj","cabinetTelevision.obj","cabinetTelevisionDoors.obj","cardboardBoxClosed.obj","cardboardBoxOpen.obj","ceilingFan.obj","chair.obj","chairCushion.obj","chairDesk.obj","chairRounded.obj","coatRack.obj","coatRackStanding.obj","computerKeyboard.obj","computerMouse.obj","computerScreen.obj","desk.obj","deskCorner.obj","doorway.obj","doorwayFront.obj","doorwayOpen.obj","dryer.obj","floorCorner.obj","floorCornerRound.obj","floorFull.obj","floorHalf.obj","kitchenBar.obj","kitchenBarEnd.obj","kitchenBlender.obj","kitchenCabinet.obj","kitchenCabinetCornerInner.obj","kitchenCabinetCornerRound.obj","kitchenCabinetDrawer 1.obj","kitchenCabinetDrawer.obj","kitchenCabinetUpper.obj","kitchenCabinetUpperCorner.obj","kitchenCabinetUpperDouble.obj","kitchenCabinetUpperLow.obj","kitchenCoffeeMachine.obj","kitchenFridge.obj","kitchenFridgeBuiltIn.obj","kitchenFridgeSmall.obj","kitchenMicrowave.obj","kitchenSink.obj","kitchenStove.obj","kitchenStoveElectric.obj","lampRoundFloor.obj","lampRoundTable.obj","lampSquareCeiling.obj","lampSquareFloor.obj","lampSquareTable.obj","laptop.obj","loungeChair.obj","loungeChairRelax.obj","loungeSofa.obj","loungeSofaCorner.obj","loungeSofaLong.obj","loungeSofaOttoman.obj","paneling.obj","pillow.obj","pillowLong.obj","plantSmall1.obj","plantSmall2.obj","plantSmall3.obj","pottedPlant.obj","radio.obj","rugRectangle.obj","rugRound.obj","rugRounded.obj","rugSquare.obj","shower.obj","sideTable.obj","sideTableDrawers.obj","speaker.obj","speakerSmall.obj","stoolBar.obj","stoolBarSquare.obj","table.obj","tableCloth.obj","tableCoffee.obj","tableCoffeeGlass.obj","tableCoffeeGlassSquare.obj","tableCoffeeSquare.obj","tableCross.obj","tableCrossCloth.obj","tableGlass.obj","tableRound.obj","televisionAntenna.obj","televisionModern.obj","televisionVintage.obj","toilet.obj","trashcan.obj","wall.obj","wallCorner.obj","wallCornerRond.obj","wallDoorway.obj","wallDoorwayWide.obj","wallHalf.obj","wallWindow.obj","wallWindowSlide.obj","washer.obj","washerDryerStacked.obj"],kenney_holidaypack:["cabinCorner.obj","cabinDoor.obj","cabinFloor.obj","cabinRoof.obj","cabinRoofChimney.obj","cabinSide.obj","cabinWall.obj","cabinWindow.obj","candyCane.obj","candyCaneMint.obj","festivusPole.obj","lightsGreen.obj","lightsMulti.obj","lightsRed.obj","present.obj","presentLow.obj","presentRound.obj","rockFormationLarge.obj","rockFormationMedium.obj","rockFormationSmall.obj","sled.obj","snowFort.obj","snowPatch.obj","snowman.obj","snowmanFancy.obj","trackCorner.obj","trackCornerLarge.obj","trackStraight.obj","trainLocomotive.obj","trainTender.obj","trainWagon.obj","trainWagonFlat.obj","treeDecorated.obj","treePine.obj","treePineSnow.obj","treePineSnowRound.obj","treePineSnowed.obj","wreath.obj"],"medieval-town-base":["Banner_01.obj","Castle_Wall_01.obj","Grey_Arch_01.obj","Grey_Border_Wall_01.obj","Grey_Broken_Wall_01.obj","Grey_Corner_01.obj","Grey_Door_Round_01.obj","Grey_Door_Square_01.obj","Grey_Pole_01.obj","Grey_Short_Wall_01.obj","Grey_Slanted_Pole_01.obj","Grey_Slanted_Wall_01.obj","Grey_Small_Wall_01.obj","Grey_Triangle_01.obj","Grey_Wall_01.obj","Grey_Window_Narrow_01.obj","Grey_Window_Round_01.obj","Grey_Window_Round_Long_01.obj","Grey_Window_Round_Sill_01.obj","Grey_Window_Square_01.obj","Grey_Window_Square_Sill_01.obj","Iron_Door_01.obj","Lightpost_01.obj","Plate_Corner_01.obj","Plate_Curve_01.obj","Plate_Pavement_01.obj","Plate_Road_01.obj","Plate_Sidewalk_01.obj","Plate_Wood_01.obj","Roof_Corner_Green_01.obj","Roof_Corner_Red_01.obj","Roof_Inner_Corner_Green_01.obj","Roof_Inner_Corner_Red_01.obj","Roof_Point_Green_01.obj","Roof_Point_Red_01.obj","Roof_Slant_Green_01.obj","Roof_Slant_Red_01.obj","Roof_Straight_Green_01.obj","Roof_Straight_Red_01.obj","Shield_Green_01.obj","Shield_Red_01.obj","Stairs_Stone_01.obj","Stairs_Wood_01.obj","Tree_01.obj","Wood_Arch_01.obj","Wood_Border_Wall_01.obj","Wood_Broken_Wall_01.obj","Wood_Corner_01.obj","Wood_Door_01.obj","Wood_Door_Round_01.obj","Wood_Door_Square_01.obj","Wood_Pole_01.obj","Wood_Railing_01.obj","Wood_Slanted_Pole_01.obj","Wood_Slanted_Wall_01.obj","Wood_Small_Wall_01.obj","Wood_Tiny_Wall_01.obj","Wood_Triangle_01.obj","Wood_Wall_01.obj","Wood_Wall_Cross_01.obj","Wood_Wall_Double_Cross_01.obj","Wood_Window_Narrow_01.obj","Wood_Window_Round_01.obj","Wood_Window_Round_Long_01.obj","Wood_Window_Round_Sill_01.obj","Wood_Window_Square_01.obj","Wood_Window_Square_Sill_01.obj"],"modular-buildings-100-assets":["modularBuildings_001.obj","modularBuildings_002.obj","modularBuildings_003.obj","modularBuildings_004.obj","modularBuildings_005.obj","modularBuildings_006.obj","modularBuildings_007.obj","modularBuildings_008.obj","modularBuildings_009.obj","modularBuildings_010.obj","modularBuildings_011.obj","modularBuildings_012.obj","modularBuildings_013.obj","modularBuildings_014.obj","modularBuildings_015.obj","modularBuildings_016.obj","modularBuildings_017.obj","modularBuildings_018.obj","modularBuildings_019.obj","modularBuildings_020.obj","modularBuildings_021.obj","modularBuildings_022.obj","modularBuildings_023.obj","modularBuildings_024.obj","modularBuildings_025.obj","modularBuildings_026.obj","modularBuildings_027.obj","modularBuildings_028.obj","modularBuildings_029.obj","modularBuildings_030.obj","modularBuildings_031.obj","modularBuildings_032.obj","modularBuildings_033.obj","modularBuildings_034.obj","modularBuildings_035.obj","modularBuildings_036.obj","modularBuildings_037.obj","modularBuildings_038.obj","modularBuildings_039.obj","modularBuildings_040.obj","modularBuildings_041.obj","modularBuildings_042.obj","modularBuildings_043.obj","modularBuildings_044.obj","modularBuildings_045.obj","modularBuildings_046.obj","modularBuildings_047.obj","modularBuildings_048.obj","modularBuildings_049.obj","modularBuildings_050.obj","modularBuildings_051.obj","modularBuildings_052.obj","modularBuildings_053.obj","modularBuildings_054.obj","modularBuildings_055.obj","modularBuildings_056.obj","modularBuildings_057.obj","modularBuildings_058.obj","modularBuildings_059.obj","modularBuildings_060.obj","modularBuildings_061.obj","modularBuildings_062.obj","modularBuildings_063.obj","modularBuildings_064.obj","modularBuildings_065.obj","modularBuildings_066.obj","modularBuildings_067.obj","modularBuildings_068.obj","modularBuildings_069.obj","modularBuildings_070.obj","modularBuildings_071.obj","modularBuildings_072.obj","modularBuildings_073.obj","modularBuildings_074.obj","modularBuildings_075.obj","modularBuildings_076.obj","modularBuildings_077.obj","modularBuildings_078.obj","modularBuildings_079.obj","modularBuildings_080.obj","modularBuildings_081.obj","modularBuildings_082.obj","modularBuildings_083.obj","modularBuildings_084.obj","modularBuildings_085.obj","modularBuildings_086.obj","modularBuildings_087.obj","modularBuildings_088.obj","modularBuildings_089.obj","modularBuildings_090.obj","modularBuildings_091.obj","modularBuildings_092.obj","modularBuildings_093.obj","modularBuildings_094.obj","modularBuildings_095.obj","modularBuildings_096.obj","modularBuildings_097.obj","modularBuildings_098.obj","modularBuildings_099.obj","modularBuildings_100.obj","modularBuildings_101.obj","roadTile_004.obj"],naturepack_extended:["naturePack_001.obj","naturePack_002.obj","naturePack_003.obj","naturePack_004.obj","naturePack_005.obj","naturePack_006.obj","naturePack_007.obj","naturePack_008.obj","naturePack_009.obj","naturePack_010.obj","naturePack_011.obj","naturePack_012.obj","naturePack_013.obj","naturePack_014.obj","naturePack_015.obj","naturePack_016.obj","naturePack_017.obj","naturePack_018.obj","naturePack_019.obj","naturePack_020.obj","naturePack_021.obj","naturePack_022.obj","naturePack_023.obj","naturePack_024.obj","naturePack_025.obj","naturePack_026.obj","naturePack_027.obj","naturePack_028.obj","naturePack_029.obj","naturePack_030.obj","naturePack_031.obj","naturePack_032.obj","naturePack_033.obj","naturePack_034.obj","naturePack_035.obj","naturePack_036.obj","naturePack_037.obj","naturePack_038.obj","naturePack_039.obj","naturePack_040.obj","naturePack_041.obj","naturePack_042.obj","naturePack_043.obj","naturePack_044.obj","naturePack_045.obj","naturePack_046.obj","naturePack_047.obj","naturePack_048.obj","naturePack_049.obj","naturePack_050.obj","naturePack_051.obj","naturePack_052.obj","naturePack_053.obj","naturePack_054.obj","naturePack_055.obj","naturePack_056.obj","naturePack_057.obj","naturePack_058.obj","naturePack_059.obj","naturePack_060.obj","naturePack_061.obj","naturePack_062.obj","naturePack_063.obj","naturePack_064.obj","naturePack_065.obj","naturePack_066.obj","naturePack_067.obj","naturePack_068.obj","naturePack_069.obj","naturePack_070.obj","naturePack_071.obj","naturePack_072.obj","naturePack_073.obj","naturePack_074.obj","naturePack_075.obj","naturePack_076.obj","naturePack_077.obj","naturePack_078.obj","naturePack_079.obj","naturePack_080.obj","naturePack_081.obj","naturePack_082.obj","naturePack_083.obj","naturePack_084.obj","naturePack_085.obj","naturePack_086.obj","naturePack_087.obj","naturePack_088.obj","naturePack_089.obj","naturePack_090.obj","naturePack_091.obj","naturePack_092.obj","naturePack_093.obj","naturePack_094.obj","naturePack_095.obj","naturePack_096.obj","naturePack_097.obj","naturePack_098.obj","naturePack_099.obj","naturePack_100.obj","naturePack_101.obj","naturePack_102.obj","naturePack_103.obj","naturePack_104.obj","naturePack_105.obj","naturePack_106.obj","naturePack_107.obj","naturePack_108.obj","naturePack_109.obj","naturePack_110.obj","naturePack_111.obj","naturePack_112.obj","naturePack_113.obj","naturePack_114.obj","naturePack_115.obj","naturePack_116.obj","naturePack_117.obj","naturePack_118.obj","naturePack_119.obj","naturePack_120.obj","naturePack_121.obj","naturePack_122.obj","naturePack_123.obj","naturePack_124.obj","naturePack_125.obj","naturePack_126.obj","naturePack_127.obj","naturePack_128.obj","naturePack_129.obj","naturePack_130.obj","naturePack_131.obj","naturePack_132.obj","naturePack_133.obj","naturePack_134.obj","naturePack_135.obj","naturePack_136.obj","naturePack_137.obj","naturePack_138.obj","naturePack_139.obj","naturePack_140.obj","naturePack_141.obj","naturePack_142.obj","naturePack_143.obj","naturePack_144.obj","naturePack_145.obj","naturePack_146.obj","naturePack_147.obj","naturePack_148.obj","naturePack_149.obj","naturePack_150.obj","naturePack_151.obj","naturePack_152.obj","naturePack_153.obj","naturePack_154.obj","naturePack_155.obj","naturePack_156.obj","naturePack_157.obj","naturePack_158.obj","naturePack_159.obj","naturePack_160.obj","naturePack_161.obj","naturePack_162.obj","naturePack_163.obj","naturePack_164.obj","naturePack_165.obj","naturePack_166.obj","naturePack_167.obj","naturePack_168.obj","naturePack_169.obj","naturePack_170.obj","naturePack_171.obj","naturePack_172.obj","naturePack_173.obj","naturePack_174.obj","naturePack_175.obj","naturePack_flat_001.obj","naturePack_flat_002.obj","naturePack_flat_003.obj","naturePack_flat_004.obj","naturePack_flat_005.obj","naturePack_flat_006.obj","naturePack_flat_007.obj","naturePack_flat_008.obj","naturePack_flat_009.obj","naturePack_flat_010.obj","naturePack_flat_011.obj","naturePack_flat_012.obj","naturePack_flat_013.obj"],"racing-kit-1.2":["barrierRed.obj","barrierWall.obj","barrierWhite.obj","billboard.obj","billboardLow.obj","billboardLower.obj","fenceCurved.obj","fenceStraight.obj","flagCheckers.obj","flagCheckersSmall.obj","flagGreen.obj","flagRed.obj","flagTankco.obj","grandStand.obj","grandStandCovered.obj","grass.obj","lightColored.obj","lightRed.obj","lightRedDouble.obj","overhead.obj","overheadLights.obj","overheadRound.obj","overheadRoundColored.obj","pitsGarage.obj","pitsGarageCorner.obj","pitsOffice.obj","pitsOfficeCorner.obj","pylon.obj","radarEquipment.obj","rail.obj","ramp.obj","roadBump.obj","roadCornerLarge.obj","roadCornerLargeBorder.obj","roadCornerLargeBorderInner.obj","roadCornerLarger.obj","roadCornerLargerBorder.obj","roadCornerLargerBorderInner.obj","roadCornerSmall.obj","roadCornerSmallBorder.obj","roadCornerSmallSquare.obj","roadCurved.obj","roadEnd.obj","roadHalfCircle.obj","roadHalfCircleBorder.obj","roadPitEntry.obj","roadPitGarage.obj","roadPitStraight.obj","roadPitStraightLong.obj","roadRamp.obj","roadRampLong.obj","roadRampLongCurved.obj","roadRampLongCurvedWall.obj","roadRampLongWall.obj","roadRampWall.obj","roadSplit.obj","roadStart.obj","roadStartPositions.obj","roadStraight.obj","roadStraightArrow.obj","roadStraightBridge.obj","roadStraightBridgeMid.obj","roadStraightBridgeStart.obj","roadStraightLong.obj","roadStraightSkew.obj","tent.obj","tentClosed.obj","tentClosedLong.obj","tentLong.obj","treeLarge.obj","treeSmall.obj"],"space-kit-1.0":["alien.obj","alienBones.obj","astronaut.obj","barrel.obj","barrelLarge.obj","buildingCorner.obj","buildingCorridor.obj","buildingCorridorOpen.obj","buildingCorridorOpenEnd.obj","buildingOpen.obj","console.obj","consoleCorner.obj","consoleScreen.obj","crater.obj","craterLarge.obj","frameHigh.obj","frameHighTile.obj","frameLow.obj","frameLowTile.obj","groundTile.obj","groundTileRough.obj","itemWeapon.obj","laserSabel.obj","laserSabelOff.obj","metalFence.obj","metalFenceCorner.obj","metalFenceDouble.obj","metalStructure.obj","metalStructureBottom.obj","metalStructureCross.obj","metalTile.obj","metalTileConnectCenter.obj","metalTileConnectCorner.obj","metalTileConnectCornerInner.obj","metalTileConnectEnd.obj","metalTileConnectSide.obj","metalTileConnectStraight.obj","metalTileCorner.obj","metalTileDouble.obj","metalTileLarge.obj","metalTileSmall.obj","meteorFull.obj","meteorFullRound.obj","meteorHalf.obj","pipeCorner.obj","pipeCornerDiagonal.obj","pipeOpening.obj","pipeRamp.obj","pipeSplit.obj","pipeStand.obj","pipeStandStraightLiner.obj","pipeStandStraightLinerEnd.obj","pipeStraight.obj","pipeStraightLiner.obj","portal.obj","robot.obj","rocks.obj","rocksOre.obj","rocksSmall.obj","rocksSmallOre.obj","rocksTall.obj","rocksTallOre.obj","satelliteDish.obj","satelliteDishAntenna.obj","satelliteDishLarge.obj","spaceCraft1.obj","spaceCraft2.obj","spaceCraft3.obj","spaceCraft4.obj","spaceCraft5.obj","spaceCraft6.obj","spaceCraftStand.obj","stairs.obj","stairsLong.obj","station.obj","stationLarge.obj"],watercraftpack_kenney:["watercraftPack_001.obj","watercraftPack_002.obj","watercraftPack_003.obj","watercraftPack_004.obj","watercraftPack_005.obj","watercraftPack_006.obj","watercraftPack_007.obj","watercraftPack_008.obj","watercraftPack_009.obj","watercraftPack_010.obj","watercraftPack_011.obj","watercraftPack_012.obj","watercraftPack_013.obj","watercraftPack_014.obj","watercraftPack_015.obj","watercraftPack_016.obj","watercraftPack_017.obj","watercraftPack_018.obj","watercraftPack_019.obj","watercraftPack_020.obj","watercraftPack_021.obj","watercraftPack_022.obj","watercraftPack_023.obj","watercraftPack_024.obj","watercraftPack_025.obj","watercraftPack_026.obj","watercraftPack_027.obj","watercraftPack_028.obj","watercraftPack_029.obj"],weaponpack_assets:["ammo_machinegun.obj","ammo_machinegunLauncher.obj","ammo_pistol.obj","ammo_rocket.obj","ammo_rocketModern.obj","ammo_shotgun.obj","ammo_sniper.obj","ammo_uzi.obj","flamethrower.obj","flamethrowerHandle.obj","grenade.obj","grenadeFlash.obj","grenadeSmoke.obj","grenade_vintage.obj","knifeRound_sharp.obj","knifeRound_smooth.obj","knife_sharp.obj","knife_smooth.obj","machinegun.obj","machinegunLauncher.obj","pistol.obj","pistolSilencer.obj","rocketlauncher.obj","rocketlauncherModern.obj","rocketlauncherModernRotating.obj","rocketlauncherSide.obj","shotgun.obj","shotgunShort.obj","sniper.obj","sniperCamo.obj","uzi.obj","uziGold.obj","uziGoldLong.obj","uziGoldLongSilencer.obj","uziGoldSilencer.obj","uziLong.obj","uziLongSilencer.obj","uziSilencer.obj"]}}open(e){let t=[];this.uiRenderer=document.getElementById("mainRenderer");for(let i=0;i<this.types[e].length;i++){let n=this.types[e][i].substr(0,this.types[e][i].length-4);t.push({name:this.types[e][i],friendly_name:n,image_url:"images/kenney/"+e+"/"+n+".jpg"})}this.context.content.compileTemplates("add-items",[{top_image_url:"images/kenney/"+e+"/Preview.png",items:t}],!0).then(e=>this.context.content.popup.setContent(e[0])).then(()=>{let t=this.context.content.popup.querySelectorAll(".type-select");for(let i=0;i<t.length;i++){let n=t[i];n.addEventListener("mousedown",()=>{this.context.popupBackStack.push(()=>this.open()),document.getElementById("backButton").setAttribute("scale","1 1 1");let t="models/prefabs/"+e+"/Models/"+n.dataset.key,i=t.substr(0,t.length-3)+"mtl",r=t.split("/");r.pop(),r=r.join("/")+"/",this.context.sceneGraph.add(this.context.currentObject,{type:"Custom",sub_type:"OBJ",url:t,mtl_url:i,mtl_path:r}).then(e=>{this.context.showObject(),this.context.displayBox.setObject(e.object3D),setTimeout(()=>this.context.itemView.open(e),250)}),this.uiRenderer.modal.close()})}})}}class y{constructor(e){this.context=e,this.types=[{name:"Food",friendly_name:"Food"},{name:"Hair",friendly_name:"Hair"},{name:"Hats",friendly_name:"Hats"},{name:"Masks-Mask1",friendly_name:"Masks-Mask1"},{name:"Masks-Mask2",friendly_name:"Masks-Mask2"},{name:"Masks-Mask3",friendly_name:"Masks-Mask3"},{name:"Masks-Mask4",friendly_name:"Masks-Mask4"},{name:"Masks-Mask5",friendly_name:"Masks-Mask5"},{name:"Masks-Mask6",friendly_name:"Masks-Mask6"},{name:"Masks-Mask7",friendly_name:"Masks-Mask7"},{name:"Masks-Mask8",friendly_name:"Masks-Mask8"},{name:"Weapons-pack1",friendly_name:"Weapons-pack1"},{name:"Weapons-pack2",friendly_name:"Weapons-pack2"},{name:"Weapons-pack3",friendly_name:"Weapons-pack3"},{name:"Weapons-pack4",friendly_name:"Weapons-pack4"},{name:"Weapons-pack5",friendly_name:"Weapons-pack5"}]}open(){this.context.content.compileTemplates("add-items",[{items:this.types}],!0).then(e=>this.context.content.popup.setContent(e[0])).then(()=>{let e=this.context.content.popup.querySelectorAll(".type-select");for(let t=0;t<e.length;t++){let i=e[t];i.addEventListener("mousedown",()=>{this.context.popupBackStack.push(()=>this.open()),document.getElementById("backButton").setAttribute("scale","1 1 1"),this.context.avatarModelsModal.open(i.dataset.key)})}})}}class w{constructor(e){this.context=e,this.maskTypes=["black-white","blood-moon","blue-blush","blue-white","copper","forest","white-orange"],this.types={Food:["Cake","Donuts","HamEgg","Hamburger","IceCream","Milk","Waffle"],Hair:["Hair1","Hair2","Hair3","Hair4","Hair5"],Hats:["BikeHelmet","BlueHelmet","BucketHat","ChristmasHat","ConeOfShame","DrinkingHat","FancyHat","FlopHat","FootballHelmet","FrenchPolicemanHat","GraduationHat","LadyHat","NavyParadeHat","PaperBag","PartyHat","PropellorHat","SailorsHat","SleepingHat","SoldierHelmet","SunHat","SweatBand","TrafficCone","UmbrellaHat","ValkyreHelmet","WeldingMask","WinterHat"],"Masks-Mask1":this.maskTypes,"Masks-Mask2":this.maskTypes,"Masks-Mask3":this.maskTypes,"Masks-Mask4":this.maskTypes,"Masks-Mask5":this.maskTypes,"Masks-Mask6":this.maskTypes,"Masks-Mask7":this.maskTypes,"Masks-Mask8":this.maskTypes,"Weapons-pack1":["arrow-explosive","arrow-piercing","arrow-regular","bomb","bow","crossbow","dagger","potion-berserk","potion-generic","potion-health","potion-mana","potion-stamina","shield","smoke-grenade","sulfur-grenade","sword"],"Weapons-pack2":["axe1","axe2","hammer","spear","sword1","sword2","sword3","sword4","sword5"],"Weapons-pack3":["angelblade","moonandstarblade","moonandstarsword","wingblade","wingsword"],"Weapons-pack4":["arrow","axe","bow","darksword","demonstaff","goldsword","naturestaff","shield","spiked-club","stonesword"],"Weapons-pack5":["ak47","barettm107","coltm4","gatling","handgun","rocket-shells","shotgun","smaw","uzi"]}}open(e){let t=[];for(let i=0;i<this.types[e].length;i++)t.push({name:this.types[e][i],friendly_name:this.types[e][i]});this.context.content.compileTemplates("add-items",[{items:t}],!0).then(e=>this.context.content.popup.setContent(e[0]))}}class E{constructor(e){this.context=e}title(e,t){return this.context.content.compileTemplates("title-section",[{name:e,uuid:t}],!0).then(e=>this.context.content.addTemplateItem("#titleSection",e[0]))}async stats(e){if(this.context.sceneGraph.canOpen()){let e=document.querySelector("#sceneStats");return void e.parentElement.removeChild(e)}let t={desktop:{points:0,pixels:0},mobile:{points:0,pixels:0}};this.context.sceneGraph.totals(e||this.context.sceneGraph.currentScene,t),await this.context.content.compileTemplates("object-stats",[t],!0).then(e=>this.context.content.addTemplateItem("#sceneStats",e[0]))}hideTransformOptions(){this.showTransformOptions(!0)}showTransformOptions(e){document.getElementById("positionButton").parentElement.setAttribute("visible",!e),document.getElementById("rotationButton").parentElement.setAttribute("visible",!e),document.getElementById("scaleButton").parentElement.setAttribute("visible",!e)}childObject(e){let t="images/icons/objects/",i={uuid:e.settings.uuid,image_url:t+"custom.jpg",name:e.settings.name,type:"Object3D"===e.settings.type?"Group":this.context.friendly_names.show(e.settings.type)};return"Object3D"===e.settings.type?i.image_url=t+"folder.jpg":"CustomGeometry"===e.settings.geometry.sub_type?i.image_url=e.settings.geometry.image||t+"parametric.jpg":"Custom"===e.settings.type?i.image_url=t+"custom.jpg":"Poly"===e.settings.type?i.image_url=t+"poly.jpg":"Parametric"===e.settings.type?i.image_url=t+"geometries/parametric/"+e.settings.geometry.sub_type.replace("Geometry","").replace("Buffer","").replace("Inverted","")+".jpg":"Primitive"===e.settings.type&&(i.image_url=t+"geometries/primitive/"+e.settings.geometry.type.replace("Geometry","").replace("Buffer","").replace("Inverted","")+".jpg"),i}setupColorUpdate(e,t){let i=this.context.content.popup.querySelector(e),n=this.context.content.popup.querySelector(e+"Text");i.addEventListener("mousedown",()=>{document.getElementById("colorPicker").open().then(e=>{n.setAttribute("value",e),i.setAttribute("color",e),this.context.currentObject.settings.material[t]=e,this.context.currentObject.object3D.material[t]=new THREE.Color(e)})})}setupNumberUpdate(e,t,i,n,r,o){let a=this.context.content.popup.querySelector(t).querySelector(".xInputUp"),s=this.context.content.popup.querySelector(t).querySelector(".xInputDown"),l=this.context.content.popup.querySelector(t).querySelector(".xText"),u=this.context.currentObject.object3D.material,c=t=>{console.log([e],[r],[o],[i]),this.context.currentObject.settings[e][r][o][i]+=this.context.precision*t;let n=this.context.currentObject.settings[e][r][o][i];"lightTexture"===r?(u.lightMap&&(u.lightMap[o][i]=n),u.aoMap&&(u.aoMap[o][i]=n)):(u.map&&(u.map[o][i]=n),u.specularMap&&(u.specularMap[o][i]=n),u.bumpMap&&(u.bumpMap[o][i]=n),u.emissiveMap&&(u.emissiveMap[o][i]=n),u.roughnessMap&&(u.roughnessMap[o][i]=n),u.metalnessMap&&(u.metalnessMap[o][i]=n),u.displacementMap&&(u.displacementMap[o][i]=n),u.normalMap&&(u.normalMap[o][i]=n),u.alphaMap&&(u.alphaMap[o][i]=n),u.envMap&&(u.envMap[o][i]=n)),u.needsUpdate=!0,l.setAttribute("text","value:"+this.context.currentObject.settings[e][r][o][i].toFixed(3))},d=t=>{this.context.currentObject.settings[e][i]+=this.context.precision*t,this.context.currentObject.object3D[e][i]=n?THREE.Math.degToRad(this.context.currentObject.settings[e][i]):this.context.currentObject.settings[e][i],"material"===e&&(u.needsUpdate=!0),l.setAttribute("text","value:"+this.context.currentObject.settings[e][i].toFixed(3))},h=t=>{r?c(t):d(t),"geometry"===e&&(this.context.sceneGraph.objectFactory.resetGeometry(),this.context.displayBox.setObject(this.context.currentObject.object3D))};a.addEventListener("mousedown",()=>h(1)),s.addEventListener("mousedown",()=>h(-1))}setupRadioInput(e,t){this.context.content.popup.querySelector(e).addEventListener("ui-radio-changed",e=>{t(e.detail)})}setupSaveMap(e,t,i){let n=this.context.content.popup.querySelector(t);this.context.content.popup.querySelector(e).addEventListener("mousedown",()=>{let r=n.getValue();if(r){let n=this.context.currentObject.settings.material,o="texture";"aoMap"!==i&&"lightMap"!==i||(o="lightTexture"),n[i]=r,(new THREE.TextureLoader).load(r,r=>{r.repeat.set(n[o].repeat.x,n[o].repeat.y),r.offset.set(n[o].offset.x,n[o].offset.y),r.wrapS=n[o].wrapping.s,r.wrapT=n[o].wrapping.t,r.minFilter=n[o].filters.min,r.magFilter=n[o].filters.mag,this.context.currentObject.object3D.material[i]=r,this.context.currentObject.object3D.material[i].needsUpdate=!0,this.context.currentObject.object3D.material[i].needsUpdate=!0,console.log(e,t,i)})}})}setupSwitcheInput(e,t,i){this.context.content.popup.querySelector(t).addEventListener("ui-switch-changed",t=>{this.context.currentObject.settings[e][i]=t.detail,this.context.currentObject.object3D[e][i]=this.context.currentObject.settings[e][i],"geometry"===e&&(this.context.sceneGraph.objectFactory.resetGeometry(),this.context.displayBox.setObject(this.context.currentObject.object3D))})}}class T{constructor(e){this.context=e,this.breadcrumbsContainer=document.getElementById("breadcrumbsContainer")}make(e){for(;this.breadcrumbsContainer.firstChild;)this.breadcrumbsContainer.removeChild(this.breadcrumbsContainer.firstChild);if(this.isOverloaded=e.length>=7,this.isOverloaded){let t=e.length-7;this.breadcrumbsContainer.appendChild(this.makeDivider(0,!0));for(let i=0;i<e.length;i++)e[i].isTop&&0===i&&(this.breadcrumbsContainer.appendChild(this.makeBreadCrumb(e[i],i)),this.breadcrumbsContainer.appendChild(this.makeDivider(i))),i>t&&(this.breadcrumbsContainer.appendChild(this.makeBreadCrumb(e[i],i-t)),this.breadcrumbsContainer.appendChild(this.makeDivider(i-t)))}else for(let t=0;t<e.length;t++)this.breadcrumbsContainer.appendChild(this.makeBreadCrumb(e[t],t)),this.breadcrumbsContainer.appendChild(this.makeDivider(t))}fromObject(e,t){return t=t||[],e.parent&&(t=t.concat(this.fromObject(e.parent))),t.push({name:e.parent?e.settings.name:this.context.sceneGraph.currentScene.metadata.name+" Scene",callback:()=>this.context.itemView.open(e),isTop:!e.parent}),t}makeBreadCrumb(e,t){let i=document.createElement("a-ui-button");return i.setAttribute("width",.45),i.setAttribute("height",.13),i.setAttribute("ripple-size","0.5 0.19"),i.setAttribute("position",(this.isOverloaded&&t>0?.52*t+.2:.52*t)+" 0 0"),i.setAttribute("wrap-count",13),i.setAttribute("text-value",this.shorten(e.name,14)),i.setAttribute("color","#42b8ac"),i.className="intersectable",i.addEventListener("mousedown",()=>{e.callback()}),i}makeDivider(e,t){let i=document.createElement("a-plane");return i.setAttribute("width",.12),i.setAttribute("position",(this.isOverloaded&&e&&!t>0?.52*e+.25+.2:.52*e+(t?.4:.25))+" 0 0"),i.setAttribute("height",.12),i.setAttribute("shader","flat"),i.setAttribute("transparent",!0),i.setAttribute("src",t?"#breadCrumbMore":"#breadCrumb"),i}shorten(e,t){return e.length>t?e.substr(0,t)+"...":e}}class j{constructor(e){this.context=e}open(){this.context.content.loadTemplates(["confirm-message"]).then(()=>this.context.content.compileTemplates("confirm-message",[{title:"Clear Scene",message:"Are you sure you want to remove all the items from this scene?",leftButtonText:"CANCEL",leftButtonFontColor:"#fff",leftButtonColor:"#009688",leftButtonRippleColor:"#fff",rightButtonText:"CLEAR SCENE",rightButtonFontColor:"#fff",rightButtonColor:"#e57373",rightButtonRippleColor:"#fff"}],!0)).then(e=>this.context.content.popup.setContent(e[0]))}}class M{constructor(e){this.context=e}open(){this.context.content.loadTemplates(["confirm-message"]).then(()=>this.context.content.compileTemplates("confirm-message",[{title:"Save Prefab",message:"Are you sure save this as a prefab object?",leftButtonText:"CANCEL",rightButtonText:"SAVE",middleButtonText:"SAVE & PUBLISH"}],!0)).then(e=>this.context.content.popup.setContent(e[0])).then(()=>{this.context.content.popup.querySelector(".close-modal").addEventListener("mousedown",()=>{console.log("prefab close")})})}}class S{constructor(e){this.context=e}open(){this.context.content.loadTemplates(["confirm-message"]).then(()=>this.context.content.compileTemplates("confirm-message",[{title:"Behaviours",message:"Select a behaviour to edit.",leftButtonText:"CANCEL",rightButtonText:"EDIT"}],!0)).then(e=>this.context.content.popup.setContent(e[0]))}}class k{constructor(e){this.context=e}open(){let e=this.context.currentObject.settings.material;console.log(e.type.substr(4,e.type.length-12)),this.context.content.loadTemplates(["object-type"]).then(()=>this.context.content.compileTemplates("object-type",[{type:"material",selected:e.type.substr(4,e.type.length-12),options:[{name:"Basic"},{name:"Standard"},{name:"Lambert"},{name:"Phong"},{name:"Depth"},{name:"Physical"},{name:"Toon"}]}],!0)).then(e=>this.context.content.popup.setContent(e[0])).then(()=>{let e=e=>{this.type="Mesh"+e.charAt(0).toUpperCase()+e.substr(1)+"Material"};this.context.viewUtils.setupRadioInput(".radio-basic",e),this.context.viewUtils.setupRadioInput(".radio-standard",e),this.context.viewUtils.setupRadioInput(".radio-lambert",e),this.context.viewUtils.setupRadioInput(".radio-phong",e),this.context.viewUtils.setupRadioInput(".radio-depth",e),this.context.viewUtils.setupRadioInput(".radio-physical",e),this.context.viewUtils.setupRadioInput(".radio-toon",e),this.context.content.popup.querySelector(".right-button").addEventListener("mousedown",()=>{this.context.sceneGraph.objectFactory.changeMaterial(this.type);let e=document.getElementById("materialSettings");e.querySelector(".doubleButton1").close();let t=this.context.currentObject.settings.material;e.querySelector(".titleContainer").setAttribute("value","Material Settings: "+t.type.substr(4,t.type.length-12))})})}}class x{constructor(e){this.context=e}open(){this.isPrimitive="Primitive"===this.context.currentObject.settings.type;let e=this.context.currentObject.settings.geometry[this.isPrimitive?"type":"sub_type"].replace("Geometry","").replace("Buffer","").replace("Inverted","");this.context.content.loadTemplates(["object-type"]).then(()=>this.context.content.compileTemplates("object-type",[{type:"geometry",selected:e,options:this.context[this.isPrimitive?"primitiveTypeModal":"parametricTypeModal"].types.filter(e=>-1===["My Fancys","Fancy Market","Create"].indexOf(e.friendly_name)).map(e=>({name:e.friendly_name}))}],!0)).then(e=>this.context.content.popup.setContent(e[0])).then(()=>{this.isPrimitive?this.setupPrimitiveChange():this.setupParametricChange()})}setupParametricChange(){let e=e=>{this.type=e.split(" ").join("")+"Geometry"};this.context.viewUtils.setupRadioInput(".radio-apple",e),this.context.viewUtils.setupRadioInput(".radio-appleinverted",e),this.context.viewUtils.setupRadioInput(".radio-fermat",e),this.context.viewUtils.setupRadioInput(".radio-spring",e),this.context.viewUtils.setupRadioInput(".radio-springinverted",e),this.context.viewUtils.setupRadioInput(".radio-helicoid",e),this.context.viewUtils.setupRadioInput(".radio-spiral",e),this.context.viewUtils.setupRadioInput(".radio-spiralinverted",e),this.context.viewUtils.setupRadioInput(".radio-pillow",e),this.context.viewUtils.setupRadioInput(".radio-pillowinverted",e),this.context.viewUtils.setupRadioInput(".radio-catenoid",e),this.context.viewUtils.setupRadioInput(".radio-scherk",e),this.context.viewUtils.setupRadioInput(".radio-klein",e),this.context.viewUtils.setupRadioInput(".radio-kleininverted",e),this.context.viewUtils.setupRadioInput(".radio-mobius",e),this.context.viewUtils.setupRadioInput(".radio-mobius3d",e),this.context.viewUtils.setupRadioInput(".radio-mobius3dinverted",e),this.context.viewUtils.setupRadioInput(".radio-snail",e),this.context.viewUtils.setupRadioInput(".radio-snailinverted",e),this.context.viewUtils.setupRadioInput(".radio-horn",e),this.context.viewUtils.setupRadioInput(".radio-horninverted",e),this.context.content.popup.querySelector(".right-button").addEventListener("mousedown",()=>{this.context.sceneGraph.objectFactory.changeGeometry(this.type),document.getElementById("geometrySettings").querySelector(".doubleButton1").close(),this.context.displayBox.setObject(this.context.currentObject.object3D)})}setupPrimitiveChange(){let e=e=>{this.type=e+"Geometry"};this.context.viewUtils.setupRadioInput(".radio-circle",e),this.context.viewUtils.setupRadioInput(".radio-cone",e),this.context.viewUtils.setupRadioInput(".radio-box",e),this.context.viewUtils.setupRadioInput(".radio-cylinder",e),this.context.viewUtils.setupRadioInput(".radio-dodecahedron",e),this.context.viewUtils.setupRadioInput(".radio-icosahedron",e),this.context.viewUtils.setupRadioInput(".radio-octahedron",e),this.context.viewUtils.setupRadioInput(".radio-plane",e),this.context.viewUtils.setupRadioInput(".radio-ring",e),this.context.viewUtils.setupRadioInput(".radio-sphere",e),this.context.viewUtils.setupRadioInput(".radio-tetrahedron",e),this.context.viewUtils.setupRadioInput(".radio-torus",e),this.context.viewUtils.setupRadioInput(".radio-torusknot",e),this.context.content.popup.querySelector(".right-button").addEventListener("mousedown",()=>{this.context.sceneGraph.objectFactory.changeGeometry(this.type);let e=document.getElementById("geometrySettings");e.querySelector(".doubleButton1").close(),e.querySelector(".titleContainer").setAttribute("value","Geometry Settings: "+this.context.currentObject.settings.geometry.type.replace("Geometry","").replace("Buffer","").replace("Inverted","")),this.context.displayBox.setObject(this.context.currentObject.object3D)})}}class C{constructor(e){this.context=e}preload(){let e=document.getElementById("loadingText"),t=document.getElementById("loadingTextBack"),i=(new Date).getTime(),n=["scene-item","add-items","title-section","three-number-inputs","object-stats","mobile-response","single-item-button","double-item-button","side-item-add","radios","switches","color","color-intensity","number","map-settings","confirm-message","double-item-button","mobile-response","object-stats","object-type","side-item-add","single-item-button","three-number-inputs","title-section","material-options"].map(e=>this.context.content.loadTemplates([e])),r=0,o=n.length;t.setAttribute("scale","1 1 1");for(let a=0;a<o;a++){n[a].then(()=>{let n=++r/o;e.setAttribute("value",Math.round(100*n)+"%"),1===n&&(console.log("Templates loaded in: "+((new Date).getTime()-i)/1e3+"s"),setTimeout(()=>{e.setAttribute("value",""),t.setAttribute("scale","0 0 0")},500))})}return Promise.all(n)}}class R{constructor(e){this.context=e}open(){switch(this.material=this.context.currentObject.settings.material,this.type=this.material.type.substr(4,this.material.type.length-12).toLowerCase(),document.getElementById("backButton").setAttribute("scale","0.00001 0.00001 0.00001"),this.resetTemplate(),this.type){case"basic":return this.openBasic();case"standard":return this.openStandard();case"lambert":return this.openLambert();case"phong":return this.openPhong();case"depth":return this.openBasic();case"physical":return this.openStandard(!0);case"toon":return this.openPhong(!0)}}async load(){return this.startSection='\n            <a-text font="roboto" baseLine="top" anchor="center" \n            value="'+this.type.charAt(0).toUpperCase()+this.type.substr(1)+' Material Settings"\n                    color="#212121" wrap-count="26" width="1.35" height="0.15"></a-text>\n            <a-plane width="2.9" height="0.01" color="#8f8f8f" shader="flat"></a-plane>\n            <a-entity width="1.35">',this.midSection='\n            </a-entity>\n            <a-plane width="0.01" height="1.6" color="#8f8f8f" shader="flat"></a-plane>\n            <a-entity width="1.35">',this.endSection="</a-entity>",this.context.content.loadTemplates(["radios","switches","color","color-intensity","number","map-settings","add-items"])}async openBasic(){return this.load().then(()=>{this.templates.switches.push({settings:[{name:"Wireframe",selected:this.material.wireframe}]},{settings:[{name:"Fog",selected:this.material.fog}]},{settings:[{name:"Lights",selected:this.material.lights}]}),this.templates.color.push({color:this.material.color}),this.templates.mapSettings.push({map:this.material.map}),this.templates.number.push({name:"Refraction Ratio",number:this.material.refractionRatio})}).then(()=>this.compile()).then(e=>{let t=this.buildDefaults(e),i=e[3].shift(),n=e[4].shift(),r=e[2].shift(),o=e[0].shift(),a=i+n+r+e[0].shift()+e[0].shift()+o,s=this.startSection+a+this.midSection+t+this.endSection;return this.context.content.popup.setContent(s)}).then(()=>{this.context.viewUtils.setupColorUpdate(".colorInputField","color"),this.context.viewUtils.setupNumberUpdate("material",".refractionratio","refractionRatio"),this.context.viewUtils.setupSwitcheInput("material",".switch-fog","fog"),this.context.viewUtils.setupSwitcheInput("material",".switch-lights","lights"),this.setupMapSettings(),this.setupDefaultUpdate()})}async openStandard(e){return this.load().then(()=>{this.templates.switches.push({settings:[{name:"Wireframe",selected:this.material.wireframe}]}),this.templates.color.push({color:this.material.color}),this.templates.colorIntensity.push({name:"Emissiveness",color:this.material.emissive,intensity:this.material.emissiveIntensity}),this.templates.mapSettings.push({map:this.material.map}),this.templates.number.push({name:"Metalness",number:this.material.metalness},{name:"Roughness",number:this.material.roughness},{name:"Refraction Ratio",number:this.material.refractionRatio}),e&&this.templates.number.push({name:"Clear Coat",number:this.material.clearCoat},{name:"Clear Coat Roughness",number:this.material.clearCoatRoughness},{name:"Reflectivity",number:this.material.reflectivity})}).then(()=>this.compile()).then(t=>{let i=this.buildDefaults(t),n=t[3].shift(),r=t[5].shift(),o=t[4].shift(),a=t[2].shift(),s=t[2].shift(),l=t[2].shift(),u="";e&&(u+=t[2].shift(),u+=t[2].shift(),u+=t[2].shift());let c=n+r+o+a+s+u+l+t[0].shift(),d=this.startSection+c+this.midSection+i+this.endSection;return this.context.content.popup.setContent(d)}).then(()=>{this.context.viewUtils.setupColorUpdate(".colorInputField","color"),this.setupEmissiveUpdate(),this.context.viewUtils.setupNumberUpdate("material",".metalness","metalness"),this.context.viewUtils.setupNumberUpdate("material",".opacity","opacity"),this.context.viewUtils.setupNumberUpdate("material",".alphatest","alphaTest"),this.context.viewUtils.setupNumberUpdate("material",".refractionratio","refractionRatio"),this.context.viewUtils.setupNumberUpdate("material",".roughness","roughness"),e&&(this.context.viewUtils.setupNumberUpdate("material",".clearcoat","clearCoat"),this.context.viewUtils.setupNumberUpdate("material",".clearcoatroughness","clearCoatRoughness"),this.context.viewUtils.setupNumberUpdate("material",".reflectivity","reflectivity")),this.setupMapSettings(),this.setupDefaultUpdate()})}setupMapSettings(){this.context.content.popup.querySelector(".map-settings").addEventListener("mousedown",()=>{this.context.mapSettingsModal.open()}),this.context.viewUtils.setupSaveMap(".save",".textureImage","map"),this.context.content.popup.querySelector(".load").addEventListener("mousedown",()=>{this.context.popupBackStack.push(()=>this.open()),document.getElementById("backButton").setAttribute("scale","1 1 1"),this.context.loadTextureModal.open()})}setupDefaultUpdate(){this.context.viewUtils.setupNumberUpdate("material",".opacity","opacity"),this.context.viewUtils.setupSwitcheInput("material",".switch-wireframe","wireframe"),this.context.viewUtils.setupSwitcheInput("material",".switch-visible","visible"),this.context.viewUtils.setupSwitcheInput("material",".switch-transparent","transparent");let e=e=>{this.material.side="Front"===e?THREE.FrontSide:"Back"===e?THREE.BackSide:THREE.DoubleSide,this.context.currentObject.object3D.material.side=this.material.side};this.context.viewUtils.setupRadioInput(".radio-front",e),this.context.viewUtils.setupRadioInput(".radio-back",e),this.context.viewUtils.setupRadioInput(".radio-double",e)}setupEmissiveUpdate(){this.context.viewUtils.setupColorUpdate(".colorIntensityInput","emissive"),this.context.viewUtils.setupNumberUpdate("material",".emissiveness","emissiveIntensity")}async openPhong(){return this.load().then(()=>{this.templates.switches.push({settings:[{name:"Wireframe",selected:this.material.wireframe}]}),this.templates.color.push({color:this.material.color},{color:this.material.color,colorName:"Specular",colorButtonClass:"specularInput",colorButtonTextClass:"specularInputText"}),this.templates.colorIntensity.push({name:"Emissiveness",color:this.material.emissive,intensity:this.material.emissiveIntensity}),this.templates.mapSettings.push({map:this.material.map}),this.templates.number.push({name:"Reflectivity",number:this.material.reflectivity},{name:"Refraction Ratio",number:this.material.refractionRatio},{name:"Shininess",number:this.material.shininess})}).then(()=>this.compile()).then(e=>{let t=this.buildDefaults(e),i=e[3].shift(),n=e[5].shift(),r=e[4].shift(),o=e[2].shift(),a=e[2].shift(),s=i+n+r+e[2].shift()+e[3].shift()+o+a+e[0].shift(),l=this.startSection+s+this.midSection+t+this.endSection;return this.context.content.popup.setContent(l)}).then(()=>{this.context.viewUtils.setupColorUpdate(".colorInputField","color"),this.context.viewUtils.setupColorUpdate(".specularInput","specular"),this.setupEmissiveUpdate(),this.context.viewUtils.setupNumberUpdate("material",".reflectivity","reflectivity"),this.context.viewUtils.setupNumberUpdate("material",".refractionratio","refractionRatio"),this.context.viewUtils.setupNumberUpdate("material",".shininess","shininess"),this.setupMapSettings(),this.setupDefaultUpdate()})}async openLambert(){return this.load().then(()=>{this.templates.switches.push({settings:[{name:"Wireframe",selected:this.material.wireframe}]}),this.templates.color.push({color:this.material.color}),this.templates.colorIntensity.push({name:"Emissiveness",color:this.material.emissive,intensity:this.material.emissiveIntensity}),this.templates.mapSettings.push({map:this.material.map}),this.templates.number.push({name:"Reflectivity",number:this.material.reflectivity},{name:"Refraction Ratio",number:this.material.refractionRatio})}).then(()=>this.compile()).then(e=>{let t=this.buildDefaults(e),i=e[3].shift()+e[5].shift()+e[4].shift()+e[2].shift()+e[2].shift()+e[0].shift(),n=this.startSection+i+this.midSection+t+this.endSection;return this.context.content.popup.setContent(n)}).then(()=>{this.context.viewUtils.setupColorUpdate(".colorInputField","color"),this.setupEmissiveUpdate(),this.context.viewUtils.setupNumberUpdate("material",".reflectivity","reflectivity"),this.context.viewUtils.setupNumberUpdate("material",".refractionratio","refractionRatio"),this.setupMapSettings(),this.setupDefaultUpdate()})}async compile(){let e=[this.context.content.compileTemplates("switches",this.templates.switches),this.context.content.compileTemplates("radios",this.templates.radios),this.context.content.compileTemplates("number",this.templates.number)];return this.templates.color.length&&e.push(this.context.content.compileTemplates("color",this.templates.color)),this.templates.colorIntensity.length&&e.push(this.context.content.compileTemplates("color-intensity",this.templates.colorIntensity)),this.templates.mapSettings.length&&e.push(this.context.content.compileTemplates("map-settings",this.templates.mapSettings)),Promise.all(e)}buildDefaults(e){return e[1].shift()+e[0].shift()+e[2].shift()+e[2].shift()}resetTemplate(){let e=this.material.side===THREE.FrontSide?"Front":this.material.side===THREE.BackSide?"Back":"Double";this.templates={switches:[{settings:[{name:"Visible",selected:this.material.visible},{name:"Transparent",selected:this.material.transparent}]}],radios:[{name:"Side",selected:e,settings:[{name:"Front"},{name:"Back"},{name:"Double"}]}],number:[{name:"Opacity",number:this.material.opacity},{name:"Alpha Test",number:this.material.alphaTest}],color:[],colorIntensity:[],mapSettings:[]}}}class A{constructor(e){this.context=e}open(){switch(this.isPrimitive="Primitive"===this.context.currentObject.settings.type,this.geometry=this.context.currentObject.settings.geometry,this.type=this.isPrimitive?this.geometry.type.replace("Geometry","").replace("Buffer","").replace("Inverted","").toLowerCase():"parametric",this.resetTemplate(),this.type){case"box":return this.openBox();case"circle":return this.openCircle();case"cone":return this.openCone();case"cylinder":return this.openCylinder();case"dodecahedron":case"icosahedron":case"octahedron":case"tetrahedron":return this.openHedron();case"plane":return this.openPlane();case"ring":return this.openRing();case"sphere":return this.openSphere();case"torus":return this.openTorus();case"torusknot":return this.openTorusKnot();case"parametric":return this.openParametric()}}async load(){return this.startSection='\n            <a-text font="roboto" baseLine="top" anchor="center" \n            value="'+this.type.charAt(0).toUpperCase()+this.type.substr(1)+' Geometry Settings"\n                    color="#212121" wrap-count="26" width="1.35" height="0.15"></a-text>\n            <a-plane width="2.9" height="0.01" color="#8f8f8f" shader="flat"></a-plane>\n            <a-entity width="1.35">',this.midSection='\n            </a-entity>\n            <a-plane width="0.01" height="1.6" color="#8f8f8f" shader="flat"></a-plane>\n            <a-entity width="1.35">',this.endSection="</a-entity>",this.context.content.loadTemplates(["radios","switches","number"])}openSphere(){return this.load().then(()=>{this.templates.number.push({name:"Radius",number:this.geometry.radius},{name:"Width Segments",number:this.geometry.widthSegments},{name:"Height Segments",number:this.geometry.heightSegments},{name:"Phi Start",number:THREE.Math.radToDeg(this.geometry.phiStart)},{name:"Phi Length",number:THREE.Math.radToDeg(this.geometry.phiLength)},{name:"Theta Start",number:THREE.Math.radToDeg(this.geometry.thetaStart)},{name:"Theta Length",number:THREE.Math.radToDeg(this.geometry.thetaLength)})}).then(()=>this.compile()).then(e=>{let t=e[0].shift(),i=e[0].shift(),n=e[0].shift(),r=e[0].shift(),o=e[0].shift(),a=e[0].shift(),s=e[0].shift(),l=t+i+n+r+o+this.midSection+a+s,u=this.startSection+l+this.endSection;return this.context.content.popup.components["ui-scroll-pane"].setContent(u)}).then(()=>{this.context.viewUtils.setupNumberUpdate("geometry",".radius","radius"),this.context.viewUtils.setupNumberUpdate("geometry",".widthsegments","widthSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".heightsegments","heightSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".phistart","phiStart"),this.context.viewUtils.setupNumberUpdate("geometry",".philength","phiLength",!0),this.context.viewUtils.setupNumberUpdate("geometry",".thetastart","thetaStart",!0)})}openTorus(){return this.load().then(()=>{this.templates.number.push({name:"Tube",number:this.geometry.tube},{name:"Radial Segments",number:this.geometry.radialSegments},{name:"Tubular Segments",number:this.geometry.tubularSegments},{name:"Arc",number:THREE.Math.radToDeg(this.geometry.arc)})}).then(()=>this.compile()).then(e=>{let t=e[0].shift(),i=e[0].shift(),n=e[0].shift(),r=t+e[0].shift()+this.midSection+i+n,o=this.startSection+r+this.endSection;return this.context.content.popup.components["ui-scroll-pane"].setContent(o)}).then(()=>{this.context.viewUtils.setupNumberUpdate("geometry",".tube","tube"),this.context.viewUtils.setupNumberUpdate("geometry",".radialsegments","radialSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".tubularsegments","tubularSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".arc","arc")})}openTorusKnot(){return this.load().then(()=>{this.templates.number.push({name:"Tube",number:this.geometry.tube},{name:"Radial Segments",number:this.geometry.radialSegments},{name:"Tubular Segments",number:this.geometry.tubularSegments},{name:"Arc",number:THREE.Math.radToDeg(this.geometry.arc)},{name:"P",number:this.geometry.p},{name:"Q",number:this.geometry.q})}).then(()=>this.compile()).then(e=>{let t=e[0].shift(),i=e[0].shift(),n=e[0].shift(),r=t+e[0].shift()+e[0].shift()+e[0].shift()+this.midSection+i+n,o=this.startSection+r+this.endSection;return this.context.content.popup.components["ui-scroll-pane"].setContent(o)}).then(()=>{this.context.viewUtils.setupNumberUpdate("geometry",".tube","tube"),this.context.viewUtils.setupNumberUpdate("geometry",".radialsegments","radialSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".tubularsegments","tubularSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".p","p"),this.context.viewUtils.setupNumberUpdate("geometry",".q","q")})}openParametric(){return this.load().then(()=>{this.templates.number.push({name:"Slices",number:this.geometry.slices},{name:"Stacks",number:this.geometry.stacks})}).then(()=>this.compile()).then(e=>{let t=e[0].shift()+e[0].shift()+this.midSection,i=this.startSection+t+this.endSection;return this.context.content.popup.components["ui-scroll-pane"].setContent(i)}).then(()=>{this.context.viewUtils.setupNumberUpdate("geometry",".slices","slices"),this.context.viewUtils.setupNumberUpdate("geometry",".stacks","stacks")})}openRing(){return this.load().then(()=>{this.templates.number.push({name:"Inner Radius",number:this.geometry.innerRadius},{name:"Outer Radius",number:this.geometry.outerRadius},{name:"Theta Segments",number:this.geometry.thetaSegments},{name:"Phi Segments",number:this.geometry.phiSegments},{name:"Theta Start",number:THREE.Math.radToDeg(this.geometry.thetaStart)},{name:"Theta Length",number:THREE.Math.radToDeg(this.geometry.thetaLength)})}).then(()=>this.compile()).then(e=>{let t=e[0].shift(),i=e[0].shift(),n=e[0].shift(),r=e[0].shift(),o=e[0].shift(),a=e[0].shift(),s=t+i+n+r+this.midSection+o+a,l=this.startSection+s+this.endSection;return this.context.content.popup.components["ui-scroll-pane"].setContent(l)}).then(()=>{this.context.viewUtils.setupNumberUpdate("geometry",".innerradius","innerRadius"),this.context.viewUtils.setupNumberUpdate("geometry",".outerradius","outerRadius"),this.context.viewUtils.setupNumberUpdate("geometry",".thetasegments","thetaSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".phisegments","phiSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".thetastart","thetaStart",!0),this.context.viewUtils.setupNumberUpdate("geometry",".thetalength","thetaLength",!0)})}openPlane(){return this.load().then(()=>{this.templates.number.push({name:"Width",number:this.geometry.width},{name:"Height",number:this.geometry.height},{name:"Width Segments",number:this.geometry.widthSegments},{name:"Height Segments",number:this.geometry.heightSegments})}).then(()=>this.compile()).then(e=>{let t=e[0].shift(),i=e[0].shift(),n=e[0].shift(),r=e[0].shift(),o=t+i+this.midSection+n+r,a=this.startSection+o+this.endSection;return this.context.content.popup.components["ui-scroll-pane"].setContent(a)}).then(()=>{this.context.viewUtils.setupNumberUpdate("geometry",".width","width"),this.context.viewUtils.setupNumberUpdate("geometry",".height","height"),this.context.viewUtils.setupNumberUpdate("geometry",".widthsegments","widthSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".heightsegments","heightSegments")})}openHedron(){return this.load().then(()=>{this.templates.number.push({name:"Radius",number:this.geometry.radius},{name:"Detail",number:this.geometry.detail})}).then(()=>this.compile()).then(e=>{let t=e[0].shift()+e[0].shift()+this.midSection,i=this.startSection+t+this.endSection;return this.context.content.popup.components["ui-scroll-pane"].setContent(i)}).then(()=>{this.context.viewUtils.setupNumberUpdate("geometry",".radius","radius"),this.context.viewUtils.setupNumberUpdate("geometry",".detail","detail")})}openCylinder(){return this.load().then(()=>{this.templates.switches.push({settings:[{name:"Open Ended",selected:this.geometry.openEnded}]}),this.templates.number.push({name:"Radius Top",number:this.geometry.radiusTop},{name:"Radius Bottom",number:this.geometry.radiusBottom},{name:"Height",number:this.geometry.height},{name:"Radial Segments",number:this.geometry.radialSegments},{name:"Height Segments",number:this.geometry.heightSegments},{name:"Theta Start",number:THREE.Math.radToDeg(this.geometry.thetaStart)},{name:"Theta Length",number:THREE.Math.radToDeg(this.geometry.thetaLength)})}).then(()=>this.compile()).then(e=>{let t=e[1].shift(),i=e[1].shift(),n=e[1].shift(),r=e[1].shift(),o=e[1].shift(),a=e[1].shift(),s=e[1].shift(),l=e[0].shift(),u=t+i+n+a+s+this.midSection+r+o+l,c=this.startSection+u+this.endSection;return this.context.content.popup.components["ui-scroll-pane"].setContent(c)}).then(()=>{this.context.viewUtils.setupNumberUpdate("geometry",".radiustop","radiusTop"),this.context.viewUtils.setupNumberUpdate("geometry",".radiusbottom","radiusBottom"),this.context.viewUtils.setupNumberUpdate("geometry",".radialsegments","radialSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".heightsegments","heightSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".thetastart","thetaStart",!0),this.context.viewUtils.setupNumberUpdate("geometry",".thetalength","thetaLength",!0),this.context.viewUtils.setupSwitcheInput("geometry",".switch-openended","openEnded")})}openCone(){return this.load().then(()=>{this.templates.switches.push({settings:[{name:"Open Ended",selected:this.geometry.openEnded}]}),this.templates.number.push({name:"Radius",number:this.geometry.radius},{name:"Height",number:this.geometry.height},{name:"Radial Segments",number:this.geometry.radialSegments},{name:"Height Segments",number:this.geometry.heightSegments},{name:"Theta Start",number:THREE.Math.radToDeg(this.geometry.thetaStart)},{name:"Theta Length",number:THREE.Math.radToDeg(this.geometry.thetaLength)})}).then(()=>this.compile()).then(e=>{let t=e[1].shift(),i=e[1].shift(),n=e[1].shift(),r=e[1].shift(),o=e[1].shift(),a=e[1].shift(),s=e[0].shift(),l=t+i+o+a+this.midSection+n+r+s,u=this.startSection+l+this.endSection;return this.context.content.popup.components["ui-scroll-pane"].setContent(u)}).then(()=>{this.context.viewUtils.setupNumberUpdate("geometry",".radius","radius"),this.context.viewUtils.setupNumberUpdate("geometry",".height","height"),this.context.viewUtils.setupNumberUpdate("geometry",".radialsegments","radialSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".heightsegments","heightSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".thetastart","thetaStart",!0),this.context.viewUtils.setupNumberUpdate("geometry",".thetalength","thetaLength",!0),this.context.viewUtils.setupSwitcheInput("geometry",".switch-openended","openEnded")})}openCircle(){return this.load().then(()=>{this.templates.number.push({name:"Radius",number:this.geometry.radius},{name:"Segments",number:this.geometry.segments},{name:"Theta Start",number:THREE.Math.radToDeg(this.geometry.thetaStart)},{name:"Theta Length",number:THREE.Math.radToDeg(this.geometry.thetaLength)})}).then(()=>this.compile()).then(e=>{let t=e[0].shift(),i=e[0].shift(),n=e[0].shift(),r=e[0].shift(),o=t+i+this.midSection+n+r,a=this.startSection+o+this.endSection;return this.context.content.popup.components["ui-scroll-pane"].setContent(a)}).then(()=>{this.context.viewUtils.setupNumberUpdate("geometry",".radius","radius"),this.context.viewUtils.setupNumberUpdate("geometry",".segments","segments"),this.context.viewUtils.setupNumberUpdate("geometry",".thetastart","thetaStart",!0),this.context.viewUtils.setupNumberUpdate("geometry",".thetalength","thetaLength",!0)})}openBox(){return this.load().then(()=>{this.templates.number.push({name:"Width",number:this.geometry.width},{name:"Height",number:this.geometry.height},{name:"Depth",number:this.geometry.depth},{name:"Width Segments",number:this.geometry.widthSegments},{name:"Height Segments",number:this.geometry.heightSegments},{name:"Depth Segments",number:this.geometry.depthSegments})}).then(()=>this.compile()).then(e=>{let t=e[0].shift(),i=e[0].shift(),n=e[0].shift(),r=e[0].shift(),o=e[0].shift(),a=e[0].shift(),s=t+i+n+this.midSection+r+o+a,l=this.startSection+s+this.endSection;return this.context.content.popup.components["ui-scroll-pane"].setContent(l)}).then(()=>{this.context.viewUtils.setupNumberUpdate("geometry",".width","width"),this.context.viewUtils.setupNumberUpdate("geometry",".height","height"),this.context.viewUtils.setupNumberUpdate("geometry",".depth","depth"),this.context.viewUtils.setupNumberUpdate("geometry",".widthsegments","widthSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".heightsegments","heightSegments"),this.context.viewUtils.setupNumberUpdate("geometry",".depthsegments","depthSegments")})}async compile(){let e=[];return this.templates.switches.length&&e.push(this.context.content.compileTemplates("switches",this.templates.switches)),this.templates.radios.length&&e.push(this.context.content.compileTemplates("radios",this.templates.radios)),this.templates.number.length&&e.push(this.context.content.compileTemplates("number",this.templates.number)),Promise.all(e)}resetTemplate(){this.templates={switches:[],radios:[],number:[]}}}class L{constructor(e){this.context=e,this.startSection='\n            <a-text font="roboto" baseLine="top" anchor="center" \n            value="Object Transform Settings"\n                    color="#212121" wrap-count="26" width="1.35" height="0.15"></a-text>\n            <a-plane width="2.9" height="0.01" color="#8f8f8f" shader="flat"></a-plane>\n            <a-entity width="2.9">',this.endSection="</a-entity>"}open(){let e=this.context.currentObject,t=e.settings.transform.rotation;this.context.content.compileTemplates("three-number-inputs",[{name:"Position",vector:e.settings.transform.position,className:"positionSettings"},{name:"Rotation",vector:{x:THREE.Math.radToDeg(t.x),y:THREE.Math.radToDeg(t.y),z:THREE.Math.radToDeg(t.z)},className:"rotationSettings"},{name:"Scale",vector:e.settings.transform.scale,className:"scaleSettings"}]).then(e=>{this.context.content.popup.setContent(this.startSection+e[0]+e[1]+e[2]+this.endSection),this.setupTransformListeners(),this.setupTransformButtons()})}setupTransformButtons(){let e=document.querySelector(".positionSettings"),t=document.querySelector(".rotationSettings"),i=document.querySelector(".scaleSettings");this.setupTransformButtonGroup(e,"position"),this.setupTransformButtonGroup(t,"rotation"),this.setupTransformButtonGroup(i,"scale")}setupTransformButtonGroup(e,t){this.setupTransformButton(e,".xInputUp","x",1,t),this.setupTransformButton(e,".xInputDown","x",-1,t),this.setupTransformButton(e,".yInputUp","y",1,t),this.setupTransformButton(e,".yInputDown","y",-1,t),this.setupTransformButton(e,".zInputUp","z",1,t),this.setupTransformButton(e,".zInputDown","z",-1,t),e.querySelector(".reset-values").addEventListener("mousedown",()=>{let e=0;"scale"===t&&(e=1),this.context.currentObject.settings.transform[t]={x:e,y:e,z:e},this.context.currentObject.object3D[t].set(e,e,e),this.context.transformUpdate(),this.context.displayBox.setObject(this.context.currentObject.object3D)})}setupTransformButton(e,t,i,n,r){e.querySelector(t).addEventListener("mousedown",()=>{let e=this.context.precision*n;"rotation"===r&&(e=THREE.Math.degToRad(e)),this.context.currentObject.settings.transform[r][i]+=e,this.context.currentObject.object3D[r][i]+=e,this.context.transformUpdate(),this.context.displayBox.setObject(this.context.currentObject.object3D)})}setupTransformListeners(){let e=document.querySelector(".positionSettings"),t=document.querySelector(".rotationSettings"),i=document.querySelector(".scaleSettings"),n=";color:#212121;wrapCount:12;align:center";this.context.transformUpdate=(()=>{UI.utils.isChanging(this.context.sceneEl,this.context.currentObject.settings.uuid);let r=this.context.currentObject.settings.transform.position,o=this.context.currentObject.settings.transform.rotation,a=this.context.currentObject.settings.transform.scale;e.querySelector(".xInput").setAttribute("text","value:"+r.x.toFixed(3)+n),e.querySelector(".yInput").setAttribute("text","value:"+r.y.toFixed(3)+n),e.querySelector(".zInput").setAttribute("text","value:"+r.z.toFixed(3)+n),t.querySelector(".xInput").setAttribute("text","value:"+THREE.Math.radToDeg(o.x).toFixed(3)+n),t.querySelector(".yInput").setAttribute("text","value:"+THREE.Math.radToDeg(o.y).toFixed(3)+n),t.querySelector(".zInput").setAttribute("text","value:"+THREE.Math.radToDeg(o.z).toFixed(3)+n),i.querySelector(".xInput").setAttribute("text","value:"+a.x.toFixed(3)+n),i.querySelector(".yInput").setAttribute("text","value:"+a.y.toFixed(3)+n),i.querySelector(".zInput").setAttribute("text","value:"+a.z.toFixed(3)+n),UI.utils.stoppedChanging(this.context.currentObject.settings.uuid)})}}class O{constructor(e){this.context=e}open(e){this.context.content.loadTemplates(["material-options"]).then(()=>this.context.content.compileTemplates("material-options",[{selected:"Standard",options:[{name:"Basic"},{name:"Standard"},{name:"Lambert"},{name:"Phong"},{name:"Depth"},{name:"Physical"},{name:"Toon"}]}])).then(e=>{this.context.content.popup.setContent(e[0])}).then(()=>{this.uiRenderer=document.getElementById("mainRenderer"),this.type="MeshStandardMaterial",this.color="#ffffff";let t=e=>{this.type="Mesh"+e.charAt(0).toUpperCase()+e.substr(1)+"Material"};this.context.viewUtils.setupRadioInput(".radio-basic",t),this.context.viewUtils.setupRadioInput(".radio-standard",t),this.context.viewUtils.setupRadioInput(".radio-lambert",t),this.context.viewUtils.setupRadioInput(".radio-phong",t),this.context.viewUtils.setupRadioInput(".radio-depth",t),this.context.viewUtils.setupRadioInput(".radio-physical",t),this.context.viewUtils.setupRadioInput(".radio-toon",t),this.setupColorUpdate(".colorInputField"),this.context.content.popup.querySelector(".left-button").addEventListener("mousedown",()=>{this.uiRenderer.modal.close()}),this.context.content.popup.querySelector(".right-button").addEventListener("mousedown",()=>{e.mat_settings={type:this.type,color:this.color},this.context.sceneGraph.add(this.context.currentObject,e).then(e=>{this.uiRenderer.modal.close(),this.context.showObject(),this.context.displayBox.setObject(e.object3D),setTimeout(()=>this.context.itemView.open(e),250)})})})}setupColorUpdate(e){let t=this.context.content.popup.querySelector(e),i=this.context.content.popup.querySelector(e+"Text");t.addEventListener("mousedown",()=>{document.getElementById("colorPicker").open().then(e=>{i.setAttribute("value",e),t.setAttribute("color",e),this.color=e})})}}class P{constructor(e){this.context=e}open(e){return this.material=this.context.currentObject.settings.material,this.type=this.material.type.substr(4,this.material.type.length-12).toLowerCase(),this.startSection='\n            <a-text font="roboto" baseLine="top" anchor="center" \n            value="'+this.type.charAt(0).toUpperCase()+this.type.substr(1)+' Material Map Settings"\n                    color="#212121" wrap-count="34" width="1.95" height="0.15"></a-text>\n            <a-ui-button class="intersectable repeatSettings" text-value="REPEAT & OFFSET"\n                 width="0.72" height="0.14" ripple-size="0.72 0.14" wrap-count="18"></a-ui-button>\n            <a-plane width="2.9" height="0.01" color="#8f8f8f" shader="flat"></a-plane>\n            <a-entity width="3.0">\n            <a-entity width="1.4">\n            <a-text font="roboto" baseLine="top" anchor="center" \n                    value="1st UV Channel"\n                    color="#212121" wrap-count="16" width="0.8" height="0.15"></a-text>',this.midSection='\n            </a-entity>\n            <a-plane width="0.01" height="1.6" color="#8f8f8f" shader="flat"></a-plane>\n            <a-entity width="1.4">\n            <a-text font="roboto" baseLine="top" anchor="center" \n                    value="2nd UV Channel"\n                    color="#212121" wrap-count="16" width="0.8" height="0.15"></a-text>',this.endSection="</a-entity>\n            </a-entity>",this.context.popupBackStack.push(()=>this.context.materialSettingsModal.open()),document.getElementById("backButton").setAttribute("scale","1 1 1"),this.context.content.loadTemplates(["map-settings-advanced"]).then(()=>{switch(this.type){case"basic":return this.openBasic();case"standard":return this.openStandard();case"lambert":return this.openLambert();case"phong":return this.openPhong();case"depth":return this.openBasic();case"physical":return this.openStandard(!0);case"toon":return this.openPhong(!0)}})}openStandard(){this.context.content.compileTemplates("map-settings-advanced",[{name:"Base Map",url:this.material.map},{name:"Environment Map",url:this.material.envMap,hasNumber:!0,number:this.material.envMapIntensity,numberName:"Intensity"},{name:"Alpha Map",url:this.material.alphaMap},{name:"Bump Map",url:this.material.bumpMap,hasNumber:!0,number:this.material.bumpScale,numberName:"Bump Scale"},{name:"Displacement Map",url:this.material.displacementMap,hasNumber:!0,number:this.material.displacementScale,numberName:"Displacement Scale",hasNumber2:!0,number2:this.material.displacementBias,numberName2:"Displacement Bias"},{name:"Emissive Map",url:this.material.emissiveMap,hasNumber:!0,number:this.material.emissiveIntensity,numberName:"Intensity",hasColor:!0,color:this.material.emissive,colorName:"Emissive Color"},{name:"Roughness Map",url:this.material.roughnessMap,hasNumber:!0,number:this.material.roughness,numberName:"Roughness"},{name:"Metalness Map",url:this.material.metalnessMap,hasNumber:!0,number:this.material.metalness,numberName:"Metalness"},{name:"Normal Map",url:this.material.normalMap,hasNumber:!0,number:this.material.normalScale,numberName:"Normal Scale"},{name:"Light Map",url:this.material.lightMap,hasNumber:!0,number:this.material.lightMapIntensity,numberName:"Intensity"},{name:"Ambient Occlusion Map",url:this.material.aoMap,hasNumber:!0,number:this.material.aoMapIntensity,numberName:"Intensity"}],!0).then(e=>{let t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10];this.context.content.popup.setContent(this.startSection+t+i+n+a+s+l+r+o+u+this.midSection+c+d+this.endSection)}).then(()=>{this.setupRepeatButton(),this.context.viewUtils.setupNumberUpdate("material",".lightmapNumber1","lightMapIntensity"),this.context.viewUtils.setupNumberUpdate("material",".ambientocclusionmapNumber1","aoMapIntensity"),this.context.viewUtils.setupNumberUpdate("material",".environmentmapNumber1","envMapIntensity"),this.context.viewUtils.setupNumberUpdate("material",".roughnessmapNumber1","roughness"),this.context.viewUtils.setupNumberUpdate("material",".metalnessmapNumber1","metalness"),this.context.viewUtils.setupNumberUpdate("material",".emissivemapNumber1","emissiveIntensity"),this.context.viewUtils.setupNumberUpdate("material",".bumpmapNumber1","bumpScale"),this.context.viewUtils.setupNumberUpdate("material",".displacementmapNumber1","displacementScale"),this.context.viewUtils.setupNumberUpdate("material",".displacementmapNumber2","displacementBias"),this.context.viewUtils.setupNumberUpdate("material",".bumpmapNumber1","bumpScale"),this.context.viewUtils.setupColorUpdate(".emissivemapColorInputField","emissive"),this.context.viewUtils.setupSaveMap(".basemapSave",".basemapInput","map"),this.context.viewUtils.setupSaveMap(".roughnessmapSave",".roughnessmapInput","roughnessMap"),this.context.viewUtils.setupSaveMap(".metalnessmapSave",".metalnessmapInput","metalnessMap"),this.context.viewUtils.setupSaveMap(".emissivemapSave",".emissivemapInput","emissiveMap"),this.context.viewUtils.setupSaveMap(".environmentmapSave",".environmentmapInput","envMap"),this.context.viewUtils.setupSaveMap(".alphamapSave",".alphamapInput","alphaMap"),this.context.viewUtils.setupSaveMap(".displacementmapSave",".displacementmapInput","displacementMap"),this.context.viewUtils.setupSaveMap(".lightmapSave",".lightmapInput","lightMap"),this.context.viewUtils.setupSaveMap(".ambientocclusionmapSave",".ambientocclusionmapInput","aoMap")})}setupRepeatButton(){this.context.content.popup.querySelector(".repeatSettings").addEventListener("mousedown",()=>{this.context.popupBackStack.push(()=>this.open()),document.getElementById("backButton").setAttribute("scale","1 1 1"),this.context.repeatSettingsModal.open()})}openBasic(){this.context.content.compileTemplates("map-settings-advanced",[{name:"Base Map",url:this.material.map},{name:"Environment Map",url:this.material.envMap},{name:"Alpha Map",url:this.material.alphaMap},{name:"Specular Map",url:this.material.specularMap},{name:"Light Map",url:this.material.lightMap,hasNumber:!0,number:this.material.lightMapIntensity,numberName:"Intensity"},{name:"Ambient Occlusion Map",url:this.material.aoMap,hasNumber:!0,number:this.material.aoMapIntensity,numberName:"Intensity"}],!0).then(e=>{let t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],a=e[5];this.context.content.popup.setContent(this.startSection+t+i+n+r+this.midSection+o+a+this.endSection)}).then(()=>{this.setupRepeatButton(),this.context.viewUtils.setupNumberUpdate("material",".lightmapNumber1","lightMapIntensity"),this.context.viewUtils.setupNumberUpdate("material",".ambientocclusionmapNumber1","aoMapIntensity"),this.context.viewUtils.setupSaveMap(".basemapSave",".basemapInput","map"),this.context.viewUtils.setupSaveMap(".environmentmapSave",".environmentmapInput","envMap"),this.context.viewUtils.setupSaveMap(".alphamapSave",".alphamapInput","alphaMap"),this.context.viewUtils.setupSaveMap(".specularmapSave",".specularmapInput","specularMap"),this.context.viewUtils.setupSaveMap(".lightmapSave",".lightmapInput","lightMap"),this.context.viewUtils.setupSaveMap(".ambientocclusionmapSave",".ambientocclusionmapInput","aoMap")})}openLambert(){this.context.content.compileTemplates("map-settings-advanced",[{name:"Base Map",url:this.material.map},{name:"Environment Map",url:this.material.envMap},{name:"Alpha Map",url:this.material.alphaMap},{name:"Specular Map",url:this.material.specularMap},{name:"Emissive Map",url:this.material.emissiveMap,hasNumber:!0,number:this.material.emissiveIntensity,numberName:"Intensity",hasColor:!0,color:this.material.emissive,colorName:"Emissive Color"},{name:"Light Map",url:this.material.lightMap,hasNumber:!0,number:this.material.lightMapIntensity,numberName:"Intensity"},{name:"Ambient Occlusion Map",url:this.material.aoMap,hasNumber:!0,number:this.material.aoMapIntensity,numberName:"Intensity"}],!0).then(e=>{let t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],a=e[5],s=e[6];this.context.content.popup.setContent(this.startSection+t+i+n+o+r+this.midSection+a+s+this.endSection)}).then(()=>{this.setupRepeatButton(),this.context.viewUtils.setupNumberUpdate("material",".lightmapNumber1","lightMapIntensity"),this.context.viewUtils.setupNumberUpdate("material",".ambientocclusionmapNumber1","aoMapIntensity"),this.context.viewUtils.setupNumberUpdate("material",".emissivemapNumber1","emissiveIntensity"),this.context.viewUtils.setupColorUpdate(".emissivemapColorInputField","emissive"),this.context.viewUtils.setupSaveMap(".emissivemapSave",".emissivemapInput","emissiveMap"),this.context.viewUtils.setupSaveMap(".basemapSave",".basemapInput","map"),this.context.viewUtils.setupSaveMap(".environmentmapSave",".environmentmapInput","envMap"),this.context.viewUtils.setupSaveMap(".alphamapSave",".alphamapInput","alphaMap"),this.context.viewUtils.setupSaveMap(".specularmapSave",".specularmapInput","specularMap"),this.context.viewUtils.setupSaveMap(".lightmapSave",".lightmapInput","lightMap"),this.context.viewUtils.setupSaveMap(".ambientocclusionmapSave",".ambientocclusionmapInput","aoMap")})}openPhong(){this.context.content.compileTemplates("map-settings-advanced",[{name:"Base Map",url:this.material.map},{name:"Environment Map",url:this.material.envMap},{name:"Alpha Map",url:this.material.alphaMap},{name:"Bump Map",url:this.material.bumpMap,hasNumber:!0,number:this.material.bumpScale,numberName:"Bump Scale"},{name:"Displacement Map",url:this.material.displacementMap,hasNumber:!0,number:this.material.displacementScale,numberName:"Displacement Scale",hasNumber2:!0,number2:this.material.displacementBias,numberName2:"Displacement Bias"},{name:"Emissive Map",url:this.material.emissiveMap,hasNumber:!0,number:this.material.emissiveIntensity,numberName:"Intensity",hasColor:!0,color:this.material.emissive,colorName:"Emissive Color"},{name:"Specular Map",url:this.material.specularMap,hasColor:!0,color:this.material.specular,colorName:"Specular Color"},{name:"Normal Map",url:this.material.normalMap,hasNumber:!0,number:this.material.normalScale,numberName:"Normal Scale"},{name:"Light Map",url:this.material.lightMap,hasNumber:!0,number:this.material.lightMapIntensity,numberName:"Intensity"},{name:"Ambient Occlusion Map",url:this.material.aoMap,hasNumber:!0,number:this.material.aoMapIntensity,numberName:"Intensity"}],!0).then(e=>{let t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7];this.context.content.popup.setContent(this.startSection+t+i+n+a+r+o+this.midSection+s+l+this.endSection)}).then(()=>{this.setupRepeatButton(),this.context.viewUtils.setupNumberUpdate("material",".lightmapNumber1","lightMapIntensity"),this.context.viewUtils.setupNumberUpdate("material",".ambientocclusionmapNumber1","aoMapIntensity"),this.context.viewUtils.setupNumberUpdate("material",".emissivemapNumber1","emissiveIntensity"),this.context.viewUtils.setupNumberUpdate("material",".bumpmapNumber1","bumpScale"),this.context.viewUtils.setupNumberUpdate("material",".displacementmapNumber1","displacementScale"),this.context.viewUtils.setupNumberUpdate("material",".displacementmapNumber2","displacementBias"),this.context.viewUtils.setupNumberUpdate("material",".bumpmapNumber1","bumpScale"),this.context.viewUtils.setupColorUpdate(".emissivemapColorInputField","emissive"),this.context.viewUtils.setupColorUpdate(".specularmapColorInputField","specular"),this.context.viewUtils.setupSaveMap(".basemapSave",".basemapInput","map"),this.context.viewUtils.setupSaveMap(".emissivemapSave",".emissivemapInput","emissiveMap"),this.context.viewUtils.setupSaveMap(".environmentmapSave",".environmentmapInput","envMap"),this.context.viewUtils.setupSaveMap(".alphamapSave",".alphamapInput","alphaMap"),this.context.viewUtils.setupSaveMap(".specularmapSave",".specularmapInput","specularMap"),this.context.viewUtils.setupSaveMap(".lightmapSave",".lightmapInput","lightMap"),this.context.viewUtils.setupSaveMap(".ambientocclusionmapSave",".ambientocclusionmapInput","aoMap")})}}class I{constructor(e){this.context=e}open(){this.material=this.context.currentObject.settings.material,this.startSection='\n            <a-text font="roboto" baseLine="top" anchor="center" \n            value="Material Repeat, Offset & Other Settings"\n                    color="#212121" wrap-count="34" width="1.95" height="0.15"></a-text>\n            <a-plane width="2.9" height="0.01" color="#8f8f8f" shader="flat"></a-plane>\n            <a-entity width="3.0">\n            <a-entity width="1.4">\n            <a-text font="roboto" baseLine="top" anchor="center" \n                    value="1st UV Channel"\n                    color="#212121" wrap-count="16" width="0.8" height="0.15"></a-text>',this.midSection='\n            </a-entity>\n            <a-plane width="0.01" height="3" color="#8f8f8f" shader="flat"></a-plane>\n            <a-entity width="1.4">\n            <a-text font="roboto" baseLine="top" anchor="center" \n                    value="2nd UV Channel"\n                    color="#212121" wrap-count="16" width="0.8" height="0.15"></a-text>',this.endSection="</a-entity>\n            </a-entity>",this.setupDisplayValues(),Promise.all([this.context.content.compileTemplates("number",[{name:"Repeat X 1",number:this.material.texture.repeat.x},{name:"Repeat Y 1",number:this.material.texture.repeat.y},{name:"Offset X 1",number:this.material.texture.offset.x},{name:"Offset Y 1",number:this.material.texture.offset.y},{name:"Repeat X 2",number:this.material.lightTexture.repeat.x},{name:"Repeat Y 2",number:this.material.lightTexture.repeat.y},{name:"Offset X 2",number:this.material.lightTexture.offset.x},{name:"Offset Y 2",number:this.material.lightTexture.offset.y}]),this.context.content.compileTemplates("radios",[{name:"Filter Minification 1",selected:this.displayValues.min[this.material.texture.filters.min],settings:[{name:"Nearest"},{name:"Linear"}]},{name:"Filter Magnification 1",selected:this.displayValues.mag[this.material.texture.filters.mag],settings:[{name:"Nearest"},{name:"Nearest Nearest"},{name:"Nearest Linear"},{name:"Linear"},{name:"Linear Nearest"},{name:"Linear Linear"}]},{name:"Wrapping S 1",selected:this.displayValues.wrap[this.material.texture.wrapping.s],settings:[{name:"Repeat"},{name:"Clamp"},{name:"Mirrored Repeat"}]},{name:"Wrapping T 1",selected:this.displayValues.wrap[this.material.texture.wrapping.t],settings:[{name:"Repeat"},{name:"Clamp"},{name:"Mirrored Repeat"}]},{name:"Filter Minification 2",selected:this.displayValues.min[this.material.texture.filters.min],settings:[{name:"Nearest"},{name:"Linear"}]},{name:"Filter Magnification 2",selected:this.displayValues.mag[this.material.texture.filters.mag],settings:[{name:"Nearest"},{name:"Nearest Nearest"},{name:"Nearest Linear"},{name:"Linear"},{name:"Linear Nearest"},{name:"Linear Linear"}]},{name:"Wrapping S 2",selected:this.displayValues.wrap[this.material.texture.wrapping.s],settings:[{name:"Repeat"},{name:"Clamp"},{name:"Mirrored Repeat"}]},{name:"Wrapping T 2",selected:this.displayValues.wrap[this.material.texture.wrapping.t],settings:[{name:"Repeat"},{name:"Clamp"},{name:"Mirrored Repeat"}]}])]).then(e=>{let t=e[0][0],i=e[0][1],n=e[0][2],r=e[0][3],o=e[1][0],a=e[1][1],s=e[1][2],l=e[1][3],u=e[0][4],c=e[0][5],d=e[0][6],h=e[0][7],p=e[1][4],f=e[1][5],m=e[1][6],_=e[1][7];return this.context.content.popup.setContent(this.startSection+t+i+n+r+o+a+s+l+this.midSection+u+c+d+h+p+f+m+_+this.endSection)}).then(()=>{this.context.viewUtils.setupNumberUpdate("material",".repeatx1","x",!1,"texture","repeat"),this.context.viewUtils.setupNumberUpdate("material",".repeaty1","y",!1,"texture","repeat"),this.context.viewUtils.setupNumberUpdate("material",".offsetx1","x",!1,"texture","offset"),this.context.viewUtils.setupNumberUpdate("material",".offsety1","y",!1,"texture","offset"),this.context.viewUtils.setupNumberUpdate("material",".repeatx2","x",!1,"lightTexture","repeat"),this.context.viewUtils.setupNumberUpdate("material",".repeaty2","y",!1,"lightTexture","repeat"),this.context.viewUtils.setupNumberUpdate("material",".offsetx2","x",!1,"lightTexture","offset"),this.context.viewUtils.setupNumberUpdate("material",".offsety2","y",!1,"lightTexture","offset")})}setupDisplayValues(){this.displayValues={min:{Nearest:THREE.NearestFilter,Linear:THREE.LinearFilter},mag:{Nearest:THREE.NearestFilter,"Nearest Nearest":THREE.NearestMipMapNearestFilter,"Nearest Linear":THREE.NearestMipMapLinearFilter,Linear:THREE.LinearFilter,"Linear Nearest":THREE.LinearMipMapNearestFilter,"Linear Linear":THREE.LinearMipMapLinearFilter},wrap:{Repeat:THREE.RepeatWrapping,Clamp:THREE.ClampToEdgeWrapping,"Mirrored Repeat":THREE.MirroredRepeatWrapping}},this.displayValues.min[THREE.NearestFilter]="Nearest",this.displayValues.min[THREE.LinearFilter]="Linear",this.displayValues.mag[THREE.NearestFilter]="Nearest",this.displayValues.mag[THREE.NearestMipMapNearestFilter]="Nearest Nearest",this.displayValues.mag[THREE.NearestMipMapLinearFilter]="Nearest Linear",this.displayValues.mag[THREE.LinearFilter]="Linear",this.displayValues.mag[THREE.LinearMipMapNearestFilter]="Linear Nearest",this.displayValues.mag[THREE.LinearMipMapLinearFilter]="Linear Linear",this.displayValues.wrap[THREE.RepeatWrapping]="Repeat",this.displayValues.wrap[THREE.ClampToEdgeWrapping]="Clamp",this.displayValues.wrap[THREE.MirroredRepeatWrapping]="Mirrored Repeat"}}class B{constructor(e){this.context=e,this.setupTextures()}open(){this.uiRenderer=document.getElementById("mainRenderer");let e=[];for(let t in this.textures)e.push({name:t,friendly_name:t,image_url:"images/3DTextures-128/"+t+"/"+this.textures[t][0].name+"/"+this.textures[t][0].image});this.context.content.compileTemplates("add-items",[{items:e}],!0).then(e=>this.context.content.popup.setContent(e[0])).then(()=>{let e=this.context.content.popup.querySelectorAll(".type-select");for(let t=0;t<e.length;t++){let i=e[t];i.addEventListener("mousedown",()=>{this.context.popupBackStack.push(()=>this.open()),document.getElementById("backButton").setAttribute("scale","1 1 1"),this.openFolder(i.dataset.key)})}})}openFolder(e){let t=[];for(let i=0;i<this.textures[e].length;i++){let n=this.textures[e][i];t.push({name:n.name+"/"+n.image,friendly_name:n.name,image_url:"images/3DTextures-128/"+e+"/"+n.name+"/"+n.image})}this.context.content.compileTemplates("add-items",[{items:t}],!0).then(e=>this.context.content.popup.setContent(e[0])).then(()=>{let t=this.context.content.popup.querySelectorAll(".type-select");for(let i=0;i<t.length;i++){let n=t[i];n.addEventListener("mousedown",()=>{this.context.popupBackStack.push(()=>this.open()),document.getElementById("backButton").setAttribute("scale","1 1 1"),this.openImage(e,n.dataset.key)})}})}openImage(e,t){this.context.content.compileTemplates("add-items",[{items:[{name:"1024",friendly_name:"1K Image",image_url:"images/icons/1024.jpg"},{name:"512",friendly_name:"0.5K Image",image_url:"images/icons/512.jpg"},{name:"128",friendly_name:"0.128K Image",image_url:"images/icons/128.jpg"}]}],!0).then(e=>this.context.content.popup.setContent(e[0])).then(()=>{let i=this.context.content.popup.querySelectorAll(".type-select");for(let n=0;n<i.length;n++){let r=i[n];r.addEventListener("mousedown",()=>{this.context.popupBackStack.push(()=>this.open()),document.getElementById("backButton").setAttribute("scale","1 1 1"),this.setTextures(e,t,r.dataset.key)})}})}setTextures(e,t,i){let n="images/3DTextures-"+i+"/"+e+"/"+t,r="images/3DTextures-"+i+"/"+e+"/"+t.replace("COLOR.jpg","DISP.jpg"),o="images/3DTextures-"+i+"/"+e+"/"+t.replace("COLOR.jpg","NRM.jpg"),a="images/3DTextures-"+i+"/"+e+"/"+t.replace("COLOR.jpg","OCC.jpg");this.setTexture(n,"map"),this.setTexture(r,"displacementMap"),this.context.currentObject.settings.material.displacementScale=this.context.currentObject.object3D.material.displacementScale=.1,this.setTexture(o,"normalMap"),this.setTexture(a,"aoMap"),this.uiRenderer.modal.close()}setTexture(e,t){let i=this.context.currentObject.settings.material;if(i.hasOwnProperty(t)){let n="texture";"aoMap"!==t&&"lightMap"!==t||(n="lightTexture"),i[t]=e,(new THREE.TextureLoader).load(e,e=>{e.repeat.set(i[n].repeat.x,i[n].repeat.y),e.offset.set(i[n].offset.x,i[n].offset.y),e.wrapS=i[n].wrapping.s,e.wrapT=i[n].wrapping.t,e.minFilter=i[n].filters.min,e.magFilter=i[n].filters.mag,this.context.currentObject.object3D.material[t]=e,this.context.currentObject.object3D.material[t].needsUpdate=!0,this.context.currentObject.object3D.material.needsUpdate=!0})}}setupTextures(){this.textures={Abstract:[{name:"Abstract_001",image:"Abstract_001_COLOR.jpg"},{name:"Abstract_002",image:"Abstract_002_COLOR.jpg"},{name:"Abstract_003",image:"Abstract_003_COLOR.jpg"},{name:"Abstract_004_SD",image:"Abstract_004_COLOR.jpg"},{name:"Abstract_005_SD",image:"Abstract_005_COLOR.jpg"},{name:"Abstract_006_SD",image:"Abstract_006_COLOR.jpg"},{name:"Abstract_007_SD",image:"Abstract_007_COLOR.jpg"},{name:"Organic_Abstract_001_SD",image:"Organic_Abstract_001_COLOR.jpg"}],Asphalt:[{name:"Asphalt 001",image:"Asphalt_001_COLOR.jpg"},{name:"Asphalt_002_SD",image:"Asphalt_002_COLOR.jpg"},{name:"Asphalt_003_SD",image:"Asphalt_003_COLOR.jpg"},{name:"Asphalt_004_SD",image:"Asphalt_004_COLOR.jpg"},{name:"Asphalt_005_SD",image:"Asphalt_005_COLOR.jpg"}],Bark:[{name:"Bark_001_SD",image:"Bark_001_COLOR.jpg"},{name:"Bark_002_SD",image:"Bark_002_COLOR.jpg"}],Brick_wall:[{name:"Brick Wall 001",image:"Brick_Wall_001_COLOR.jpg"},{name:"Brick_wall_002",image:"Brick_wall_002_COLOR.jpg"},{name:"Brick_Wall_008_SD",image:"Brick_Wall_008_COLOR.jpg"},{name:"Brick_Wall_009_SD",image:"Brick_Wall_009_COLOR.jpg"},{name:"Brick_Wall_010_SD",image:"Brick_Wall_010_COLOR.jpg"},{name:"Brick_Wall_011_SD",image:"Brick_Wall_011_COLOR.jpg"},{name:"Brick_wall_012_SD",image:"Brick_wall_012_COLOR.jpg"},{name:"Brick_Wall_013_SD",image:"Brick_Wall_013_COLOR.jpg"},{name:"Old_Graffiti_Wall_001_SD",image:"Old_Graffiti_Wall_001_COLOR.jpg"}],Bronze:[{name:"Bronze 001",image:"Bronze_001_COLOR.jpg"},{name:"Bronze 002",image:"Bronze_002_COLOR.jpg"},{name:"Bronze 003",image:"Bronze_003_COLOR.jpg"},{name:"Bronze 004",image:"Bronze_004_COLOR.jpg"},{name:"Bronze 005",image:"Bronze_005_COLOR.jpg"}],Concrete:[{name:"Concrete 001",image:"Concrete_001_COLOR.jpg"},{name:"Concrete 002",image:"Concrete_002_COLOR.jpg"},{name:"Concrete 003",image:"Concrete_003_COLOR.jpg"},{name:"Concrete 004",image:"Concrete_004_COLOR.jpg"},{name:"Concrete 005",image:"Concrete_005_COLOR.jpg"},{name:"Concrete 006",image:"Concrete_006_COLOR.jpg"},{name:"Concrete_007",image:"Concrete_007_COLOR.jpg"},{name:"Concrete_008_SD",image:"Concrete_008_COLOR.jpg"},{name:"Concrete_009_SD",image:"Concrete_009_COLOR.jpg"},{name:"Concrete_010_SD",image:"Concrete_010_COLOR.jpg"},{name:"Concrete_Damaged_001_SD",image:"Concrete_Damaged_001_COLOR.jpg"},{name:"Concrete_panels_001_SD",image:"Concrete_panels_001_COLOR.jpg"}],Dirt:[{name:"Dirt 001",image:"Dirt_001_COLOR.jpg"},{name:"Dirt_002",image:"Dirt_002_COLOR.jpg"},{name:"Dirt_003",image:"Dirt_003_COLOR.jpg"},{name:"Dirt_004_SD",image:"Dirt_004_COLOR.jpg"},{name:"Ground_Dirt_005_SD",image:"Ground_Dirt_005_COLOR.jpg"}],Fabric:[{name:"Camouflage_fabric_002_SD",image:"Camouflage_fabric_002_COLOR.jpg"},{name:"Camo_001",image:"Camo_001_COLOR.jpg"},{name:"Denim_001",image:"Denim_001_COLOR.jpg"},{name:"Knited_Fabric_001_SD",image:"Knited_Fabric_001_COLOR.jpg"},{name:"Padded_fabric_001",image:"Padded_fabric_001_COLOR.jpg"},{name:"Rug_001",image:"Rug_001_COLOR.jpg"},{name:"Rug_002",image:"Rug_002_COLOR.jpg"},{name:"Striped Fabric 001",image:"Striped_Fabric_001_COLOR.jpg"},{name:"Tweed_001_SD",image:"Tweed_001_COLOR.jpg"}],Flooring:[{name:"Cobblestone_001_SD",image:"Cobblestone_001_COLOR.jpg"},{name:"Pavement_Brick_001_SD",image:"Pavement_Brick_001_COLOR.jpg"},{name:"Portuguese Flor 001_SD",image:"Portuguese_Floor_001_COLOR.jpg"},{name:"Slate Flooring 001_SD",image:"Slate Flooring 001_COLOR.jpg"},{name:"Stone_Floor_002_SD",image:"Stone_Floor_002_COLOR.jpg"},{name:"Stone_Floor_003_SD",image:"Stone_Floor_003_COLOR.jpg"},{name:"Stone_Tiles_001_SD",image:"Stone_Tiles_001_COLOR.jpg"},{name:"Stone_Tiles_002_SD",image:"Stone_Tiles_002_COLOR.jpg"},{name:"Terracota_floor_tiles_001_SD",image:"Terracota_floor_tiles_001_COLOR.jpg"}],Gems:[{name:"Crystal_001_SD",image:"Crystal_001_COLOR.jpg"},{name:"Crystal_002_SD",image:"Crystal_002_COLOR.jpg"},{name:"Crystal_003_SD",image:"Crystal_003_COLOR.jpg"},{name:"Crystal_Metal_001_SD",image:"Crystal_Metal_001_COLOR.jpg"},{name:"Incrusted_Gems_001_SD",image:"Incrusted_Gems_001_COLOR.jpg"},{name:"Lapis_Lazuli_001_SD",image:"Lapis_Lazuli_001_COLOR.jpg"},{name:"Volcanic Glass 001",image:"Volcanic_glass_001_COLOR.jpg"}],Granite:[{name:"Granite_001_SD",image:"Granite_001_COLOR.jpg"},{name:"Granite_002_SD",image:"Granite_002_COLOR.jpg"}],Lava:[{name:"Lava 001",image:"Lava_001_COLOR.jpg"},{name:"Lava 002",image:"Lava_002_COLOR.jpg"},{name:"Lava 003",image:"Lava_003_COLOR.jpg"},{name:"Lava_004_SD",image:"Lava_004_COLOR.jpg"}],Leather:[{name:"Leather_001",image:"Leather_001_COLOR.jpg"},{name:"Leather_002",image:"Leather_002_COLOR.jpg"},{name:"Leather_003",image:"Leather_003_COLOR.jpg"},{name:"Leather_004",image:"Leather_004_COLOR.jpg"}],Marble:[{name:"Black_Marble_001",image:"Black_Marble_001_COLOR.jpg"},{name:"Blue_Marble_001",image:"Blue_Marble_001_COLOR.jpg"},{name:"Blue_Marble_002_SD",image:"Blue_Marble_002_COLOR.jpg"},{name:"Marble Colored 001",image:"marble_coloured_001_COLOR.jpg"},{name:"Red_Marble_001",image:"Red_Marble_001_COLOR.jpg"},{name:"Red_Marble_002",image:"Red_Marble_002_COLOR.jpg"},{name:"Rough_Marble_001",image:"Rough_Marble_001_COLOR.jpg"},{name:"White_Marble_001",image:"White_Marble_001_COLOR.jpg"},{name:"White_Marble_002",image:"White_Marble_002_COLOR.jpg"},{name:"White_Marble_003",image:"White_Marble_003_COLOR.jpg"},{name:"White_Marble_004_SD",image:"White_Marble_004_COLOR.jpg"}],Metal:[{name:"Alien_Metal_002_SD",image:"Alien_Metal_002_COLOR.jpg"},{name:"Coin_Stack_001_SD",image:"Coin_Stack_001_COLOR.jpg"},{name:"Corrugated_Metal_001_SD",image:"Corrugated_Metal_001_COLOR.jpg"},{name:"Corrugated_Metal_002_SD",image:"Corrugated_Metal_002_COLOR.jpg"},{name:"Corrugated_Metal_003_SD",image:"Corrugated_Metal_003_COLOR.jpg"},{name:"Corrugated_Metal_004_SD",image:"Corrugated_Metal_004_COLOR.jpg"},{name:"Gold_Nugget_001_SD",image:"Gold_Nugget_001_COLOR.jpg"},{name:"Gun_Metal_Scratched_001_SD",image:"Gun_Metal_Scratched_001_COLOR.jpg"},{name:"Metal Alien 001",image:"Metal_Alien_001_COLOR.jpg"},{name:"Metal Panel 002_SD",image:"Metal_Panel_002_COLOR.jpg"},{name:"Metal Panel 003_SD",image:"Metal_Panel_003_COLOR.jpg"},{name:"Metal Panel 004_SD",image:"Metal_Panel_004_COLOR.jpg"},{name:"Metal Panel 005_SD",image:"Metal_Panel_005_COLOR.jpg"},{name:"Metal_Crystals_001_SD",image:"Metal_Crystals_001_COLOR.jpg"},{name:"Metal_Crystals_002_SD",image:"Metal_Crystals_002_COLOR.jpg"},{name:"Metal_dented_001",image:"Metal_dented_001_COLOR.jpg"},{name:"Metal_galvanized_001",image:"Metal_galvanized_001_COLOR.jpg"},{name:"Metal_Panel_001_SD",image:"Metal_Panel_001_COLOR.jpg"},{name:"Metal_Plate_008_SD",image:"Metal_Plate_008_COLOR.jpg"},{name:"Metal_scratched_001",image:"Metal_scratched_001_COLOR.jpg"},{name:"Metal_scratched_002",image:"Metal_scratched_002_COLOR.jpg"},{name:"Metal_scratched_003",image:"Metal_scratched_003_COLOR.jpg"},{name:"Metal_scratched_004",image:"Metal_scratched_004_COLOR.jpg"},{name:"Metal_scratched_005",image:"Metal_scratched_005_COLOR.jpg"},{name:"Metal_scratched_006",image:"Metal_scratched_006_COLOR.jpg"}],"Metal Armor":[{name:"Metal_weave_001",image:"Metal_weave_001_COLOR.jpg"},{name:"Metal_Weave_002_SD",image:"Metal_Weave_002_COLOR.jpg"}],"Metal Grunge":[{name:"Metal_grunge_001",image:"Metal_grunge_001_COLOR.jpg"},{name:"Metal_grunge_002",image:"Metal_grunge_002_COLOR.jpg"},{name:"Metal_grunge_003",image:"Metal_grunge_003_COLOR.jpg"},{name:"Metal_Grunge_004_SD",image:"Metal_Grunge_004_COLOR.jpg"}],"Metal Pattern":[{name:"Engraved_Metal_001_SD",image:"Engraved_Metal_001_COLOR.jpg"},{name:"Engraved_Metal_002_SD",image:"Engraved_Metal_002_COLOR.jpg"},{name:"Engraved_Metal_003_SD",image:"Engraved_Metal_003_COLOR.jpg"},{name:"Metal_Diamond_001_SD",image:"Metal_Diamond_001_COLOR.jpg"},{name:"Metal_Grill_001_SD",image:"Metal_Grill_001_COLOR.jpg"},{name:"Metal_Mesh_001_SD",image:"Metal_Mesh_001_COLOR.jpg"},{name:"Metal_Pattern_001_SD",image:"Metal_Pattern_001_COLOR.jpg"},{name:"Metal_Plate_001",image:"Metal_Plate_001_COLOR.jpg"},{name:"Metal_Plate_002_SD",image:"Metal_Plate_002_COLOR.jpg"},{name:"Metal_Plate_003_SD",image:"Metal_Plate_003_COLOR.jpg"},{name:"Metal_Plate_004",image:"Metal_Plate_004_COLOR.jpg"},{name:"Metal_Plate_005_SD",image:"Metal_Plate_005_COLOR.jpg"},{name:"Metal_Plate_006_SD",image:"Metal_Plate_006_COLOR.jpg"},{name:"Metal_Plate_007_SD",image:"Metal_Plate_007_COLOR.jpg"},{name:"Metal_Plate_009_SD",image:"Metal_Plate_009_COLOR.jpg"},{name:"Metal_Scales_001_SD",image:"Metal_Scales_001_COLOR.jpg"}],"Metal Rusted":[{name:"Metal_Rusted_001",image:"Metal_Rusted_001_COLOR.jpg"},{name:"Metal_Rusted_002",image:"Metal_Rusted_002_COLOR.jpg"},{name:"Metal_Rusted_003",image:"Metal_Rusted_003_COLOR.jpg"},{name:"Metal_Rusted_004",image:"Metal_Rusted_004_COLOR.jpg"},{name:"Metal_Rusted_005",image:"Metal_Rusted_005_COLOR.jpg"},{name:"Metal_Rusted_006",image:"Metal_Rusted_006_COLOR.jpg"},{name:"Metal_Rusted_007",image:"Metal_Rusted_007_COLOR.jpg"}],"Metal Rusted Painted Peeling":[{name:"Metal_rusted_painted_001",image:"Metal_rusted_painted_001_COLOR.jpg"},{name:"Metal_rusted_painted_002",image:"Metal_rusted_painted_002_COLOR.jpg"},{name:"Metal_rusted_painted_003",image:"Metal_rusted_painted_003_COLOR.jpg"},{name:"Metal_rusted_painted_004",image:"Metal_rusted_painted_004_COLOR.jpg"},{name:"Metal_rusted_painted_005",image:"Metal_rusted_painted_005_COLOR.jpg"}],Misc:[{name:"Cereals_001_SD",image:"Cereals_001_COLOR.jpg"},{name:"Hazard_Paint_001_SD",image:"Hazard_Paint_001_COLOR.jpg"},{name:"Strawberry_milkshake_foam_001_SD",image:"Strawberry_milkshake_foam_001_COLOR.jpg"},{name:"Sushi_Rice_001",image:"Sushi_Rice_001_COLOR.jpg"}],Mud:[{name:"Cracked_Mud_001_SD",image:"Cracked_Mud_001_COLOR.jpg"}],"Organic Animal":[{name:"Alien Flesh 002",image:"Alien_Flesh_002_COLOR.jpg"},{name:"Alien_Flesh_001",image:"Alien_Flesh_001_COLOR.jpg"},{name:"Alien_Muscle_001_SD",image:"Alien_Muscle_001_COLOR.jpg"},{name:"Bacteria_001_SD",image:"Bacteria_001_COLOR.jpg"},{name:"Bone_structure_001",image:"Bone_structure_001_COLOR.jpg"},{name:"Brain_Matter_001_SD",image:"Brain_Matter_001_COLOR.jpg"},{name:"Human_skin_001",image:"Human_skin_001_COLOR.jpg"},{name:"Organic_Matter_001_SD",image:"Organic_Matter_001_COLOR.jpg"}],"Organic Vegetable":[{name:"Avocado_skin_SD",image:"Avocado_skin_COLOR.jpg"},{name:"Basket_weave_001_SD",image:"Basket_weave_001_COLOR.jpg"},{name:"Cork 001",image:"Cork_001_COLOR.jpg"},{name:"Dead_leaves_001",image:"Dead_leaves_001_COLOR.jpg"},{name:"Grass_001",image:"Grass_001_COLOR.jpg"},{name:"Grass_001_SD",image:"Grass_001_COLOR.jpg"},{name:"Grass_002",image:"Grass_002_COLOR.jpg"},{name:"Grass_003_SD",image:"Grass_003_COLOR.jpg"},{name:"Grass_004_SD",image:"Grass_004_COLOR.jpg"},{name:"Orange_001_SD",image:"Orange_001_COLOR.jpg"},{name:"Wood_bits_001",image:"Wood_bits_001_COLOR.jpg"}],Pebbles:[{name:"Pebbles 001",image:"Pebbles_001_COLOR.jpg"},{name:"Pebbles 002",image:"Pebbles_002_COLOR.jpg"},{name:"Pebbles_003_SD",image:"Pebbles_003_COLOR.jpg"},{name:"Pebbles_004_SD",image:"Pebbles_004_COLOR.jpg"},{name:"Rubble_001_SD",image:"Rubble_001_COLOR.jpg"}],Plaster:[{name:"Plaster_001_SD",image:"Plaster_001_COLOR.jpg"},{name:"Plaster_002_SD",image:"Plaster_002_COLOR.jpg"}],Plastic:[{name:"Plastic_001_SD",image:"Plastic_001_COLOR.jpg"}],"Roof Tiles":[{name:"Wood Roof Tiles 001_SD",image:"Wood_Roof_Tiles_001_COLOR.jpg"}],Rough_stones:[{name:"Canyon_Rock_001_SD",image:"Canyon_Rock_001_COLOR.jpg"},{name:"Moon_001_SD",image:"Moon_001_COLOR.jpg"},{name:"Rock_023_SD",image:"Rock_023_COLOR.jpg"},{name:"Rock_Ore_001_SD",image:"Rock_Ore_001_COLOR.jpg"},{name:"Rock_Ore_002_SD",image:"Rock_Ore_002_COLOR.jpg"},{name:"Rough Rock 001",image:"Rough_Rock_001_COLOR.jpg"},{name:"Rough Rock 002",image:"Rough_Rock_002_COLOR.jpg"},{name:"Rough Rock 003",image:"Rough_Rock_003_COLOR.jpg"},{name:"Rough Rock 004",image:"Rough_Rock_004_COLOR.jpg"},{name:"Rough Rock 005",image:"Rough_Rock_005_COLOR.jpg"},{name:"Rough Rock 006",image:"Rough_Rock_006_COLOR.jpg"},{name:"Rough Rock 007",image:"Rough_Rock_007_COLOR.jpg"},{name:"Rough Rock 008",image:"Rough_Rock_008_COLOR.jpg"},{name:"Rough Rock 009",image:"Rough_Rock_009_COLOR.jpg"},{name:"Rough_rock_011",image:"Rough_rock_011_COLOR.jpg"},{name:"Rough_rock_012",image:"Rough_rock_012_COLOR.jpg"},{name:"Rough_rock_013",image:"Rough_rock_013_COLOR.jpg"},{name:"Rough_rock_014",image:"Rough_rock_014_COLOR.jpg"},{name:"Rough_rock_015",image:"Rough_rock_015_COLOR.jpg"},{name:"Rough_rock_017",image:"Rough_rock_017_COLOR.jpg"},{name:"Rough_rock_018",image:"Rough_rock_018_COLOR.jpg"},{name:"Rough_rock_019",image:"Rough_rock_019_COLOR.jpg"},{name:"Rough_rock_020",image:"Rough_rock_020_COLOR.jpg"},{name:"Rough_rock_021",image:"Rough_rock_021_COLOR.jpg"},{name:"Rough_Rock_022_SD",image:"Rough_Rock_022_COLOR.jpg"}],Sand:[{name:"Sand 001",image:"Sand_001_COLOR.jpg"},{name:"Sand 002",image:"Sand 002_COLOR.jpg"},{name:"Sand_003_SD",image:"Sand_003_COLOR.jpg"}],Sandstone_rock:[{name:"Sandstone 001",image:"Sandstone_rock_001_COLOR.jpg"},{name:"Sandstone 002",image:"Sandstone_rock_002_COLOR.jpg"}],Snow:[{name:"Snow_001_SD",image:"Snow_001_COLOR.jpg"},{name:"Snow_002_SD",image:"Snow_002_COLOR.jpg"},{name:"Snow_003_SD",image:"Snow_003_COLOR.jpg"}],Soil:[{name:"Dried_Soil_001",image:"Dried_Soil_001_COLOR.jpg"}],"Stone Floor":[{name:"Flooring_Stone_001",image:"Flooring_Stone_001_COLOR.jpg"},{name:"Stone Floor 002",image:"Stone_Floor_002_COLOR.jpg"},{name:"Stone Floor 003",image:"Stone_Floor_003_COLOR.jpg"},{name:"Stone_Floor_004",image:"Stone_Floor_004_COLOR.jpg"}],Tiles:[{name:"Azulejos_001_2K",image:"Azulejos_001_COLOR.jpg"},{name:"Azulejos_002_SD",image:"Azulejos_002_COLOR.jpg"},{name:"Azulejos_003_SD",image:"Azulejos_003_COLOR.jpg"},{name:"Subway_tiles_001_SD",image:"Subway_tiles_001_COLOR.jpg"},{name:"Tiles 001",image:"Tiles_001_COLOR.jpg"},{name:"Tiles 002",image:"Tiles_002_COLOR.jpg"},{name:"Tiles 003",image:"Tiles_003_COLOR.jpg"},{name:"Tiles 004",image:"Tiles_004_COLOR.jpg"},{name:"Tiles 007",image:"Tiles 007_COLOR.jpg"},{name:"Tiles_006",image:"Tiles_006_COLOR.jpg"},{name:"Tiles_008_SD",image:"Tiles_008_COLOR.jpg"},{name:"Tiles_009_SD",image:"Tiles_009_COLOR.jpg"},{name:"Tiles_010_SD",image:"Tiles_010_COLOR.jpg"},{name:"Tiles_012_SD",image:"Tiles_012_COLOR.jpg"},{name:"Tiles_013_SD",image:"Tiles_013_COLOR.jpg"},{name:"Tiles_014_SD",image:"Tiles_014_COLOR.jpg"},{name:"Tiles_011_SD",image:"Tiles_011_COLOR.jpg"}],"Wall Brick":[{name:"Brick_wall_006",image:"Brick_wall_006_COLOR.jpg"},{name:"Brick_wall_007",image:"Brick_wall_007_COLOR.jpg"}],"Wall Damaged":[{name:"Wall Damaged 001",image:"Wall_Damaged_001_COLOR.jpg"}],"Wall Painted":[{name:"Rough_Painted_Wall_001_SD",image:"Rough_Painted_Wall_001_COLOR.jpg"}],"Wall paper":[{name:"Wallpaper_001",image:"Wallpaper_001_COLOR.jpg"}],"Wall Stone":[{name:"Stone Wall 001",image:"Stone_Wall_001_COLOR.jpg"},{name:"Stone Wall 002",image:"Stone_Wall_002_COLOR.jpg"},{name:"Stone Wall 003",image:"Stone_Wall_003_COLOR.jpg"},{name:"Stone Wall 004",image:"Stone_Wall_004_COLOR.jpg"},{name:"Stone_Wall_005_SD",image:"Stone_Wall_005_COLOR.jpg"},{name:"Stone_Wall_006_SD",image:"Stone_Wall_006_COLOR.jpg"},{name:"Stone_Wall_007_SD",image:"Stone_Wall_007_COLOR.jpg"},{name:"Stone_wall_008_SD",image:"Stone_wall_008_COLOR.jpg"},{name:"Stone_Wall_009_SD",image:"Stone_Wall_009_COLOR.jpg"}],"Water and Ice":[{name:"Ice_001",image:"Ice_001_COLOR.jpg"},{name:"Ice_002_SD",image:"Ice_002_COLOR.jpg"},{name:"Water_001_SD",image:"Water_001_COLOR.jpg"}],Wood:[{name:"Aspen_bark_001_SD",image:"Aspen_bark_001_COLOR.jpg"},{name:"Bamboo_001",image:"Bamboo_001_COLOR.jpg"},{name:"Burnt_wood_001_SD",image:"Burnt_wood_001_COLOR.jpg"},{name:"Grainy_Wood_001_SD",image:"Grainy_Wood_001_COLOR.jpg"},{name:"Old_Wood_001_SD",image:"Old_Wood_001_COLOR.jpg"},{name:"Particle Board 001_SD",image:"Particle_Board_001_COLOR.jpg"},{name:"Stylized_Bark_001_SD",image:"Stylized_Bark_001_COLOR.jpg"},{name:"Stylized_Bark_002_SD",image:"Stylized_Bark_002_COLOR.jpg"},{name:"Wood_001_SD",image:"Wood_001_COLOR.jpg"},{name:"Wood_002_SD",image:"Wood_002_COLOR.jpg"},{name:"Wood_003_SD",image:"Wood_003_COLOR.jpg"},{name:"Wood_004_SD",image:"Wood_004_COLOR.jpg"},{name:"Wood_005_SD",image:"Wood_005_COLOR.jpg"},{name:"Wood_Wall_001_SD",image:"Wood_Wall_001_COLOR.jpg"}],"Wood floor":[{name:"Wood Floor 001",image:"Wood_Floor_001_COLOR.jpg"},{name:"Wood Floor 002",image:"Wood_Floor_002_COLOR.jpg"},{name:"Wood Floor 003",image:"Wood_Floor_003_COLOR.jpg"},{name:"Wood Floor 004",image:"Wood_Floor_004_COLOR.jpg"},{name:"Wood Floor 005_SD",image:"Wood_Floor_005_COLOR.jpg"},{name:"Wood Floor_006_SD",image:"Wood_Floor_006_COLOR.jpg"},{name:"Wood Floor_007_SD",image:"Wood_Floor_007_COLOR.jpg"},{name:"Wood Floor_008_SD",image:"Wood_Floor_008_COLOR.jpg"}],"Wood Plancks":[{name:"Wood_plancks_003",image:"Wood_plancks_003_COLOR.jpg"},{name:"Wood_plancks_004",image:"Wood_plancks_004_COLOR.jpg"},{name:"Wood_plancks_005_SD",image:"Wood_plancks_005_COLOR.jpg"},{name:"Wood_plancks_006_SD",image:"Wood_plancks_006_COLOR.jpg"},{name:"Wood_Planks_008_SD",image:"Wood_Planks_008_COLOR.jpg"},{name:"Wood_Planks_009_SD",image:"Wood_Planks_009_COLOR.jpg"},{name:"Wood_plank_007_SD",image:"Wood_plank_007_COLOR.jpg"}]}}}document.addEventListener("DOMContentLoaded",()=>{document.querySelector("a-scene").addEventListener("loaded",()=>{window.main=new class{constructor(){this.session=new a(this),this.content=new o(this),this.friendly_names=new h,this.namer=new d.a,this.sceneGraph=new s.a(this),this.breadCrumbs=new T(this),this.setupViews(),this.setupModals(),this.editor=document.getElementById("editorContainer"),this.sceneEl=document.querySelector("a-scene"),this.sceneEl.addEventListener("modal-closed",()=>{this.content.popup.components["ui-scroll-pane"].setContent("")});let e=document.getElementById("loadingText"),t=document.getElementById("loadingTextBack"),i=0;this.sceneEl.addEventListener("scene-load-start",()=>{i=(new Date).getTime(),t.setAttribute("scale","1 1 1")}),this.sceneEl.addEventListener("scene-loading",n=>{e.setAttribute("value",Math.round(100*n.detail)+"%"),1===n.detail&&(console.log("Scene loaded in: "+((new Date).getTime()-i)/1e3+"s"),setTimeout(()=>{e.setAttribute("value",""),t.setAttribute("scale","0 0 0")},500))}),new C(this).preload(),this.sceneEl.context=this,this.sceneList.open(),this.setupTopMenu(),this.setupPopupNavigation(),this.setupTransformOptions(),this.showAlphaMap=(new THREE.TextureLoader).load("images/nav-alpha.jpg"),this.hideAlphaMap=(new THREE.TextureLoader).load("images/nav-alpha-hide.jpg"),this.showMaterial=document.getElementById("uiPanel").getObject3D("mesh").material,this.showMaterial.transparent=!0,this.showMaterial.alphaMap=this.hideAlphaMap,this.displayBox=document.getElementById("displayBox").components["display-box"],this.displayBox.hide(),this.sceneEl.addEventListener("transform-update",()=>{this.transformUpdate&&this.transformUpdate()}),document.getElementById("topTitle").addEventListener("mousedown",()=>{this.itemView.open()}),this.precision=1;let n=document.getElementById("precisionButton");n.addEventListener("mousedown",()=>{this.precision/=10,this.precision<.001&&(this.precision=100),n.components["ui-toast"].data.toastEl.setAttribute("text-value","Precision: "+this.precision)});let r=document.getElementById("popupPrecision");r.addEventListener("mousedown",()=>{this.precision/=10,this.precision<.001&&(this.precision=100),r.components["ui-toast"].data.toastEl.setAttribute("text-value","Precision: "+this.precision)}),this.cameraDummy=document.getElementById("cameraDummyPosition"),document.getElementById("menuButton").addEventListener("click",()=>this.openEditor()),document.getElementById("closeEditor").addEventListener("mousedown",()=>this.closeEditor())}setupPopupNavigation(){document.getElementById("backButton").addEventListener("mousedown",()=>this.popupBack()),document.getElementById("closePopup").addEventListener("mousedown",()=>this.popupBackStack.length=0),this.popupBackStack=[]}popupBack(){let e=this.popupBackStack.pop();e&&e()}setupViews(){this.sceneList=new l(this),this.itemView=new u(this),this.popupView=new c(this),this.viewUtils=new E(this)}setupModals(){this.objectTypeModal=new p(this),this.primitiveTypeModal=new f(this),this.parametricTypeModal=new m(this),this.lightTypeModal=new _(this),this.prefabOptionModal=new g(this),this.kennyCategories=new b(this),this.kennyModelsModal=new v(this),this.avatarCategories=new y(this),this.avatarModelsModal=new w(this),this.clearSceneModal=new j(this),this.savePrefabModal=new M(this),this.behavioursModal=new S(this),this.transformModal=new L(this),this.materialTypeModal=new k(this),this.materialSettingsModal=new R(this),this.mapSettingsModal=new P(this),this.repeatSettingsModal=new I(this),this.loadTextureModal=new B(this),this.geometryTypeModal=new x(this),this.geometrySettingsModal=new A(this),this.objectMaterial=new O(this)}setupTransformOptions(){let e=document.getElementById("gizmos");document.getElementById("positionButton").addEventListener("mousedown",()=>{e.setAttribute("gizmo","mode:position")}),document.getElementById("rotationButton").addEventListener("mousedown",()=>{e.setAttribute("gizmo","mode:rotation")}),document.getElementById("scaleButton").addEventListener("mousedown",()=>{e.setAttribute("gizmo","mode:scale")})}showObject(){this.showMaterial.alphaMap=this.showAlphaMap,this.showMaterial.alphaMap.needsUpdate=!0,setTimeout(()=>{this.showMaterial.alphaMap=this.hideAlphaMap,this.showMaterial.alphaMap.needsUpdate=!0},2500)}setupTopMenu(){}closeEditor(){let e=this;new TWEEN.Tween({x:.5}).to({x:1e-7},650).onUpdate(function(){e.editor.setAttribute("scale",this.x+" "+this.x+" "+this.x)}).easing(TWEEN.Easing.Exponential.Out).start()}openEditor(){this.cameraDummy.object3D.position.set(0,0,-.8),this.cameraDummy.object3D.updateMatrixWorld();let e=this;new TWEEN.Tween({x:1e-7}).to({x:.5},650).onUpdate(function(){e.editor.setAttribute("scale",this.x+" "+this.x+" "+this.x)}).easing(TWEEN.Easing.Exponential.Out).start(),new TWEEN.Tween(e.editor.getAttribute("position")).to(this.cameraDummy.object3D.localToWorld(new THREE.Vector3(0,0,0)),250).easing(TWEEN.Easing.Exponential.Out).start();let t=new THREE.Quaternion;this.cameraDummy.object3D.updateMatrixWorld(),this.cameraDummy.object3D.matrixWorld.decompose(new THREE.Vector3,t,new THREE.Vector3),new TWEEN.Tween(this.editor.object3D.quaternion).to(t,500).easing(TWEEN.Easing.Exponential.Out).start()}}})})},function(e,t,i){"use strict";i.r(t);let n=i(16).version;if(console.log("aframe-material-collection version "+n),"undefined"==typeof AFRAME)throw'aframe-material-collection requires AFRAME to be loaded first. - <script src="https://aframe.io/releases/0.8.2/aframe.min.js"><\/script>';let r=new class{constructor(){this.changesDetected=[],this.is_changeing=!1}isFirstOrLastChange(){!this.is_changeing&&this.changesDetected.length?(this.scene.emit("ui-changing"),this.is_changeing=!0):this.is_changeing&&!this.changesDetected.length&&this.is_changeing&&(this.scene.emit("ui-changing-stopped"),this.is_changeing=!1)}preventDefault(e){e.detail&&e.detail.preventDefault&&"function"==typeof e.detail.preventDefault&&e.detail.preventDefault()}shorten(e,t){return e.length>t?e.substr(0,t)+"...":e}isChanging(e,t){-1===this.changesDetected.indexOf(t)&&(this.scene=this.scene||e,this.changesDetected.push(t),this.isFirstOrLastChange())}stoppedChanging(e){let t=this.changesDetected.indexOf(e);t>-1&&this.changesDetected.splice(t,1),this.isFirstOrLastChange()}};window.UI={utils:r,a_ui_button:i(17),a_ui_fab_button:i(18),a_ui_fab_button_small:i(19),a_ui_switch:i(20),a_ui_toast:i(21),a_ui_checkbox:i(22),a_ui_radio:i(23),a_ui_input_text:i(24),a_ui_text_input:i(25),a_ui_number_input:i(26),a_ui_int_input:i(27),a_ui_password_input:i(28),a_ui_scroll_pane:i(29),a_ui_renderer:i(30),text:i(31),input_text:i(32),btn:i(33),icon:i(34),rounded:i(35),ripple:i(36),switch:i(37),toast:i(38),scroll_pane:i(39),mouse_shim:i(40),double_click:i(41),checkbox:i(42),radio:i(43),border:i(44),curvedPlane:i(45),colorPicker:i(46),modal:i(47),renderer:i(48),yoga_properties:i(49)}}]);